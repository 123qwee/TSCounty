!function(){var curSystem="undefined"!=typeof System?System:void 0;!function(global){"use strict";function setupGlobals(global){global.Reflect=global.Reflect||{},global.Reflect.global=global.Reflect.global||global}if(!global.$traceurRuntime){setupGlobals(global);var typeOf=function(x){return typeof x};global.$traceurRuntime={options:{},setupGlobals:setupGlobals,typeof:typeOf}}}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this),function(){function buildFromEncodedParts(opt_scheme,opt_userInfo,opt_domain,opt_port,opt_path,opt_queryData,opt_fragment){var out=[];return opt_scheme&&out.push(opt_scheme,":"),opt_domain&&(out.push("//"),opt_userInfo&&out.push(opt_userInfo,"@"),out.push(opt_domain),opt_port&&out.push(":",opt_port)),opt_path&&out.push(opt_path),opt_queryData&&out.push("?",opt_queryData),opt_fragment&&out.push("#",opt_fragment),out.join("")}function split(uri){return uri.match(splitRe)}function removeDotSegments(path){if("/"===path)return"/";for(var leadingSlash="/"===path[0]?"/":"",trailingSlash="/"===path.slice(-1)?"/":"",segments=path.split("/"),out=[],up=0,pos=0;pos<segments.length;pos++){var segment=segments[pos];switch(segment){case"":case".":break;case"..":out.length?out.pop():up++;break;default:out.push(segment)}}if(!leadingSlash){for(;up-- >0;)out.unshift("..");0===out.length&&out.push(".")}return leadingSlash+out.join("/")+trailingSlash}function joinAndCanonicalizePath(parts){var path=parts[ComponentIndex.PATH]||"";return path=removeDotSegments(path),parts[ComponentIndex.PATH]=path,buildFromEncodedParts(parts[ComponentIndex.SCHEME],parts[ComponentIndex.USER_INFO],parts[ComponentIndex.DOMAIN],parts[ComponentIndex.PORT],parts[ComponentIndex.PATH],parts[ComponentIndex.QUERY_DATA],parts[ComponentIndex.FRAGMENT])}function canonicalizeUrl(url){return joinAndCanonicalizePath(split(url))}function resolveUrl(base,url){var parts=split(url),baseParts=split(base);if(parts[ComponentIndex.SCHEME])return joinAndCanonicalizePath(parts);parts[ComponentIndex.SCHEME]=baseParts[ComponentIndex.SCHEME];for(var i=ComponentIndex.SCHEME;i<=ComponentIndex.PORT;i++)parts[i]||(parts[i]=baseParts[i]);if("/"==parts[ComponentIndex.PATH][0])return joinAndCanonicalizePath(parts);var path=baseParts[ComponentIndex.PATH],index=path.lastIndexOf("/");return path=path.slice(0,index+1)+parts[ComponentIndex.PATH],parts[ComponentIndex.PATH]=path,joinAndCanonicalizePath(parts)}function isAbsolute(name){return!!name&&("/"===name[0]||!!split(name)[ComponentIndex.SCHEME])}var splitRe=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),ComponentIndex={SCHEME:1,USER_INFO:2,DOMAIN:3,PORT:4,PATH:5,QUERY_DATA:6,FRAGMENT:7};$traceurRuntime.canonicalizeUrl=canonicalizeUrl,$traceurRuntime.isAbsolute=isAbsolute,$traceurRuntime.removeDotSegments=removeDotSegments,$traceurRuntime.resolveUrl=resolveUrl}(),function(global){"use strict";function UncoatedModuleEntry(url,uncoatedModule){this.url=url,this.value_=uncoatedModule}function ModuleEvaluationError(erroneousModuleName,cause){this.message=this.constructor.name+": "+this.stripCause(cause)+" in "+erroneousModuleName,cause instanceof ModuleEvaluationError||!cause.stack?this.stack="":this.stack=this.stripStack(cause.stack)}function beforeLines(lines,number){var result=[],first=number-3;first<0&&(first=0);for(var i=first;i<number;i++)result.push(lines[i]);return result}function afterLines(lines,number){var last=number+1;last>lines.length-1&&(last=lines.length-1);for(var result=[],i=number;i<=last;i++)result.push(lines[i]);return result}function columnSpacing(columns){for(var result="",i=0;i<columns-1;i++)result+="-";return result}function UncoatedModuleInstantiator(url,func){UncoatedModuleEntry.call(this,url,null),this.func=func}function getUncoatedModuleInstantiator(name){if(name){var url=ModuleStore.normalize(name);return moduleInstantiators[url]}}function Module(uncoatedModule){var isLive=arguments[1],coatedModule=Object.create(null);return Object.getOwnPropertyNames(uncoatedModule).forEach(function(name){var getter,value;if(isLive===liveModuleSentinel){var descr=Object.getOwnPropertyDescriptor(uncoatedModule,name);descr.get&&(getter=descr.get)}getter||(value=uncoatedModule[name],getter=function(){return value}),Object.defineProperty(coatedModule,name,{get:getter,enumerable:!0})}),Object.preventExtensions(coatedModule),coatedModule}var baseURL,$__3=$traceurRuntime,canonicalizeUrl=$__3.canonicalizeUrl,resolveUrl=$__3.resolveUrl,isAbsolute=$__3.isAbsolute,moduleInstantiators=Object.create(null);baseURL=global.location&&global.location.href?resolveUrl(global.location.href,"./"):"",ModuleEvaluationError.prototype=Object.create(Error.prototype),ModuleEvaluationError.prototype.constructor=ModuleEvaluationError,ModuleEvaluationError.prototype.stripError=function(message){return message.replace(/.*Error:/,this.constructor.name+":")},ModuleEvaluationError.prototype.stripCause=function(cause){return cause?cause.message?this.stripError(cause.message):cause+"":""},ModuleEvaluationError.prototype.loadedBy=function(moduleName){this.stack+="\n loaded by "+moduleName},ModuleEvaluationError.prototype.stripStack=function(causeStack){var stack=[];return causeStack.split("\n").some(function(frame){if(/UncoatedModuleInstantiator/.test(frame))return!0;stack.push(frame)}),stack[0]=this.stripError(stack[0]),stack.join("\n")},UncoatedModuleInstantiator.prototype=Object.create(UncoatedModuleEntry.prototype),UncoatedModuleInstantiator.prototype.getUncoatedModule=function(){var $__2=this;if(this.value_)return this.value_;try{var relativeRequire;return void 0!==typeof $traceurRuntime&&$traceurRuntime.require&&(relativeRequire=$traceurRuntime.require.bind(null,this.url)),this.value_=this.func.call(global,relativeRequire)}catch(ex){if(ex instanceof ModuleEvaluationError)throw ex.loadedBy(this.url),ex;if(ex.stack){var lines=this.func.toString().split("\n"),evaled=[];ex.stack.split("\n").some(function(frame,index){if(frame.indexOf("UncoatedModuleInstantiator.getUncoatedModule")>0)return!0;var m=/(at\s[^\s]*\s).*>:(\d*):(\d*)\)/.exec(frame);if(m){var line=parseInt(m[2],10);evaled=evaled.concat(beforeLines(lines,line)),1===index?evaled.push(columnSpacing(m[3])+"^ "+$__2.url):evaled.push(columnSpacing(m[3])+"^"),evaled=evaled.concat(afterLines(lines,line)),evaled.push("= = = = = = = = =")}else evaled.push(frame)}),ex.stack=evaled.join("\n")}throw new ModuleEvaluationError(this.url,ex)}};var moduleInstances=Object.create(null),liveModuleSentinel={},ModuleStore={normalize:function(name,refererName,refererAddress){if("string"!=typeof name)throw new TypeError("module name must be a string, not "+typeof name);if(isAbsolute(name))return canonicalizeUrl(name);if(/[^\.]\/\.\.\//.test(name))throw new Error("module name embeds /../: "+name);return"."===name[0]&&refererName?resolveUrl(refererName,name):canonicalizeUrl(name)},get:function(normalizedName){var m=getUncoatedModuleInstantiator(normalizedName);if(m){var moduleInstance=moduleInstances[m.url];return moduleInstance||(moduleInstance=Module(m.getUncoatedModule(),liveModuleSentinel),moduleInstances[m.url]=moduleInstance)}},set:function(normalizedName,module){normalizedName=String(normalizedName),moduleInstantiators[normalizedName]=new UncoatedModuleInstantiator(normalizedName,function(){return module}),moduleInstances[normalizedName]=module},get baseURL(){return baseURL},set baseURL(v){baseURL=String(v)},registerModule:function(name,deps,func){var normalizedName=ModuleStore.normalize(name);if(moduleInstantiators[normalizedName])throw new Error("duplicate module named "+normalizedName);moduleInstantiators[normalizedName]=new UncoatedModuleInstantiator(normalizedName,func)},bundleStore:Object.create(null),register:function(name,deps,func){deps&&(deps.length||func.length)?this.bundleStore[name]={deps:deps,execute:function(){var $__2=arguments,depMap={};deps.forEach(function(dep,index){return depMap[dep]=$__2[index]});var registryEntry=func.call(this,depMap);return registryEntry.execute.call(this),registryEntry.exports}}:this.registerModule(name,deps,func)},getAnonymousModule:function(func){return new Module(func.call(global),liveModuleSentinel)}},moduleStoreModule=new Module({ModuleStore:ModuleStore});ModuleStore.set("@traceur/src/runtime/ModuleStore.js",moduleStoreModule);var setupGlobals=$traceurRuntime.setupGlobals;$traceurRuntime.setupGlobals=function(global){setupGlobals(global)},$traceurRuntime.ModuleStore=ModuleStore,$traceurRuntime.registerModule=ModuleStore.registerModule.bind(ModuleStore),$traceurRuntime.getModule=ModuleStore.get,$traceurRuntime.setModule=ModuleStore.set,$traceurRuntime.normalizeModuleName=ModuleStore.normalize}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/new-unique-string.js",[],function(){"use strict";function newUniqueString(){return"__$"+(1e9*random()>>>1)+"$"+ ++counter+"$__"}var random=Math.random,counter=Date.now()%1e9,$__default=newUniqueString;return{get default(){return $__default}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/has-native-symbols.js",[],function(){"use strict";function hasNativeSymbol(){return v}var v=!!Object.getOwnPropertySymbols&&"function"==typeof Symbol,$__default=hasNativeSymbol;return{get default(){return $__default}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/symbols.js",[],function(){"use strict";function nonEnum(value){return{configurable:!0,enumerable:!1,value:value,writable:!0}}function SymbolValue(description){var key=newUniqueString();$defineProperty(this,symbolDataProperty,{value:this}),$defineProperty(this,symbolInternalProperty,{value:key}),$defineProperty(this,symbolDescriptionProperty,{value:description}),$freeze(this),symbolValues[key]=this}function isSymbolString(s){return symbolValues[s]}function removeSymbolKeys(array){for(var rv=[],i=0;i<array.length;i++)isSymbolString(array[i])||rv.push(array[i]);return rv}function getOwnPropertyNames(object){return removeSymbolKeys($getOwnPropertyNames(object))}function keys(object){return removeSymbolKeys($keys(object))}function getOwnPropertySymbols(object){for(var rv=[],names=$getOwnPropertyNames(object),i=0;i<names.length;i++){var symbol=symbolValues[names[i]];symbol&&rv.push(symbol)}return rv}function polyfillSymbol(global){var Object=global.Object;hasNativeSymbol()||(global.Symbol=SymbolImpl,Object.getOwnPropertyNames=getOwnPropertyNames,Object.keys=keys,$defineProperty(Object,"getOwnPropertySymbols",nonEnum(getOwnPropertySymbols))),global.Symbol.iterator||(global.Symbol.iterator=global.Symbol("Symbol.iterator")),global.Symbol.observer||(global.Symbol.observer=global.Symbol("Symbol.observer"))}var newUniqueString=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../new-unique-string.js","traceur-runtime@0.0.105/src/runtime/modules/symbols.js")).default,hasNativeSymbol=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../has-native-symbols.js","traceur-runtime@0.0.105/src/runtime/modules/symbols.js")).default,$create=Object.create,$defineProperty=Object.defineProperty,$freeze=Object.freeze,$getOwnPropertyNames=Object.getOwnPropertyNames,$keys=Object.keys,$TypeError=TypeError,symbolInternalProperty=newUniqueString(),symbolDescriptionProperty=newUniqueString(),symbolDataProperty=newUniqueString(),symbolValues=$create(null),SymbolImpl=function(description){var value=new SymbolValue(description);if(!(this instanceof SymbolImpl))return value;throw new $TypeError("Symbol cannot be new'ed")};$defineProperty(SymbolImpl.prototype,"constructor",nonEnum(SymbolImpl)),$defineProperty(SymbolImpl.prototype,"toString",nonEnum(function(){return this[symbolDataProperty][symbolInternalProperty]})),$defineProperty(SymbolImpl.prototype,"valueOf",nonEnum(function(){var symbolValue=this[symbolDataProperty];if(!symbolValue)throw $TypeError("Conversion from symbol to string");return symbolValue[symbolInternalProperty]})),$defineProperty(SymbolValue.prototype,"constructor",nonEnum(SymbolImpl)),$defineProperty(SymbolValue.prototype,"toString",{value:SymbolImpl.prototype.toString,enumerable:!1}),$defineProperty(SymbolValue.prototype,"valueOf",{value:SymbolImpl.prototype.valueOf,enumerable:!1}),$freeze(SymbolValue.prototype),polyfillSymbol("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);var typeOf=hasNativeSymbol()?function(x){return typeof x}:function(x){return x instanceof SymbolValue?"symbol":typeof x};return{get typeof(){return typeOf}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/typeof.js",[],function(){"use strict";var $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_symbols_46_js__=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./symbols.js","traceur-runtime@0.0.105/src/runtime/modules/typeof.js"));return{get default(){return $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_symbols_46_js__.typeof}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/symbols.js",[],function(){"use strict";var t=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/typeof.js","traceur-runtime@0.0.105/src/runtime/symbols.js")).default;return $traceurRuntime.typeof=t,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/createClass.js",[],function(){"use strict";function forEachPropertyKey(object,f){getOwnPropertyNames(object).forEach(f),getOwnPropertySymbols&&getOwnPropertySymbols(object).forEach(f)}function getDescriptors(object){var descriptors={};return forEachPropertyKey(object,function(key){descriptors[key]=getOwnPropertyDescriptor(object,key),descriptors[key].enumerable=!1}),descriptors}function makePropertiesNonEnumerable(object){forEachPropertyKey(object,function(key){defineProperty(object,key,nonEnum)})}function createClass(ctor,object,staticObject,superClass){return defineProperty(object,"constructor",{value:ctor,configurable:!0,enumerable:!1,writable:!0}),arguments.length>3?("function"==typeof superClass&&(ctor.__proto__=superClass),ctor.prototype=create(getProtoParent(superClass),getDescriptors(object))):(makePropertiesNonEnumerable(object),ctor.prototype=object),defineProperty(ctor,"prototype",{configurable:!1,writable:!1}),defineProperties(ctor,getDescriptors(staticObject))}function getProtoParent(superClass){if("function"==typeof superClass){var prototype=superClass.prototype;if($Object(prototype)===prototype||null===prototype)return superClass.prototype;throw new $TypeError("super prototype must be an Object or null")}if(null===superClass)return null;throw new $TypeError("Super expression must either be null or a function, not "+typeof superClass+".")}var $Object=Object,$TypeError=TypeError,$__1=Object,create=$__1.create,defineProperties=$__1.defineProperties,defineProperty=$__1.defineProperty,getOwnPropertyDescriptor=$__1.getOwnPropertyDescriptor,getOwnPropertyNames=$__1.getOwnPropertyNames,getOwnPropertySymbols=$__1.getOwnPropertySymbols,nonEnum={enumerable:!1},$__default=createClass;return{get default(){return $__default}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/superConstructor.js",[],function(){"use strict";function superConstructor(ctor){return ctor.__proto__}var $__default=superConstructor;return{get default(){return $__default}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/superDescriptor.js",[],function(){"use strict";function superDescriptor(homeObject,name){var proto=getPrototypeOf(homeObject);do{var result=getOwnPropertyDescriptor(proto,name);if(result)return result;proto=getPrototypeOf(proto)}while(proto)}var $__1=Object,getOwnPropertyDescriptor=$__1.getOwnPropertyDescriptor,getPrototypeOf=$__1.getPrototypeOf,$__default=superDescriptor;return{get default(){return $__default}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/superGet.js",[],function(){"use strict";function superGet(self,homeObject,name){var descriptor=superDescriptor(homeObject,name);if(descriptor){var value=descriptor.value;return value||(descriptor.get?descriptor.get.call(self):value)}}var superDescriptor=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./superDescriptor.js","traceur-runtime@0.0.105/src/runtime/modules/superGet.js")).default,$__default=superGet;return{get default(){return $__default}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/superSet.js",[],function(){"use strict";function superSet(self,homeObject,name,value){var descriptor=superDescriptor(homeObject,name);if(descriptor&&descriptor.set)return descriptor.set.call(self,value),value;throw $TypeError("super has no setter '"+name+"'.")}var superDescriptor=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./superDescriptor.js","traceur-runtime@0.0.105/src/runtime/modules/superSet.js")).default,$TypeError=TypeError,$__default=superSet;return{get default(){return $__default}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/classes.js",[],function(){"use strict";var createClass=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/createClass.js","traceur-runtime@0.0.105/src/runtime/classes.js")).default,superConstructor=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/superConstructor.js","traceur-runtime@0.0.105/src/runtime/classes.js")).default,superGet=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/superGet.js","traceur-runtime@0.0.105/src/runtime/classes.js")).default,superSet=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/superSet.js","traceur-runtime@0.0.105/src/runtime/classes.js")).default;return $traceurRuntime.createClass=createClass,$traceurRuntime.superConstructor=superConstructor,$traceurRuntime.superGet=superGet,$traceurRuntime.superSet=superSet,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/exportStar.js",[],function(){"use strict";function exportStar(object){for(var $__2=arguments,$__3=function(i){var mod=$__2[i],names=getOwnPropertyNames(mod),$__5=function(j){var name=names[j];if("__esModule"===name||"default"===name)return 0;defineProperty(object,name,{get:function(){return mod[name]},enumerable:!0})};$__4:for(var j=0;j<names.length;j++)switch($__5(j)){case 0:continue $__4}},i=1;i<arguments.length;i++)$__3(i);return object}var $__1=Object,defineProperty=$__1.defineProperty,getOwnPropertyNames=$__1.getOwnPropertyNames,$__default=exportStar;return{get default(){return $__default}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/exportStar.js",[],function(){"use strict";var exportStar=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/exportStar.js","traceur-runtime@0.0.105/src/runtime/exportStar.js")).default;return $traceurRuntime.exportStar=exportStar,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/private-symbol.js",[],function(){"use strict";function isPrivateSymbol(s){return privateNames[s]}function createPrivateSymbol(){var s=($Symbol||newUniqueString)();return privateNames[s]=!0,s}function hasPrivate(obj,sym){return hasOwnProperty.call(obj,sym)}function deletePrivate(obj,sym){return!!hasPrivate(obj,sym)&&(delete obj[sym],!0)}function setPrivate(obj,sym,val){obj[sym]=val}function getPrivate(obj,sym){var val=obj[sym];if(void 0!==val)return hasOwnProperty.call(obj,sym)?val:void 0}function init(){$getOwnPropertySymbols&&(Object.getOwnPropertySymbols=function(object){for(var rv=[],symbols=$getOwnPropertySymbols(object),i=0;i<symbols.length;i++){var symbol=symbols[i];isPrivateSymbol(symbol)||rv.push(symbol)}return rv})}var newUniqueString=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./new-unique-string.js","traceur-runtime@0.0.105/src/runtime/private-symbol.js")).default,$Symbol="function"==typeof Symbol?Symbol:void 0,$getOwnPropertySymbols=Object.getOwnPropertySymbols,$create=Object.create,privateNames=$create(null);return{get isPrivateSymbol(){return isPrivateSymbol},get createPrivateSymbol(){return createPrivateSymbol},get hasPrivate(){return hasPrivate},get deletePrivate(){return deletePrivate},get setPrivate(){return setPrivate},get getPrivate(){return getPrivate},get init(){return init}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/private-weak-map.js",[],function(){"use strict";function isPrivateSymbol(s){return!1}function createPrivateSymbol(){return new $WeakMap}function hasPrivate(obj,sym){return sym.has(obj)}function deletePrivate(obj,sym){return sym.delete(obj)}function setPrivate(obj,sym,val){sym.set(obj,val)}function getPrivate(obj,sym){return sym.get(obj)}function init(){}var $WeakMap="function"==typeof WeakMap?WeakMap:void 0;return{get isPrivateSymbol(){return isPrivateSymbol},get createPrivateSymbol(){return createPrivateSymbol},get hasPrivate(){return hasPrivate},get deletePrivate(){return deletePrivate},get setPrivate(){return setPrivate},get getPrivate(){return getPrivate},get init(){return init}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/private.js",[],function(){"use strict";var sym=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./private-symbol.js","traceur-runtime@0.0.105/src/runtime/private.js")),weak=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./private-weak-map.js","traceur-runtime@0.0.105/src/runtime/private.js")),hasWeakMap="function"==typeof WeakMap,m=hasWeakMap?weak:sym,isPrivateSymbol=m.isPrivateSymbol,createPrivateSymbol=m.createPrivateSymbol,hasPrivate=m.hasPrivate,deletePrivate=m.deletePrivate,setPrivate=m.setPrivate,getPrivate=m.getPrivate;return m.init(),{get isPrivateSymbol(){return isPrivateSymbol},get createPrivateSymbol(){return createPrivateSymbol},get hasPrivate(){return hasPrivate},get deletePrivate(){return deletePrivate},get setPrivate(){return setPrivate},get getPrivate(){return getPrivate}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/properTailCalls.js",[],function(){"use strict";function createContinuation(operand,thisArg,argsArray){return[CONTINUATION_TYPE,operand,thisArg,argsArray]}function isContinuation(object){return object&&object[0]===CONTINUATION_TYPE}function $bind(operand,thisArg,args){for(var argArray=[thisArg],i=0;i<args.length;i++)argArray[i+1]=args[i];return $apply(Function.prototype.bind,operand,argArray)}function $construct(func,argArray){return new($bind(func,null,argArray))}function isTailRecursive(func){return!!getPrivate(func,isTailRecursiveName)}function tailCall(func,thisArg,argArray){var continuation=argArray[0];if(isContinuation(continuation))return continuation=$apply(func,thisArg,continuation[3]);for(continuation=createContinuation(func,thisArg,argArray);;){if(continuation=isTailRecursive(func)?$apply(func,continuation[2],[continuation]):$apply(func,continuation[2],continuation[3]),!isContinuation(continuation))return continuation;func=continuation[1]}}function construct(){return isTailRecursive(this)?$construct(this,[createContinuation(null,null,arguments)]):$construct(this,arguments)}function setupProperTailCalls(){isTailRecursiveName=createPrivateSymbol(),Function.prototype.call=initTailRecursiveFunction(function(thisArg){return tailCall(function(thisArg){for(var argArray=[],i=1;i<arguments.length;++i)argArray[i-1]=arguments[i];return createContinuation(this,thisArg,argArray)},this,arguments)}),Function.prototype.apply=initTailRecursiveFunction(function(thisArg,argArray){return tailCall(function(thisArg,argArray){return createContinuation(this,thisArg,argArray)},this,arguments)})}function initTailRecursiveFunction(func){return null===isTailRecursiveName&&setupProperTailCalls(),setPrivate(func,isTailRecursiveName,!0),func}var $__0=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../private.js","traceur-runtime@0.0.105/src/runtime/modules/properTailCalls.js")),getPrivate=$__0.getPrivate,setPrivate=$__0.setPrivate,createPrivateSymbol=$__0.createPrivateSymbol,$apply=Function.prototype.call.bind(Function.prototype.apply),CONTINUATION_TYPE=Object.create(null),isTailRecursiveName=null;return{get construct(){return construct},get initTailRecursiveFunction(){return initTailRecursiveFunction},get call(){return tailCall},get continuation(){return createContinuation}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/properTailCalls.js",[],function(){"use strict";var $__0=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/properTailCalls.js","traceur-runtime@0.0.105/src/runtime/properTailCalls.js")),initTailRecursiveFunction=$__0.initTailRecursiveFunction,call=$__0.call,continuation=$__0.continuation,construct=$__0.construct;return $traceurRuntime.initTailRecursiveFunction=initTailRecursiveFunction,$traceurRuntime.call=call,$traceurRuntime.continuation=continuation,$traceurRuntime.construct=construct,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/relativeRequire.js",[],function(){"use strict";function relativeRequire(callerPath,requiredPath){function isDirectory(path){return"/"===path.slice(-1)}function isAbsolute(path){return"/"===path[0]}function isRelative(path){return"."===path[0]}if(path=path||"undefined"!=typeof require&&require("path"),!isDirectory(requiredPath)&&!isAbsolute(requiredPath))return isRelative(requiredPath)?require(path.resolve(path.dirname(callerPath),requiredPath)):require(requiredPath)}var path;return $traceurRuntime.require=relativeRequire,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/checkObjectCoercible.js",[],function(){"use strict";function checkObjectCoercible(v){if(null===v||void 0===v)throw new $TypeError("Value cannot be converted to an Object");return v}var $TypeError=TypeError,$__default=checkObjectCoercible;return{get default(){return $__default}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/spread.js",[],function(){"use strict";function spread(){for(var iterResult,rv=[],j=0,i=0;i<arguments.length;i++){var valueToSpread=checkObjectCoercible(arguments[i]);if("function"!=typeof valueToSpread[Symbol.iterator])throw new TypeError("Cannot spread non-iterable object.");for(var iter=valueToSpread[Symbol.iterator]();!(iterResult=iter.next()).done;)rv[j++]=iterResult.value}return rv}var checkObjectCoercible=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../checkObjectCoercible.js","traceur-runtime@0.0.105/src/runtime/modules/spread.js")).default,$__default=spread;return{get default(){return $__default}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/spread.js",[],function(){"use strict";var spread=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/spread.js","traceur-runtime@0.0.105/src/runtime/spread.js")).default;return $traceurRuntime.spread=spread,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/iteratorToArray.js",[],function(){"use strict";function iteratorToArray(iter){for(var tmp,rv=[],i=0;!(tmp=iter.next()).done;)rv[i++]=tmp.value;return rv}var $__default=iteratorToArray;return{get default(){return $__default}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/destructuring.js",[],function(){"use strict";var iteratorToArray=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/iteratorToArray.js","traceur-runtime@0.0.105/src/runtime/destructuring.js")).default;return $traceurRuntime.iteratorToArray=iteratorToArray,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/async.js",[],function(){"use strict";function AsyncGeneratorFunction(){}function AsyncGeneratorFunctionPrototype(){}function initAsyncGeneratorFunction(functionObject){return functionObject.prototype=create(AsyncGeneratorFunctionPrototype.prototype),functionObject.__proto__=AsyncGeneratorFunctionPrototype,functionObject}function createAsyncGeneratorInstance(observe,functionObject){for(var args=[],$__11=2;$__11<arguments.length;$__11++)args[$__11-2]=arguments[$__11];var object=create(functionObject.prototype);return setPrivate(object,observeName,observe),object}function observeForEach(observe,next){return new Promise(function(resolve,reject){var generator=observe({next:function(value){return next.call(generator,value)},throw:function(error){reject(error)},return:function(value){resolve(value)}})})}function schedule(asyncF){return Promise.resolve().then(asyncF)}function createDecoratedGenerator(generator,onDone){return new DecoratedGenerator(generator,onDone)}var $__0=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../private.js","traceur-runtime@0.0.105/src/runtime/modules/async.js")),createPrivateSymbol=$__0.createPrivateSymbol,getPrivate=$__0.getPrivate,setPrivate=$__0.setPrivate,$__12=Object,create=$__12.create,defineProperty=$__12.defineProperty,observeName=createPrivateSymbol();AsyncGeneratorFunction.prototype=AsyncGeneratorFunctionPrototype,AsyncGeneratorFunctionPrototype.constructor=AsyncGeneratorFunction,defineProperty(AsyncGeneratorFunctionPrototype,"constructor",{enumerable:!1});var AsyncGeneratorContext=function(){function AsyncGeneratorContext(observer){var $__3=this;this.decoratedObserver=createDecoratedGenerator(observer,function(){$__3.done=!0}),this.done=!1,this.inReturn=!1}return $traceurRuntime.createClass(AsyncGeneratorContext,{throw:function(error){if(!this.inReturn)throw error},yield:function(value){if(this.done)throw void(this.inReturn=!0);var result;try{result=this.decoratedObserver.next(value)}catch(e){throw this.done=!0,e}if(void 0!==result){if(result.done)throw this.done=!0,void(this.inReturn=!0);return result.value}},yieldFor:function(observable){var ctx=this;return observeForEach(observable[Symbol.observer].bind(observable),function(value){if(ctx.done)return void this.return();var result;try{result=ctx.decoratedObserver.next(value)}catch(e){throw ctx.done=!0,e}if(void 0!==result)return result.done&&(ctx.done=!0),result})}},{})}();AsyncGeneratorFunctionPrototype.prototype[Symbol.observer]=function(observer){var observe=getPrivate(this,observeName),ctx=new AsyncGeneratorContext(observer);return schedule(function(){return observe(ctx)}).then(function(value){ctx.done||ctx.decoratedObserver.return(value)}).catch(function(error){ctx.done||ctx.decoratedObserver.throw(error)}),ctx.decoratedObserver},defineProperty(AsyncGeneratorFunctionPrototype.prototype,Symbol.observer,{enumerable:!1});var generator=Symbol(),onDone=Symbol(),DecoratedGenerator=function(){function DecoratedGenerator(_generator,_onDone){this[generator]=_generator,this[onDone]=_onDone}return $traceurRuntime.createClass(DecoratedGenerator,{next:function(value){var result=this[generator].next(value);return void 0!==result&&result.done&&this[onDone].call(this),result},throw:function(error){return this[onDone].call(this),this[generator].throw(error)},return:function(value){return this[onDone].call(this),this[generator].return(value)}},{})}();return Array.prototype[Symbol.observer]=function(observer){var done=!1,decoratedObserver=createDecoratedGenerator(observer,function(){return done=!0}),$__7=!0,$__8=!1,$__9=void 0;try{for(var $__5=void 0,$__4=this[Symbol.iterator]();!($__7=($__5=$__4.next()).done);$__7=!0){var value=$__5.value;if(decoratedObserver.next(value),done)return}}catch($__10){$__8=!0,$__9=$__10}finally{try{$__7||null==$__4.return||$__4.return()}finally{if($__8)throw $__9}}return decoratedObserver.return(),decoratedObserver},defineProperty(Array.prototype,Symbol.observer,{enumerable:!1}),{get initAsyncGeneratorFunction(){return initAsyncGeneratorFunction},get createAsyncGeneratorInstance(){return createAsyncGeneratorInstance},get observeForEach(){return observeForEach},get schedule(){return schedule},get createDecoratedGenerator(){return createDecoratedGenerator}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/initAsyncGeneratorFunction.js",[],function(){"use strict";var $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_async_46_js__=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./async.js","traceur-runtime@0.0.105/src/runtime/modules/initAsyncGeneratorFunction.js"));return{get default(){return $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_async_46_js__.initAsyncGeneratorFunction}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/createAsyncGeneratorInstance.js",[],function(){"use strict";var $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_async_46_js__=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./async.js","traceur-runtime@0.0.105/src/runtime/modules/createAsyncGeneratorInstance.js"));return{get default(){return $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_async_46_js__.createAsyncGeneratorInstance}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/observeForEach.js",[],function(){"use strict";var $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_async_46_js__=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./async.js","traceur-runtime@0.0.105/src/runtime/modules/observeForEach.js"));return{get default(){return $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_async_46_js__.observeForEach}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/schedule.js",[],function(){"use strict";var $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_async_46_js__=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./async.js","traceur-runtime@0.0.105/src/runtime/modules/schedule.js"));return{get default(){return $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_async_46_js__.schedule}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/createDecoratedGenerator.js",[],function(){"use strict";var $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_async_46_js__=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./async.js","traceur-runtime@0.0.105/src/runtime/modules/createDecoratedGenerator.js"));return{get default(){return $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_async_46_js__.createDecoratedGenerator}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/async.js",[],function(){"use strict";var initAsyncGeneratorFunction=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/initAsyncGeneratorFunction.js","traceur-runtime@0.0.105/src/runtime/async.js")).default,createAsyncGeneratorInstance=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/createAsyncGeneratorInstance.js","traceur-runtime@0.0.105/src/runtime/async.js")).default,observeForEach=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/observeForEach.js","traceur-runtime@0.0.105/src/runtime/async.js")).default,schedule=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/schedule.js","traceur-runtime@0.0.105/src/runtime/async.js")).default,createDecoratedGenerator=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/createDecoratedGenerator.js","traceur-runtime@0.0.105/src/runtime/async.js")).default;return $traceurRuntime.initAsyncGeneratorFunction=initAsyncGeneratorFunction,$traceurRuntime.createAsyncGeneratorInstance=createAsyncGeneratorInstance,$traceurRuntime.observeForEach=observeForEach,$traceurRuntime.schedule=schedule,$traceurRuntime.createDecoratedGenerator=createDecoratedGenerator,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/generators.js",[],function(){"use strict";function nonEnum(value){return{configurable:!0,enumerable:!1,value:value,writable:!0}}function getInternalError(state){return new Error("Traceur compiler bug: invalid state in state machine: "+state)}function GeneratorContext(){this.state=0,this.GState=ST_NEWBORN,this.storedException=void 0,this.finallyFallThrough=void 0,this.sent_=void 0,this.returnValue=void 0,this.oldReturnValue=void 0,this.tryStack_=[]}function nextOrThrow(ctx,moveNext,action,x){switch(ctx.GState){case ST_EXECUTING:throw new Error('"'+action+'" on executing generator');case ST_CLOSED:if("next"==action)return{value:void 0,done:!0};if(x===RETURN_SENTINEL)return{value:ctx.returnValue,done:!0};throw x;case ST_NEWBORN:if("throw"===action){if(ctx.GState=ST_CLOSED,x===RETURN_SENTINEL)return{value:ctx.returnValue,done:!0};throw x}if(void 0!==x)throw $TypeError("Sent value to newborn generator");case ST_SUSPENDED:ctx.GState=ST_EXECUTING,ctx.action=action,ctx.sent=x;var value;try{value=moveNext(ctx)}catch(ex){if(ex!==RETURN_SENTINEL)throw ex;value=ctx}var done=value===ctx;return done&&(value=ctx.returnValue),ctx.GState=done?ST_CLOSED:ST_SUSPENDED,{value:value,done:done}}}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function createGeneratorInstance(innerFunction,functionObject,self){var moveNext=getMoveNext(innerFunction,self),ctx=new GeneratorContext,object=create(functionObject.prototype);return setPrivate(object,ctxName,ctx),setPrivate(object,moveNextName,moveNext),object}function initGeneratorFunction(functionObject){return functionObject.prototype=create(GeneratorFunctionPrototype.prototype),functionObject.__proto__=GeneratorFunctionPrototype,functionObject}function AsyncFunctionContext(){GeneratorContext.call(this),this.err=void 0;var ctx=this;ctx.result=new Promise(function(resolve,reject){ctx.resolve=resolve,ctx.reject=reject})}function asyncWrap(innerFunction,self){var moveNext=getMoveNext(innerFunction,self),ctx=new AsyncFunctionContext;return ctx.createCallback=function(newState){return function(value){ctx.state=newState,ctx.value=value,moveNext(ctx)}},ctx.errback=function(err){handleCatch(ctx,err),moveNext(ctx)},moveNext(ctx),ctx.result}function getMoveNext(innerFunction,self){return function(ctx){for(;;)try{return innerFunction.call(self,ctx)}catch(ex){handleCatch(ctx,ex)}}}function handleCatch(ctx,ex){ctx.storedException=ex;var last=ctx.tryStack_[ctx.tryStack_.length-1];if(!last)return void ctx.handleException(ex);ctx.state=void 0!==last.catch?last.catch:last.finally,void 0!==last.finallyFallThrough&&(ctx.finallyFallThrough=last.finallyFallThrough)}var $__0=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../private.js","traceur-runtime@0.0.105/src/runtime/modules/generators.js")),createPrivateSymbol=$__0.createPrivateSymbol,getPrivate=$__0.getPrivate,setPrivate=$__0.setPrivate,$TypeError=TypeError,$__2=Object,create=$__2.create,defineProperties=$__2.defineProperties,defineProperty=$__2.defineProperty,ST_NEWBORN=0,ST_EXECUTING=1,ST_SUSPENDED=2,ST_CLOSED=3,END_STATE=-2,RETHROW_STATE=-3,RETURN_SENTINEL={};GeneratorContext.prototype={pushTry:function(catchState,finallyState){if(null!==finallyState){for(var finallyFallThrough=null,i=this.tryStack_.length-1;i>=0;i--)if(void 0!==this.tryStack_[i].catch){finallyFallThrough=this.tryStack_[i].catch;break}null===finallyFallThrough&&(finallyFallThrough=RETHROW_STATE),this.tryStack_.push({finally:finallyState,finallyFallThrough:finallyFallThrough})}null!==catchState&&this.tryStack_.push({catch:catchState})},popTry:function(){this.tryStack_.pop()},maybeUncatchable:function(){if(this.storedException===RETURN_SENTINEL)throw RETURN_SENTINEL},get sent(){return this.maybeThrow(),this.sent_},set sent(v){this.sent_=v},get sentIgnoreThrow(){return this.sent_},maybeThrow:function(){if("throw"===this.action)throw this.action="next",this.sent_},end:function(){switch(this.state){case END_STATE:return this;case RETHROW_STATE:throw this.storedException;default:throw getInternalError(this.state)}},handleException:function(ex){throw this.GState=ST_CLOSED,this.state=END_STATE,ex},wrapYieldStar:function(iterator){var ctx=this;return{next:function(v){return iterator.next(v)},throw:function(e){var result;if(e===RETURN_SENTINEL){if(iterator.return){if(result=iterator.return(ctx.returnValue),!result.done)return ctx.returnValue=ctx.oldReturnValue,result;ctx.returnValue=result.value}throw e}if(iterator.throw)return iterator.throw(e);throw iterator.return&&iterator.return(),$TypeError("Inner iterator does not have a throw method")}}}};var ctxName=createPrivateSymbol(),moveNextName=createPrivateSymbol();return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(GeneratorFunctionPrototype,"constructor",nonEnum(GeneratorFunction)),GeneratorFunctionPrototype.prototype={constructor:GeneratorFunctionPrototype,next:function(v){return nextOrThrow(getPrivate(this,ctxName),getPrivate(this,moveNextName),"next",v)},throw:function(v){return nextOrThrow(getPrivate(this,ctxName),getPrivate(this,moveNextName),"throw",v)},return:function(v){var ctx=getPrivate(this,ctxName);return ctx.oldReturnValue=ctx.returnValue,ctx.returnValue=v,nextOrThrow(ctx,getPrivate(this,moveNextName),"throw",RETURN_SENTINEL)}},defineProperties(GeneratorFunctionPrototype.prototype,{constructor:{enumerable:!1},next:{enumerable:!1},throw:{enumerable:!1},return:{enumerable:!1}}),Object.defineProperty(GeneratorFunctionPrototype.prototype,Symbol.iterator,nonEnum(function(){return this})),AsyncFunctionContext.prototype=create(GeneratorContext.prototype),AsyncFunctionContext.prototype.end=function(){switch(this.state){case END_STATE:this.resolve(this.returnValue);break;case RETHROW_STATE:this.reject(this.storedException);break;default:this.reject(getInternalError(this.state))}},AsyncFunctionContext.prototype.handleException=function(){this.state=RETHROW_STATE},{get createGeneratorInstance(){return createGeneratorInstance},get initGeneratorFunction(){return initGeneratorFunction},get asyncWrap(){return asyncWrap}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/asyncWrap.js",[],function(){"use strict";var $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_generators_46_js__=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./generators.js","traceur-runtime@0.0.105/src/runtime/modules/asyncWrap.js"));return{get default(){return $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_generators_46_js__.asyncWrap}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/initGeneratorFunction.js",[],function(){"use strict";var $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_generators_46_js__=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./generators.js","traceur-runtime@0.0.105/src/runtime/modules/initGeneratorFunction.js"));return{get default(){return $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_generators_46_js__.initGeneratorFunction}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/createGeneratorInstance.js",[],function(){"use strict";var $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_generators_46_js__=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./generators.js","traceur-runtime@0.0.105/src/runtime/modules/createGeneratorInstance.js"));return{get default(){return $__traceur_45_runtime_64_0_46_0_46_105_47_src_47_runtime_47_modules_47_generators_46_js__.createGeneratorInstance}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/generators.js",[],function(){"use strict";var asyncWrap=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/asyncWrap.js","traceur-runtime@0.0.105/src/runtime/generators.js")).default,initGeneratorFunction=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/initGeneratorFunction.js","traceur-runtime@0.0.105/src/runtime/generators.js")).default,createGeneratorInstance=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/createGeneratorInstance.js","traceur-runtime@0.0.105/src/runtime/generators.js")).default;return $traceurRuntime.asyncWrap=asyncWrap,$traceurRuntime.initGeneratorFunction=initGeneratorFunction,$traceurRuntime.createGeneratorInstance=createGeneratorInstance,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/getTemplateObject.js",[],function(){"use strict";function getTemplateObject(raw){var cooked=arguments[1],key=raw.join("${}"),templateObject=map[key];return templateObject||(cooked||(cooked=slice.call(raw)),map[key]=freeze(defineProperty(cooked,"raw",{value:freeze(raw)})))}var $__1=Object,defineProperty=$__1.defineProperty,freeze=$__1.freeze,slice=Array.prototype.slice,map=Object.create(null),$__default=getTemplateObject;return{get default(){return $__default}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/template.js",[],function(){"use strict";var getTemplateObject=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/getTemplateObject.js","traceur-runtime@0.0.105/src/runtime/template.js")).default;return $traceurRuntime.getTemplateObject=getTemplateObject,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/modules/spreadProperties.js",[],function(){"use strict";function createDataProperty(o,p,v){defineProperty(o,p,{configurable:!0,enumerable:!0,value:v,writable:!0})}function copyDataProperties(target,source){if(null!=source){var copy=function(keys){for(var i=0;i<keys.length;i++){var nextKey=keys[i];if(propertyIsEnumerable.call(source,nextKey)){var propValue=source[nextKey];createDataProperty(target,nextKey,propValue)}}};copy(getOwnPropertyNames(source)),copy(getOwnPropertySymbols(source))}}var $__1=Object,defineProperty=$__1.defineProperty,getOwnPropertyNames=$__1.getOwnPropertyNames,getOwnPropertySymbols=$__1.getOwnPropertySymbols,propertyIsEnumerable=$__1.propertyIsEnumerable,$__default=function(){for(var target=arguments[0],i=1;i<arguments.length;i++)copyDataProperties(target,arguments[i]);return target};return{get default(){return $__default}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/jsx.js",[],function(){"use strict";var spreadProperties=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./modules/spreadProperties.js","traceur-runtime@0.0.105/src/runtime/jsx.js")).default;return $traceurRuntime.spreadProperties=spreadProperties,{}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/runtime-modules.js",[],function(){"use strict";return $traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./symbols.js","traceur-runtime@0.0.105/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./classes.js","traceur-runtime@0.0.105/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./exportStar.js","traceur-runtime@0.0.105/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./properTailCalls.js","traceur-runtime@0.0.105/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./relativeRequire.js","traceur-runtime@0.0.105/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./spread.js","traceur-runtime@0.0.105/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./destructuring.js","traceur-runtime@0.0.105/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./async.js","traceur-runtime@0.0.105/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./generators.js","traceur-runtime@0.0.105/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./template.js","traceur-runtime@0.0.105/src/runtime/runtime-modules.js")),$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./jsx.js","traceur-runtime@0.0.105/src/runtime/runtime-modules.js")),{}}),$traceurRuntime.getModule("traceur-runtime@0.0.105/src/runtime/runtime-modules.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/frozen-data.js",[],function(){"use strict";function findIndex(arr,key){for(var i=0;i<arr.length;i+=2)if(arr[i]===key)return i;return-1}function setFrozen(arr,key,val){-1===findIndex(arr,key)&&arr.push(key,val)}function getFrozen(arr,key){var i=findIndex(arr,key);if(-1!==i)return arr[i+1]}function hasFrozen(arr,key){return-1!==findIndex(arr,key)}function deleteFrozen(arr,key){var i=findIndex(arr,key);return-1!==i&&(arr.splice(i,2),!0)}return{get setFrozen(){return setFrozen},get getFrozen(){return getFrozen},get hasFrozen(){return hasFrozen},get deleteFrozen(){return deleteFrozen}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/utils.js",[],function(){"use strict";function toObject(x){if(null==x)throw $TypeError();return $Object(x)}function toUint32(x){return x>>>0}function isObject(x){return x&&("object"==typeof x||"function"==typeof x)}function isCallable(x){return"function"==typeof x}function isNumber(x){return"number"==typeof x}function toInteger(x){return x=+x,$isNaN(x)?0:0!==x&&$isFinite(x)?x>0?$floor(x):$ceil(x):x}function toLength(x){var len=toInteger(x);return len<0?0:$min(len,MAX_SAFE_LENGTH)}function checkIterable(x){return isObject(x)?x[Symbol.iterator]:void 0}function isConstructor(x){return isCallable(x)}function createIteratorResultObject(value,done){return{value:value,done:done}}function maybeDefine(object,name,descr){name in object||Object.defineProperty(object,name,descr)}function maybeDefineMethod(object,name,value){maybeDefine(object,name,{value:value,configurable:!0,enumerable:!1,writable:!0})}function maybeDefineConst(object,name,value){maybeDefine(object,name,{value:value,configurable:!1,enumerable:!1,writable:!1})}function maybeAddFunctions(object,functions){for(var i=0;i<functions.length;i+=2){maybeDefineMethod(object,functions[i],functions[i+1])}}function maybeAddConsts(object,consts){for(var i=0;i<consts.length;i+=2){maybeDefineConst(object,consts[i],consts[i+1])}}function maybeAddIterator(object,func,Symbol){Symbol&&Symbol.iterator&&!object[Symbol.iterator]&&(object["@@iterator"]&&(func=object["@@iterator"]),Object.defineProperty(object,Symbol.iterator,{value:func,configurable:!0,enumerable:!1,writable:!0}))}function registerPolyfill(func){polyfills.push(func)}function polyfillAll(global){polyfills.forEach(function(f){return f(global)})}var $ceil=Math.ceil,$floor=Math.floor,$isFinite=isFinite,$isNaN=isNaN,$pow=Math.pow,$min=Math.min,$TypeError=TypeError,$Object=Object,MAX_SAFE_LENGTH=$pow(2,53)-1,polyfills=[];return{get toObject(){return toObject},get toUint32(){return toUint32},get isObject(){return isObject},get isCallable(){return isCallable},get isNumber(){return isNumber},get toInteger(){return toInteger},get toLength(){return toLength},get checkIterable(){return checkIterable},get isConstructor(){return isConstructor},get createIteratorResultObject(){return createIteratorResultObject},get maybeDefine(){return maybeDefine},get maybeDefineMethod(){return maybeDefineMethod},get maybeDefineConst(){return maybeDefineConst},get maybeAddFunctions(){return maybeAddFunctions},get maybeAddConsts(){return maybeAddConsts},get maybeAddIterator(){return maybeAddIterator},get registerPolyfill(){return registerPolyfill},get polyfillAll(){return polyfillAll}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/Map.js",[],function(){"use strict";function getHashCodeForObject(obj){return getPrivate(obj,hashCodeName)}function getOrSetHashCodeForObject(obj){var hash=getHashCodeForObject(obj);return hash||(hash=counter++,setPrivate(obj,hashCodeName,hash)),hash}function lookupIndex(map,key){if("string"==typeof key)return map.stringIndex_[key];if(isObject(key)){if(!isExtensible(key))return getFrozen(map.frozenData_,key);var hc=getHashCodeForObject(key);if(void 0===hc)return;return map.objectIndex_[hc]}return map.primitiveIndex_[key]}function initMap(map){map.entries_=[],map.objectIndex_=Object.create(null),map.stringIndex_=Object.create(null),map.primitiveIndex_=Object.create(null),map.frozenData_=[],map.deletedCount_=0}function needsPolyfill(global){var $__14=global,Map=$__14.Map,Symbol=$__14.Symbol;if(!(Map&&hasNativeSymbol()&&Map.prototype[Symbol.iterator]&&Map.prototype.entries))return!0;try{return 1!==new Map([[]]).size}catch(e){return!1}}function polyfillMap(global){needsPolyfill(global)&&(global.Map=Map)}var $__0=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../private.js","traceur-runtime@0.0.105/src/runtime/polyfills/Map.js")),createPrivateSymbol=$__0.createPrivateSymbol,getPrivate=$__0.getPrivate,setPrivate=$__0.setPrivate,$__1=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../frozen-data.js","traceur-runtime@0.0.105/src/runtime/polyfills/Map.js")),deleteFrozen=$__1.deleteFrozen,getFrozen=$__1.getFrozen,setFrozen=$__1.setFrozen,$__2=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.105/src/runtime/polyfills/Map.js")),isObject=$__2.isObject,registerPolyfill=$__2.registerPolyfill,hasNativeSymbol=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../has-native-symbols.js","traceur-runtime@0.0.105/src/runtime/polyfills/Map.js")).default,$__13=Object,defineProperty=$__13.defineProperty,hasOwnProperty=($__13.getOwnPropertyDescriptor,$__13.hasOwnProperty),isExtensible=$__13.isExtensible,deletedSentinel={},counter=1,hashCodeName=createPrivateSymbol(),Map=function(){function Map(){var $__15,$__16,iterable=arguments[0];if(!isObject(this))throw new TypeError("Map called on incompatible type");if(hasOwnProperty.call(this,"entries_"))throw new TypeError("Map can not be reentrantly initialised");if(initMap(this),null!==iterable&&void 0!==iterable){var $__9=!0,$__10=!1,$__11=void 0;try{for(var $__7=void 0,$__6=iterable[Symbol.iterator]();!($__9=($__7=$__6.next()).done);$__9=!0){var $__14=$__7.value,key=($__15=$__14[Symbol.iterator](),($__16=$__15.next()).done?void 0:$__16.value),value=($__16=$__15.next()).done?void 0:$__16.value;this.set(key,value)}}catch($__12){$__10=!0,$__11=$__12}finally{try{$__9||null==$__6.return||$__6.return()}finally{if($__10)throw $__11}}}}return $traceurRuntime.createClass(Map,{get size(){return this.entries_.length/2-this.deletedCount_},get:function(key){var index=lookupIndex(this,key);if(void 0!==index)return this.entries_[index+1]},set:function(key,value){var index=lookupIndex(this,key);if(void 0!==index)this.entries_[index+1]=value;else if(index=this.entries_.length,this.entries_[index]=key,this.entries_[index+1]=value,isObject(key))if(isExtensible(key)){var hash=getOrSetHashCodeForObject(key);this.objectIndex_[hash]=index}else setFrozen(this.frozenData_,key,index);else"string"==typeof key?this.stringIndex_[key]=index:this.primitiveIndex_[key]=index;return this},has:function(key){return void 0!==lookupIndex(this,key)},delete:function(key){var index=lookupIndex(this,key);if(void 0===index)return!1;if(this.entries_[index]=deletedSentinel,this.entries_[index+1]=void 0,this.deletedCount_++,isObject(key))if(isExtensible(key)){var hash=getHashCodeForObject(key);delete this.objectIndex_[hash]}else deleteFrozen(this.frozenData_,key);else"string"==typeof key?delete this.stringIndex_[key]:delete this.primitiveIndex_[key];return!0},clear:function(){initMap(this)},forEach:function(callbackFn){for(var thisArg=arguments[1],i=0;i<this.entries_.length;i+=2){var key=this.entries_[i],value=this.entries_[i+1];key!==deletedSentinel&&callbackFn.call(thisArg,value,key,this)}},entries:$traceurRuntime.initGeneratorFunction(function $__17(){var i,key,value;return $traceurRuntime.createGeneratorInstance(function($ctx){for(;;)switch($ctx.state){case 0:i=0,$ctx.state=12;break;case 12:$ctx.state=i<this.entries_.length?8:-2;break;case 4:i+=2,$ctx.state=12;break;case 8:key=this.entries_[i],value=this.entries_[i+1],$ctx.state=9;break;case 9:$ctx.state=key===deletedSentinel?4:6;break;case 6:return $ctx.state=2,[key,value];case 2:$ctx.maybeThrow(),$ctx.state=4;break;default:return $ctx.end()}},$__17,this)}),keys:$traceurRuntime.initGeneratorFunction(function $__18(){var i,key,value;return $traceurRuntime.createGeneratorInstance(function($ctx){for(;;)switch($ctx.state){case 0:i=0,$ctx.state=12;break;case 12:$ctx.state=i<this.entries_.length?8:-2;break;case 4:i+=2,$ctx.state=12;break;case 8:key=this.entries_[i],value=this.entries_[i+1],$ctx.state=9;break;case 9:$ctx.state=key===deletedSentinel?4:6;break;case 6:return $ctx.state=2,key;case 2:$ctx.maybeThrow(),$ctx.state=4;break;default:return $ctx.end()}},$__18,this)}),values:$traceurRuntime.initGeneratorFunction(function $__19(){var i,key,value;return $traceurRuntime.createGeneratorInstance(function($ctx){for(;;)switch($ctx.state){case 0:i=0,$ctx.state=12;break;case 12:$ctx.state=i<this.entries_.length?8:-2;break;case 4:i+=2,$ctx.state=12;break;case 8:key=this.entries_[i],value=this.entries_[i+1],$ctx.state=9;break;case 9:$ctx.state=key===deletedSentinel?4:6;break;case 6:return $ctx.state=2,value;case 2:$ctx.maybeThrow(),$ctx.state=4;break;default:return $ctx.end()}},$__19,this)})},{})}();return defineProperty(Map.prototype,Symbol.iterator,{configurable:!0,writable:!0,value:Map.prototype.entries}),registerPolyfill(polyfillMap),{get Map(){return Map},get polyfillMap(){return polyfillMap}}}),$traceurRuntime.getModule("traceur-runtime@0.0.105/src/runtime/polyfills/Map.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/Set.js",[],function(){"use strict";function needsPolyfill(global){var $__14=global,Set=$__14.Set,Symbol=$__14.Symbol;if(!(Set&&hasNativeSymbol()&&Set.prototype[Symbol.iterator]&&Set.prototype.values))return!0;try{return 1!==new Set([1]).size}catch(e){return!1}}function polyfillSet(global){needsPolyfill(global)&&(global.Set=Set)}var $__0=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.105/src/runtime/polyfills/Set.js")),isObject=$__0.isObject,registerPolyfill=$__0.registerPolyfill,Map=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./Map.js","traceur-runtime@0.0.105/src/runtime/polyfills/Set.js")).Map,hasNativeSymbol=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../has-native-symbols.js","traceur-runtime@0.0.105/src/runtime/polyfills/Set.js")).default,hasOwnProperty=Object.prototype.hasOwnProperty,Set=function(){function Set(){var iterable=arguments[0];if(!isObject(this))throw new TypeError("Set called on incompatible type");if(hasOwnProperty.call(this,"map_"))throw new TypeError("Set can not be reentrantly initialised");if(this.map_=new Map,null!==iterable&&void 0!==iterable){var $__9=!0,$__10=!1,$__11=void 0;try{for(var $__7=void 0,$__6=iterable[Symbol.iterator]();!($__9=($__7=$__6.next()).done);$__9=!0){var item=$__7.value;this.add(item)}}catch($__12){$__10=!0,$__11=$__12}finally{try{$__9||null==$__6.return||$__6.return()}finally{if($__10)throw $__11}}}}return $traceurRuntime.createClass(Set,{get size(){return this.map_.size},has:function(key){return this.map_.has(key)},add:function(key){return this.map_.set(key,key),this},delete:function(key){return this.map_.delete(key)},clear:function(){return this.map_.clear()},forEach:function(callbackFn){var thisArg=arguments[1],$__5=this;return this.map_.forEach(function(value,key){callbackFn.call(thisArg,key,key,$__5)})},values:$traceurRuntime.initGeneratorFunction(function $__15(){var $__16,$__17;return $traceurRuntime.createGeneratorInstance(function($ctx){for(;;)switch($ctx.state){case 0:$__16=$ctx.wrapYieldStar(this.map_.keys()[Symbol.iterator]()),$ctx.sent=void 0,$ctx.action="next",$ctx.state=12;break;case 12:$__17=$__16[$ctx.action]($ctx.sentIgnoreThrow),$ctx.state=9;break;case 9:$ctx.state=$__17.done?3:2;break;case 3:$ctx.sent=$__17.value,$ctx.state=-2;break;case 2:return $ctx.state=12,$__17.value;default:return $ctx.end()}},$__15,this)}),entries:$traceurRuntime.initGeneratorFunction(function $__18(){var $__19,$__20;return $traceurRuntime.createGeneratorInstance(function($ctx){for(;;)switch($ctx.state){case 0:$__19=$ctx.wrapYieldStar(this.map_.entries()[Symbol.iterator]()),$ctx.sent=void 0,$ctx.action="next",$ctx.state=12;break;case 12:$__20=$__19[$ctx.action]($ctx.sentIgnoreThrow),$ctx.state=9;break;case 9:$ctx.state=$__20.done?3:2;break;case 3:$ctx.sent=$__20.value,$ctx.state=-2;break;case 2:return $ctx.state=12,$__20.value;default:return $ctx.end()}},$__18,this)})},{})}();return Object.defineProperty(Set.prototype,Symbol.iterator,{configurable:!0,writable:!0,value:Set.prototype.values}),Object.defineProperty(Set.prototype,"keys",{configurable:!0,writable:!0,value:Set.prototype.values}),registerPolyfill(polyfillSet),{get Set(){return Set},get polyfillSet(){return polyfillSet}}}),$traceurRuntime.getModule("traceur-runtime@0.0.105/src/runtime/polyfills/Set.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.105/node_modules/rsvp/lib/rsvp/asap.js",[],function(){"use strict";function asap(callback,arg){queue[len]=callback,queue[len+1]=arg,2===(len+=2)&&scheduleFlush()}function useNextTick(){var nextTick=process.nextTick,version=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(version)&&"0"===version[1]&&"10"===version[2]&&(nextTick=setImmediate),function(){nextTick(flush)}}function useVertxTimer(){return function(){vertxNext(flush)}}function useMutationObserver(){var iterations=0,observer=new BrowserMutationObserver(flush),node=document.createTextNode("");return observer.observe(node,{characterData:!0}),function(){node.data=iterations=++iterations%2}}function useMessageChannel(){var channel=new MessageChannel;return channel.port1.onmessage=flush,function(){channel.port2.postMessage(0)}}function useSetTimeout(){return function(){setTimeout(flush,1)}}function flush(){for(var i=0;i<len;i+=2){(0,queue[i])(queue[i+1]),queue[i]=void 0,queue[i+1]=void 0}len=0}function attemptVertex(){try{var r=require,vertx=r("vertx");return vertxNext=vertx.runOnLoop||vertx.runOnContext,useVertxTimer()}catch(e){return useSetTimeout()}}var vertxNext,scheduleFlush,len=0,$__default=asap,browserWindow="undefined"!=typeof window?window:void 0,browserGlobal=browserWindow||{},BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver,isNode="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),isWorker="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,queue=new Array(1e3);return scheduleFlush=isNode?useNextTick():BrowserMutationObserver?useMutationObserver():isWorker?useMessageChannel():void 0===browserWindow&&"function"==typeof require?attemptVertex():useSetTimeout(),{get default(){return $__default}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/Promise.js",[],function(){"use strict";function isPromise(x){return x&&"object"==typeof x&&void 0!==x.status_}function idResolveHandler(x){return x}function idRejectHandler(x){throw x}function chain(promise){var onResolve=void 0!==arguments[1]?arguments[1]:idResolveHandler,onReject=void 0!==arguments[2]?arguments[2]:idRejectHandler,deferred=getDeferred(promise.constructor);switch(promise.status_){case void 0:throw TypeError;case 0:promise.onResolve_.push(onResolve,deferred),promise.onReject_.push(onReject,deferred);break;case 1:promiseEnqueue(promise.value_,[onResolve,deferred]);break;case-1:promiseEnqueue(promise.value_,[onReject,deferred])}return deferred.promise}function getDeferred(C){if(this===$Promise){var promise=promiseInit(new $Promise(promiseRaw));return{promise:promise,resolve:function(x){promiseResolve(promise,x)},reject:function(r){promiseReject(promise,r)}}}var result={};return result.promise=new C(function(resolve,reject){result.resolve=resolve,result.reject=reject}),result}function promiseSet(promise,status,value,onResolve,onReject){return promise.status_=status,promise.value_=value,promise.onResolve_=onResolve,promise.onReject_=onReject,promise}function promiseInit(promise){return promiseSet(promise,0,void 0,[],[])}function promiseResolve(promise,x){promiseDone(promise,1,x,promise.onResolve_)}function promiseReject(promise,r){promiseDone(promise,-1,r,promise.onReject_)}function promiseDone(promise,status,value,reactions){0===promise.status_&&(promiseEnqueue(value,reactions),promiseSet(promise,status,value))}function promiseEnqueue(value,tasks){async(function(){for(var i=0;i<tasks.length;i+=2)promiseHandle(value,tasks[i],tasks[i+1])})}function promiseHandle(value,handler,deferred){try{var result=handler(value);if(result===deferred.promise)throw new TypeError;isPromise(result)?chain(result,deferred.resolve,deferred.reject):deferred.resolve(result)}catch(e){try{deferred.reject(e)}catch(e){}}}function promiseCoerce(constructor,x){if(!isPromise(x)&&isObject(x)){var then;try{then=x.then}catch(r){var promise=$PromiseReject.call(constructor,r);return setPrivate(x,thenableSymbol,promise),promise}if("function"==typeof then){var p=getPrivate(x,thenableSymbol);if(p)return p;var deferred=getDeferred(constructor);setPrivate(x,thenableSymbol,deferred.promise);try{then.call(x,deferred.resolve,deferred.reject)}catch(r){deferred.reject(r)}return deferred.promise}}return x}function polyfillPromise(global){global.Promise||(global.Promise=Promise)}var async=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../../../node_modules/rsvp/lib/rsvp/asap.js","traceur-runtime@0.0.105/src/runtime/polyfills/Promise.js")).default,$__1=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.105/src/runtime/polyfills/Promise.js")),isObject=$__1.isObject,registerPolyfill=$__1.registerPolyfill,$__2=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../private.js","traceur-runtime@0.0.105/src/runtime/polyfills/Promise.js")),createPrivateSymbol=$__2.createPrivateSymbol,getPrivate=$__2.getPrivate,setPrivate=$__2.setPrivate,promiseRaw={},Promise=function(){function Promise(resolver){if(resolver!==promiseRaw){if("function"!=typeof resolver)throw new TypeError;var promise=promiseInit(this);try{resolver(function(x){promiseResolve(promise,x)},function(r){promiseReject(promise,r)})}catch(e){promiseReject(promise,e)}}}return $traceurRuntime.createClass(Promise,{catch:function(onReject){return this.then(void 0,onReject)},then:function(onResolve,onReject){"function"!=typeof onResolve&&(onResolve=idResolveHandler),"function"!=typeof onReject&&(onReject=idRejectHandler);var that=this,constructor=this.constructor;return chain(this,function(x){return x=promiseCoerce(constructor,x),x===that?onReject(new TypeError):isPromise(x)?x.then(onResolve,onReject):onResolve(x)},onReject)}},{resolve:function(x){return this===$Promise?isPromise(x)?x:promiseSet(new $Promise(promiseRaw),1,x):new this(function(resolve,reject){resolve(x)})},reject:function(r){return this===$Promise?promiseSet(new $Promise(promiseRaw),-1,r):new this(function(resolve,reject){reject(r)})},all:function(values){var deferred=getDeferred(this),resolutions=[];try{var makeCountdownFunction=function(i){return function(x){resolutions[i]=x,0==--count&&deferred.resolve(resolutions)}},count=0,i=0,$__7=!0,$__8=!1,$__9=void 0;try{for(var $__5=void 0,$__4=values[Symbol.iterator]();!($__7=($__5=$__4.next()).done);$__7=!0){var value=$__5.value,countdownFunction=makeCountdownFunction(i);this.resolve(value).then(countdownFunction,function(r){deferred.reject(r)}),++i,++count}}catch($__10){$__8=!0,$__9=$__10}finally{try{$__7||null==$__4.return||$__4.return()}finally{if($__8)throw $__9}}0===count&&deferred.resolve(resolutions)}catch(e){deferred.reject(e)}return deferred.promise},race:function(values){var deferred=getDeferred(this);try{for(var i=0;i<values.length;i++)this.resolve(values[i]).then(function(x){deferred.resolve(x)},function(r){deferred.reject(r)})}catch(e){deferred.reject(e)}return deferred.promise}})}(),$Promise=Promise,$PromiseReject=$Promise.reject,thenableSymbol=createPrivateSymbol();return registerPolyfill(polyfillPromise),{get Promise(){return Promise},get polyfillPromise(){return polyfillPromise}}}),$traceurRuntime.getModule("traceur-runtime@0.0.105/src/runtime/polyfills/Promise.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/StringIterator.js",[],function(){"use strict";function createStringIterator(string){var s=String(string),iterator=Object.create(StringIterator.prototype);return iterator[iteratedString]=s,iterator[stringIteratorNextIndex]=0,iterator}var $__0=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.105/src/runtime/polyfills/StringIterator.js")),createIteratorResultObject=$__0.createIteratorResultObject,isObject=$__0.isObject,hasOwnProperty=Object.prototype.hasOwnProperty,iteratedString=Symbol("iteratedString"),stringIteratorNextIndex=Symbol("stringIteratorNextIndex"),StringIterator=function(){function StringIterator(){}var $__3;return $traceurRuntime.createClass(StringIterator,($__3={},Object.defineProperty($__3,"next",{value:function(){var o=this;if(!isObject(o)||!hasOwnProperty.call(o,iteratedString))throw new TypeError("this must be a StringIterator object");var s=o[iteratedString];if(void 0===s)return createIteratorResultObject(void 0,!0);var position=o[stringIteratorNextIndex],len=s.length;if(position>=len)return o[iteratedString]=void 0,createIteratorResultObject(void 0,!0);var resultString,first=s.charCodeAt(position);if(first<55296||first>56319||position+1===len)resultString=String.fromCharCode(first);else{var second=s.charCodeAt(position+1);resultString=second<56320||second>57343?String.fromCharCode(first):String.fromCharCode(first)+String.fromCharCode(second)}return o[stringIteratorNextIndex]=position+resultString.length,createIteratorResultObject(resultString,!1)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__3,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!0,writable:!0}),$__3),{})}();return{get createStringIterator(){return createStringIterator}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/String.js",[],function(){"use strict";function startsWith(search){var string=String(this);if(null==this||"[object RegExp]"==$toString.call(search))throw TypeError();var stringLength=string.length,searchString=String(search),position=(searchString.length,arguments.length>1?arguments[1]:void 0),pos=position?Number(position):0;isNaN(pos)&&(pos=0);var start=Math.min(Math.max(pos,0),stringLength);return $indexOf.call(string,searchString,pos)==start}function endsWith(search){var string=String(this);if(null==this||"[object RegExp]"==$toString.call(search))throw TypeError();var stringLength=string.length,searchString=String(search),searchLength=searchString.length,pos=stringLength;if(arguments.length>1){var position=arguments[1];void 0!==position&&(pos=position?Number(position):0,isNaN(pos)&&(pos=0))}var end=Math.min(Math.max(pos,0),stringLength),start=end-searchLength;return!(start<0)&&$lastIndexOf.call(string,searchString,start)==start}function includes(search){if(null==this)throw TypeError();var string=String(this);if(search&&"[object RegExp]"==$toString.call(search))throw TypeError();var stringLength=string.length,searchString=String(search),searchLength=searchString.length,position=arguments.length>1?arguments[1]:void 0,pos=position?Number(position):0;return pos!=pos&&(pos=0),!(searchLength+Math.min(Math.max(pos,0),stringLength)>stringLength)&&-1!=$indexOf.call(string,searchString,pos)}function repeat(count){if(null==this)throw TypeError();var string=String(this),n=count?Number(count):0;if(isNaN(n)&&(n=0),n<0||n==1/0)throw RangeError();if(0==n)return"";for(var result="";n--;)result+=string;return result}function codePointAt(position){if(null==this)throw TypeError();var string=String(this),size=string.length,index=position?Number(position):0;if(isNaN(index)&&(index=0),!(index<0||index>=size)){var second,first=string.charCodeAt(index);return first>=55296&&first<=56319&&size>index+1&&(second=string.charCodeAt(index+1))>=56320&&second<=57343?1024*(first-55296)+second-56320+65536:first}}function raw(callsite){var raw=callsite.raw,len=raw.length>>>0;if(0===len)return"";for(var s="",i=0;;){if(s+=raw[i],i+1===len)return s;s+=arguments[++i]}}function fromCodePoint(_){var highSurrogate,lowSurrogate,codeUnits=[],floor=Math.floor,index=-1,length=arguments.length;if(!length)return"";for(;++index<length;){var codePoint=Number(arguments[index]);if(!isFinite(codePoint)||codePoint<0||codePoint>1114111||floor(codePoint)!=codePoint)throw RangeError("Invalid code point: "+codePoint);codePoint<=65535?codeUnits.push(codePoint):(codePoint-=65536,highSurrogate=55296+(codePoint>>10),lowSurrogate=codePoint%1024+56320,codeUnits.push(highSurrogate,lowSurrogate))}return String.fromCharCode.apply(null,codeUnits)}function stringPrototypeIterator(){var o=checkObjectCoercible(this),s=String(o);return createStringIterator(s)}function polyfillString(global){var String=global.String;maybeAddFunctions(String.prototype,["codePointAt",codePointAt,"endsWith",endsWith,"includes",includes,"repeat",repeat,"startsWith",startsWith]),maybeAddFunctions(String,["fromCodePoint",fromCodePoint,"raw",raw]),maybeAddIterator(String.prototype,stringPrototypeIterator,Symbol)}var checkObjectCoercible=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../checkObjectCoercible.js","traceur-runtime@0.0.105/src/runtime/polyfills/String.js")).default,createStringIterator=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./StringIterator.js","traceur-runtime@0.0.105/src/runtime/polyfills/String.js")).createStringIterator,$__2=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.105/src/runtime/polyfills/String.js")),maybeAddFunctions=$__2.maybeAddFunctions,maybeAddIterator=$__2.maybeAddIterator,registerPolyfill=$__2.registerPolyfill,$toString=Object.prototype.toString,$indexOf=String.prototype.indexOf,$lastIndexOf=String.prototype.lastIndexOf;return registerPolyfill(polyfillString),{get startsWith(){return startsWith},get endsWith(){return endsWith},get includes(){return includes},get repeat(){return repeat},get codePointAt(){return codePointAt},get raw(){return raw},get fromCodePoint(){return fromCodePoint},get stringPrototypeIterator(){return stringPrototypeIterator},get polyfillString(){return polyfillString}}}),$traceurRuntime.getModule("traceur-runtime@0.0.105/src/runtime/polyfills/String.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/ArrayIterator.js",[],function(){"use strict";function createArrayIterator(array,kind){var object=toObject(array),iterator=new ArrayIterator;return iterator.iteratorObject_=object,iterator.arrayIteratorNextIndex_=0,iterator.arrayIterationKind_=kind,iterator}function entries(){return createArrayIterator(this,ARRAY_ITERATOR_KIND_ENTRIES)}function keys(){return createArrayIterator(this,ARRAY_ITERATOR_KIND_KEYS)}function values(){return createArrayIterator(this,ARRAY_ITERATOR_KIND_VALUES)}var $__0=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.105/src/runtime/polyfills/ArrayIterator.js")),toObject=$__0.toObject,toUint32=$__0.toUint32,createIteratorResultObject=$__0.createIteratorResultObject,ARRAY_ITERATOR_KIND_KEYS=1,ARRAY_ITERATOR_KIND_VALUES=2,ARRAY_ITERATOR_KIND_ENTRIES=3,ArrayIterator=function(){function ArrayIterator(){}var $__3;return $traceurRuntime.createClass(ArrayIterator,($__3={},Object.defineProperty($__3,"next",{value:function(){var iterator=toObject(this),array=iterator.iteratorObject_;if(!array)throw new TypeError("Object is not an ArrayIterator");var index=iterator.arrayIteratorNextIndex_,itemKind=iterator.arrayIterationKind_;return index>=toUint32(array.length)?(iterator.arrayIteratorNextIndex_=1/0,createIteratorResultObject(void 0,!0)):(iterator.arrayIteratorNextIndex_=index+1,itemKind==ARRAY_ITERATOR_KIND_VALUES?createIteratorResultObject(array[index],!1):itemKind==ARRAY_ITERATOR_KIND_ENTRIES?createIteratorResultObject([index,array[index]],!1):createIteratorResultObject(index,!1))},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty($__3,Symbol.iterator,{value:function(){return this},configurable:!0,enumerable:!0,writable:!0}),$__3),{})}();return{get entries(){return entries},get keys(){return keys},get values(){return values}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/Array.js",[],function(){"use strict";function from(arrLike){var arr,len,mapFn=arguments[1],thisArg=arguments[2],C=this,items=toObject(arrLike),mapping=void 0!==mapFn,k=0;if(mapping&&!isCallable(mapFn))throw TypeError();if(checkIterable(items)){arr=isConstructor(C)?new C:[];var $__6=!0,$__7=!1,$__8=void 0;try{for(var $__4=void 0,$__3=items[Symbol.iterator]();!($__6=($__4=$__3.next()).done);$__6=!0){var item=$__4.value;arr[k]=mapping?mapFn.call(thisArg,item,k):item,k++}}catch($__9){$__7=!0,$__8=$__9}finally{try{$__6||null==$__3.return||$__3.return()}finally{if($__7)throw $__8}}return arr.length=k,arr}for(len=toLength(items.length),arr=isConstructor(C)?new C(len):new Array(len);k<len;k++)arr[k]=mapping?void 0===thisArg?mapFn(items[k],k):mapFn.call(thisArg,items[k],k):items[k];return arr.length=len,arr}function of(){for(var items=[],$__10=0;$__10<arguments.length;$__10++)items[$__10]=arguments[$__10];for(var C=this,len=items.length,arr=isConstructor(C)?new C(len):new Array(len),k=0;k<len;k++)arr[k]=items[k];return arr.length=len,arr}function fill(value){var start=void 0!==arguments[1]?arguments[1]:0,end=arguments[2],object=toObject(this),len=toLength(object.length),fillStart=toInteger(start),fillEnd=void 0!==end?toInteger(end):len;for(fillStart=fillStart<0?Math.max(len+fillStart,0):Math.min(fillStart,len),fillEnd=fillEnd<0?Math.max(len+fillEnd,0):Math.min(fillEnd,len);fillStart<fillEnd;)object[fillStart]=value,fillStart++;return object}function find(predicate){return findHelper(this,predicate,arguments[1])}function findIndex(predicate){return findHelper(this,predicate,arguments[1],!0)}function findHelper(self,predicate){var thisArg=arguments[2],returnIndex=void 0!==arguments[3]&&arguments[3],object=toObject(self),len=toLength(object.length);if(!isCallable(predicate))throw TypeError();for(var i=0;i<len;i++){var value=object[i];if(predicate.call(thisArg,value,i,object))return returnIndex?i:value}return returnIndex?-1:void 0}function polyfillArray(global){var $__11=global,Array=$__11.Array,Object=$__11.Object,Symbol=$__11.Symbol,values=jsValues;Symbol&&Symbol.iterator&&Array.prototype[Symbol.iterator]&&(values=Array.prototype[Symbol.iterator]),maybeAddFunctions(Array.prototype,["entries",entries,"keys",keys,"values",values,"fill",fill,"find",find,"findIndex",findIndex]),maybeAddFunctions(Array,["from",from,"of",of]),maybeAddIterator(Array.prototype,values,Symbol),maybeAddIterator(Object.getPrototypeOf([].values()),function(){return this},Symbol)}var $__0=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./ArrayIterator.js","traceur-runtime@0.0.105/src/runtime/polyfills/Array.js")),entries=$__0.entries,keys=$__0.keys,jsValues=$__0.values,$__1=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.105/src/runtime/polyfills/Array.js")),checkIterable=$__1.checkIterable,isCallable=$__1.isCallable,isConstructor=$__1.isConstructor,maybeAddFunctions=$__1.maybeAddFunctions,maybeAddIterator=$__1.maybeAddIterator,registerPolyfill=$__1.registerPolyfill,toInteger=$__1.toInteger,toLength=$__1.toLength,toObject=$__1.toObject;return registerPolyfill(polyfillArray),{get from(){return from},get of(){return of},get fill(){return fill},get find(){return find},get findIndex(){return findIndex},get polyfillArray(){return polyfillArray}}}),$traceurRuntime.getModule("traceur-runtime@0.0.105/src/runtime/polyfills/Array.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/assign.js",[],function(){"use strict";function assign(target){for(var i=1;i<arguments.length;i++){var source=arguments[i],props=null==source?[]:keys(source),p=void 0,length=props.length;for(p=0;p<length;p++){var name=props[p];target[name]=source[name]}}return target}var keys=Object.keys,$__default=assign;return{get default(){return $__default}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/Object.js",[],function(){"use strict";function is(left,right){return left===right?0!==left||1/left==1/right:left!==left&&right!==right}function mixin(target,source){var p,descriptor,props=getOwnPropertyNames(source),length=props.length;for(p=0;p<length;p++){props[p];descriptor=getOwnPropertyDescriptor(source,props[p]),defineProperty(target,props[p],descriptor)}return target}function polyfillObject(global){var Object=global.Object;maybeAddFunctions(Object,["assign",assign,"is",is,"mixin",mixin])}var $__0=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.105/src/runtime/polyfills/Object.js")),maybeAddFunctions=$__0.maybeAddFunctions,registerPolyfill=$__0.registerPolyfill,assign=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./assign.js","traceur-runtime@0.0.105/src/runtime/polyfills/Object.js")).default,$__3=Object,defineProperty=$__3.defineProperty,getOwnPropertyDescriptor=$__3.getOwnPropertyDescriptor,getOwnPropertyNames=$__3.getOwnPropertyNames;return registerPolyfill(polyfillObject),{get assign(){return assign},get is(){return is},get mixin(){return mixin},get polyfillObject(){return polyfillObject}}}),$traceurRuntime.getModule("traceur-runtime@0.0.105/src/runtime/polyfills/Object.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/Number.js",[],function(){"use strict";function NumberIsFinite(number){return isNumber(number)&&$isFinite(number)}function isInteger(number){return NumberIsFinite(number)&&toInteger(number)===number}function NumberIsNaN(number){return isNumber(number)&&$isNaN(number)}function isSafeInteger(number){if(NumberIsFinite(number)){var integral=toInteger(number);if(integral===number)return $abs(integral)<=MAX_SAFE_INTEGER}return!1}function polyfillNumber(global){var Number=global.Number;maybeAddConsts(Number,["MAX_SAFE_INTEGER",MAX_SAFE_INTEGER,"MIN_SAFE_INTEGER",MIN_SAFE_INTEGER,"EPSILON",EPSILON]),maybeAddFunctions(Number,["isFinite",NumberIsFinite,"isInteger",isInteger,"isNaN",NumberIsNaN,"isSafeInteger",isSafeInteger])}var $__0=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.105/src/runtime/polyfills/Number.js")),isNumber=$__0.isNumber,maybeAddConsts=$__0.maybeAddConsts,maybeAddFunctions=$__0.maybeAddFunctions,registerPolyfill=$__0.registerPolyfill,toInteger=$__0.toInteger,$abs=Math.abs,$isFinite=isFinite,$isNaN=isNaN,MAX_SAFE_INTEGER=Math.pow(2,53)-1,MIN_SAFE_INTEGER=1-Math.pow(2,53),EPSILON=Math.pow(2,-52);return registerPolyfill(polyfillNumber),{get MAX_SAFE_INTEGER(){return MAX_SAFE_INTEGER},get MIN_SAFE_INTEGER(){return MIN_SAFE_INTEGER},get EPSILON(){return EPSILON},get isFinite(){return NumberIsFinite},get isInteger(){return isInteger},get isNaN(){return NumberIsNaN},get isSafeInteger(){return isSafeInteger},get polyfillNumber(){return polyfillNumber}}}),$traceurRuntime.getModule("traceur-runtime@0.0.105/src/runtime/polyfills/Number.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/fround.js",[],function(){"use strict";function packIEEE754(v,ebits,fbits){function roundToEven(n){var w=floor(n),f=n-w;return f<.5?w:f>.5?w+1:w%2?w+1:w}var s,e,f,i,bits,str,bytes,bias=(1<<ebits-1)-1;for(v!==v?(e=(1<<ebits)-1,f=pow(2,fbits-1),s=0):v===1/0||v===-1/0?(e=(1<<ebits)-1,f=0,s=v<0?1:0):0===v?(e=0,f=0,s=1/v==-1/0?1:0):(s=v<0,v=abs(v),v>=pow(2,1-bias)?(e=min(floor(log(v)/LN2),1023),f=roundToEven(v/pow(2,e)*pow(2,fbits)),f/pow(2,fbits)>=2&&(e+=1,f=1),e>bias?(e=(1<<ebits)-1,f=0):(e+=bias,f-=pow(2,fbits))):(e=0,f=roundToEven(v/pow(2,1-bias-fbits)))),bits=[],i=fbits;i;i-=1)bits.push(f%2?1:0),f=floor(f/2);for(i=ebits;i;i-=1)bits.push(e%2?1:0),e=floor(e/2);for(bits.push(s?1:0),bits.reverse(),str=bits.join(""),bytes=[];str.length;)bytes.push(parseInt(str.substring(0,8),2)),str=str.substring(8);return bytes}function unpackIEEE754(bytes,ebits,fbits){var i,j,b,str,bias,s,e,f,bits=[];for(i=bytes.length;i;i-=1)for(b=bytes[i-1],j=8;j;j-=1)bits.push(b%2?1:0),b>>=1;return bits.reverse(),str=bits.join(""),bias=(1<<ebits-1)-1,s=parseInt(str.substring(0,1),2)?-1:1,e=parseInt(str.substring(1,1+ebits),2),f=parseInt(str.substring(1+ebits),2),e===(1<<ebits)-1?0!==f?NaN:s*(1/0):e>0?s*pow(2,e-bias)*(1+f/pow(2,fbits)):0!==f?s*pow(2,-(bias-1))*(f/pow(2,fbits)):s<0?-0:0}function unpackF32(b){return unpackIEEE754(b,8,23)}function packF32(v){return packIEEE754(v,8,23)}function fround(x){return 0===x||!$isFinite(x)||$isNaN(x)?x:unpackF32(packF32(Number(x)))}var $isFinite=isFinite,$isNaN=isNaN,$__1=Math,LN2=$__1.LN2,abs=$__1.abs,floor=$__1.floor,log=$__1.log,min=$__1.min,pow=$__1.pow;return{get fround(){return fround}}}),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/Math.js",[],function(){"use strict";function clz32(x){if(0==(x=toUint32(+x)))return 32;var result=0;return 0==(4294901760&x)&&(x<<=16,result+=16),0==(4278190080&x)&&(x<<=8,result+=8),0==(4026531840&x)&&(x<<=4,result+=4),0==(3221225472&x)&&(x<<=2,result+=2),0==(2147483648&x)&&(x<<=1,result+=1),result}function imul(x,y){x=toUint32(+x),y=toUint32(+y);var xh=x>>>16&65535,xl=65535&x,yh=y>>>16&65535,yl=65535&y;return xl*yl+(xh*yl+xl*yh<<16>>>0)|0}function sign(x){return x=+x,x>0?1:x<0?-1:x}function log10(x){return.4342944819032518*log(x)}function log2(x){return 1.4426950408889634*log(x)}function log1p(x){if((x=+x)<-1||$isNaN(x))return NaN;if(0===x||x===1/0)return x;if(-1===x)return-1/0;var result=0,n=50;if(x<0||x>1)return log(1+x);for(var i=1;i<n;i++)i%2==0?result-=pow(x,i)/i:result+=pow(x,i)/i;return result}function expm1(x){return x=+x,x===-1/0?-1:$isFinite(x)&&0!==x?exp(x)-1:x}function cosh(x){return 0===(x=+x)?1:$isNaN(x)?NaN:$isFinite(x)?(x<0&&(x=-x),x>21?exp(x)/2:(exp(x)+exp(-x))/2):1/0}function sinh(x){return x=+x,$isFinite(x)&&0!==x?(exp(x)-exp(-x))/2:x}function tanh(x){if(0===(x=+x))return x;if(!$isFinite(x))return sign(x);var exp1=exp(x),exp2=exp(-x);return(exp1-exp2)/(exp1+exp2)}function acosh(x){return x=+x,x<1?NaN:$isFinite(x)?log(x+sqrt(x+1)*sqrt(x-1)):x}function asinh(x){return x=+x,0!==x&&$isFinite(x)?x>0?log(x+sqrt(x*x+1)):-log(-x+sqrt(x*x+1)):x}function atanh(x){return x=+x,-1===x?-1/0:1===x?1/0:0===x?x:$isNaN(x)||x<-1||x>1?NaN:.5*log((1+x)/(1-x))}function hypot(x,y){for(var length=arguments.length,args=new Array(length),max=0,i=0;i<length;i++){var n=arguments[i];if((n=+n)===1/0||n===-1/0)return 1/0;n=abs(n),n>max&&(max=n),args[i]=n}0===max&&(max=1);for(var sum=0,compensation=0,i=0;i<length;i++){var n=args[i]/max,summand=n*n-compensation,preliminary=sum+summand;compensation=preliminary-sum-summand,sum=preliminary}return sqrt(sum)*max}function trunc(x){return x=+x,x>0?floor(x):x<0?ceil(x):x}function cbrt(x){if(0===(x=+x))return x;var negate=x<0;negate&&(x=-x);var result=pow(x,1/3);return negate?-result:result}function polyfillMath(global){var Math=global.Math;maybeAddFunctions(Math,["acosh",acosh,"asinh",asinh,"atanh",atanh,"cbrt",cbrt,"clz32",clz32,"cosh",cosh,"expm1",expm1,"fround",fround,"hypot",hypot,"imul",imul,"log10",log10,"log1p",log1p,"log2",log2,"sign",sign,"sinh",sinh,"tanh",tanh,"trunc",trunc])}var fround,f32,jsFround=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./fround.js","traceur-runtime@0.0.105/src/runtime/polyfills/Math.js")).fround,$__1=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.105/src/runtime/polyfills/Math.js")),maybeAddFunctions=$__1.maybeAddFunctions,registerPolyfill=$__1.registerPolyfill,toUint32=$__1.toUint32,$isFinite=isFinite,$isNaN=isNaN,$__3=Math,abs=$__3.abs,ceil=$__3.ceil,exp=$__3.exp,floor=$__3.floor,log=$__3.log,pow=$__3.pow,sqrt=$__3.sqrt;return"function"==typeof Float32Array?(f32=new Float32Array(1),fround=function(x){return f32[0]=Number(x),f32[0]}):fround=jsFround,registerPolyfill(polyfillMath),{get clz32(){return clz32},get imul(){return imul},get sign(){return sign},get log10(){return log10},get log2(){return log2},get log1p(){return log1p},get expm1(){return expm1},get cosh(){return cosh},get sinh(){return sinh},get tanh(){return tanh},get acosh(){return acosh},get asinh(){return asinh},get atanh(){return atanh},get hypot(){return hypot},get trunc(){return trunc},get fround(){return fround},get cbrt(){return cbrt},get polyfillMath(){return polyfillMath}}}),$traceurRuntime.getModule("traceur-runtime@0.0.105/src/runtime/polyfills/Math.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/WeakMap.js",[],function(){"use strict";function needsPolyfill(global){var $__8=global,WeakMap=$__8.WeakMap;$__8.Symbol;if(!WeakMap||!hasNativeSymbol())return!0;try{var o={};return new WeakMap([[o,!1]]).get(o)}catch(e){return!1}}function polyfillWeakMap(global){needsPolyfill(global)&&(global.WeakMap=WeakMap)}var $__0=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../private.js","traceur-runtime@0.0.105/src/runtime/polyfills/WeakMap.js")),createPrivateSymbol=$__0.createPrivateSymbol,deletePrivate=$__0.deletePrivate,getPrivate=$__0.getPrivate,hasPrivate=$__0.hasPrivate,setPrivate=$__0.setPrivate,$__1=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../frozen-data.js","traceur-runtime@0.0.105/src/runtime/polyfills/WeakMap.js")),deleteFrozen=$__1.deleteFrozen,getFrozen=$__1.getFrozen,hasFrozen=$__1.hasFrozen,setFrozen=$__1.setFrozen,$__2=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.105/src/runtime/polyfills/WeakMap.js")),isObject=$__2.isObject,registerPolyfill=$__2.registerPolyfill,hasNativeSymbol=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../has-native-symbols.js","traceur-runtime@0.0.105/src/runtime/polyfills/WeakMap.js")).default,$__6=Object,isExtensible=($__6.defineProperty,$__6.getOwnPropertyDescriptor,$__6.isExtensible),$TypeError=TypeError,WeakMap=(Object.prototype.hasOwnProperty,function(){function WeakMap(){this.name_=createPrivateSymbol(),this.frozenData_=[]}return $traceurRuntime.createClass(WeakMap,{set:function(key,value){if(!isObject(key))throw new $TypeError("key must be an object");return isExtensible(key)?setPrivate(key,this.name_,value):setFrozen(this.frozenData_,key,value),this},get:function(key){if(isObject(key))return isExtensible(key)?getPrivate(key,this.name_):getFrozen(this.frozenData_,key)},delete:function(key){return!!isObject(key)&&(isExtensible(key)?deletePrivate(key,this.name_):deleteFrozen(this.frozenData_,key))},has:function(key){return!!isObject(key)&&(isExtensible(key)?hasPrivate(key,this.name_):hasFrozen(this.frozenData_,key))}},{})}());return registerPolyfill(polyfillWeakMap),{get WeakMap(){return WeakMap},get polyfillWeakMap(){return polyfillWeakMap}}}),$traceurRuntime.getModule("traceur-runtime@0.0.105/src/runtime/polyfills/WeakMap.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/WeakSet.js",[],function(){"use strict";function needsPolyfill(global){var $__8=global,WeakSet=$__8.WeakSet;$__8.Symbol;if(!WeakSet||!hasNativeSymbol())return!0;try{var o={};return!new WeakSet([[o]]).has(o)}catch(e){return!1}}function polyfillWeakSet(global){needsPolyfill(global)&&(global.WeakSet=WeakSet)}var $__0=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../private.js","traceur-runtime@0.0.105/src/runtime/polyfills/WeakSet.js")),createPrivateSymbol=$__0.createPrivateSymbol,deletePrivate=$__0.deletePrivate,hasPrivate=($__0.getPrivate,$__0.hasPrivate),setPrivate=$__0.setPrivate,$__1=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../frozen-data.js","traceur-runtime@0.0.105/src/runtime/polyfills/WeakSet.js")),deleteFrozen=$__1.deleteFrozen,getFrozen=$__1.getFrozen,setFrozen=$__1.setFrozen,$__2=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.105/src/runtime/polyfills/WeakSet.js")),isObject=$__2.isObject,registerPolyfill=$__2.registerPolyfill,hasNativeSymbol=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("../has-native-symbols.js","traceur-runtime@0.0.105/src/runtime/polyfills/WeakSet.js")).default,$__6=Object,isExtensible=($__6.defineProperty,$__6.isExtensible),$TypeError=TypeError,WeakSet=(Object.prototype.hasOwnProperty,function(){function WeakSet(){this.name_=createPrivateSymbol(),this.frozenData_=[]}return $traceurRuntime.createClass(WeakSet,{add:function(value){if(!isObject(value))throw new $TypeError("value must be an object");return isExtensible(value)?setPrivate(value,this.name_,!0):setFrozen(this.frozenData_,value,value),this},delete:function(value){return!!isObject(value)&&(isExtensible(value)?deletePrivate(value,this.name_):deleteFrozen(this.frozenData_,value))},has:function(value){return!!isObject(value)&&(isExtensible(value)?hasPrivate(value,this.name_):getFrozen(this.frozenData_,value)===value)}},{})}());return registerPolyfill(polyfillWeakSet),{get WeakSet(){return WeakSet},get polyfillWeakSet(){return polyfillWeakSet}}}),$traceurRuntime.getModule("traceur-runtime@0.0.105/src/runtime/polyfills/WeakSet.js"),$traceurRuntime.registerModule("traceur-runtime@0.0.105/src/runtime/polyfills/polyfills.js",[],function(){"use strict";var polyfillAll=$traceurRuntime.getModule($traceurRuntime.normalizeModuleName("./utils.js","traceur-runtime@0.0.105/src/runtime/polyfills/polyfills.js")).polyfillAll;polyfillAll(Reflect.global);var setupGlobals=$traceurRuntime.setupGlobals;return $traceurRuntime.setupGlobals=function(global){setupGlobals(global),polyfillAll(global)},{}}),$traceurRuntime.getModule("traceur-runtime@0.0.105/src/runtime/polyfills/polyfills.js"),System=curSystem}(),function(e){function t(e){Object.defineProperty(this,e,{enumerable:!0,get:function(){return this[v][e]}})}function r(e){if("undefined"!=typeof System&&System.isModule?System.isModule(e):"[object Module]"===Object.prototype.toString.call(e))return e;var t={default:e,__useDefault:e};if(e&&e.__esModule)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return new o(t)}function o(e){Object.defineProperty(this,v,{value:e}),Object.keys(e).forEach(t,this)}function n(e){return"@node/"===e.substr(0,6)?c(e,r(m(e.substr(6))),{}):p[e]}function u(e){var t=n(e);if(!t)throw new Error('Module "'+e+'" expected, but not contained in build.');if(t.module)return t.module;var r=t.linkRecord;return i(t,r),a(t,r,[]),t.module}function i(e,t){if(!t.depLoads){t.declare&&d(e,t),t.depLoads=[];for(var r=0;r<t.deps.length;r++){var o=n(t.deps[r]);t.depLoads.push(o),o.linkRecord&&i(o,o.linkRecord);var u=t.setters&&t.setters[r];u&&(u(o.module||o.linkRecord.moduleObj),o.importerSetters.push(u))}return e}}function d(t,r){var o=r.moduleObj,n=t.importerSetters,u=!1,i=r.declare.call(e,function(e,t){if(!u){if("object"==typeof e)for(var r in e)"__useDefault"!==r&&(o[r]=e[r]);else o[e]=t;u=!0;for(var i=0;i<n.length;i++)n[i](o);return u=!1,t}},{id:t.key});"function"!=typeof i?(r.setters=i.setters,r.execute=i.execute):(r.setters=[],r.execute=i)}function l(e,t,r){return p[e]={key:e,module:void 0,importerSetters:[],linkRecord:{deps:t,depLoads:void 0,declare:r,setters:void 0,execute:void 0,moduleObj:{}}}}function f(e,t,r,o){var n={};return p[e]={key:e,module:void 0,importerSetters:[],linkRecord:{deps:t,depLoads:void 0,declare:void 0,execute:o,executingRequire:r,moduleObj:{default:n,__useDefault:n},setters:void 0}}}function s(e,t,r){return function(o){for(var n=0;n<e.length;n++)if(e[n]===o){var u,i=t[n],d=i.linkRecord;return u=d?-1===r.indexOf(i)?a(i,d,r):d.moduleObj:i.module,"__useDefault"in u?u.__useDefault:u}}}function a(t,r,n){if(n.push(t),t.module)return t.module;if(r.setters){for(var i=0;i<r.deps.length;i++){var d=r.depLoads[i],l=d.linkRecord;l&&-1===n.indexOf(d)&&a(d,l,l.setters?n:[])}r.execute.call(y)}else{var f={id:t.key},c=r.moduleObj;Object.defineProperty(f,"exports",{configurable:!0,set:function(e){c.default=c.__useDefault=e},get:function(){return c.__useDefault}});var p=s(r.deps,r.depLoads,n);if(!r.executingRequire)for(var i=0;i<r.deps.length;i++)p(r.deps[i]);var v=r.execute.call(e,p,c.__useDefault,f);void 0!==v?c.default=c.__useDefault=v:f.exports!==c.__useDefault&&(c.default=c.__useDefault=f.exports);var m=c.__useDefault;if(m&&m.__esModule)for(var b in m)Object.hasOwnProperty.call(m,b)&&(c[b]=m[b])}var f=t.module=new o(r.moduleObj);if(!r.setters)for(var i=0;i<t.importerSetters.length;i++)t.importerSetters[i](f);return f}function c(e,t){return p[e]={key:e,module:t,importerSetters:[],linkRecord:void 0}}var p={},v="undefined"!=typeof Symbol?Symbol():"@@baseObject";o.prototype=Object.create(null),"undefined"!=typeof Symbol&&Symbol.toStringTag&&(o.prototype[Symbol.toStringTag]="Module");var m="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&void 0!==require.resolve&&"undefined"!=typeof process&&process.platform&&require,y={};return Object.freeze&&Object.freeze(y),function(e,t,n,i){return function(d){d(function(d){var s={_nodeRequire:m,register:l,registerDynamic:f,registry:{get:function(e){return p[e].module},set:c},newModule:function(e){return new o(e)}};c("@empty",new o({}));for(var a=0;a<t.length;a++)c(t[a],r(arguments[a],{}));i(s);var v=u(e[0]);if(e.length>1)for(var a=1;a<e.length;a++)u(e[a]);return n?v.__useDefault:(v instanceof o&&Object.defineProperty(v,"__esModule",{value:!0}),v)})}}}("undefined"!=typeof self?self:"undefined"!=typeof global?global:this)(["a"],[],!1,function($__System){var require=this.require,exports=this.exports,module=this.module;$__System.register("b",[],function($__export){"use strict";var mapConfig;return{setters:[],execute:function(){mapConfig={domId:"map",centerX:105.682167921712,centerY:34.5739567124737,zoomLevel:16,projection:"EPSG:4326",minZoom:1,maxZoom:18,bounds:[122.35473632896162,31.341247558929496,122.35748291099287,31.34399414096076],initLayers:[{id:"100",name:"基础底图-天地图影像",type:"WMTS",url:"http://t4.tianditu.com/DataServer?T=img_w&x={x}&y={y}&l={z}",projection:"EPSG:4326",isLoad:!0,isVisible:!0},{id:"101",name:"基础底图-天地图标注",type:"WMTS",url:"http://t4.tianditu.com/DataServer?T=cva_w&x={x}&y={y}&l={z}",projection:"EPSG:4326",isLoad:!0,isVisible:!0},{id:"201",name:"默认矢量图层",type:"Vector",isLoad:!0,isVisible:!0},{id:"202",name:"默认标记图层",type:"Vector",isLoad:!0,isVisible:!0},{id:"301",name:"",type:"WMS",url:"",projection:"EPSG:4326",isLoad:!0,isVisible:!0,layers:""}]},$__export("default",mapConfig)}}}),$__System.register("c",["b"],function($__export){"use strict";var mapConfigTDT,mapConfig;return{setters:[function($__m){mapConfigTDT=$__m.default}],execute:function(){mapConfig=mapConfigTDT,$__export("default",mapConfig)}}}),$__System.register("d",["e"],function($__export){"use strict";var layerOper,mapOper;return{setters:[function($__m){layerOper=$__m.layerOper}],execute:function(){mapOper=function(){function mapOper(mapConfig){this.map=null,this.mapConfig=mapConfig,this.defaultCenter=null,this.layerApi=null,this.mapClickEvents=[],this.postComposeEvents=[]}return $traceurRuntime.createClass(mapOper,{initMap:function(){var mapCenter=(this.mapConfig.domId,[this.mapConfig.centerX,this.mapConfig.centerY]),zoomLevel=this.mapConfig.zoomLevel;"EPSG:4326"!=this.mapConfig.projection&&(mapCenter=ol.proj.transform(mapCenter,"EPSG:4326",this.mapConfig.projection),console.log(mapCenter));var mapView=new ol.View({projection:new ol.proj.get(this.mapConfig.projection),center:mapCenter,zoom:zoomLevel,minZoom:this.mapConfig.minZoom,maxZoom:this.mapConfig.maxZoom});this.map=new ol.Map({view:mapView,controls:new ol.control.defaults({attribution:!1,zoom:!1,rotate:!1}),target:"map"}),this.mapView=this.map.getView(),this.defaultCenter=this.mapView.getCenter(),this.layerApi=new layerOper(this.map),this.initLayers(),this.initEvents()},initLayers:function(){for(var layers=[],i=0;i<this.mapConfig.initLayers.length;i++)if(this.mapConfig.initLayers[i].isLoad){var layer=null;"WMTS"==this.mapConfig.initLayers[i].type?layer=this.layerApi.createWmtsLayer(this.mapConfig.initLayers[i]):"Vector"==this.mapConfig.initLayers[i].type?layer=this.layerApi.createVectorLayer(this.mapConfig.initLayers[i]):"WMS"==this.mapConfig.initLayers[i].type?layer=this.layerApi.createWmsLayer(this.mapConfig.initLayers[i]):"WFS"==this.mapConfig.initLayers[i].type?layer=this.layerApi.createVectorLayerByWFS(this.mapConfig.initLayers[i]):"Baidu"==this.mapConfig.initLayers[i].type?layer=this.layerApi.createBaiduLayer(this.mapConfig.initLayers[i]):"Baidu1"==this.mapConfig.initLayers[i].type&&(layer=this.layerApi.createBaiduLayer(this.mapConfig.initLayers[i])),this.map.addLayer(layer),layers.push(layer)}return layers},initEvents:function(){var that=this;this.map.on("singleclick",function(){for(var $__5,params=[],$__4=0;$__4<arguments.length;$__4++)params[$__4]=arguments[$__4];if(that.mapClickEvents.length>0)for(var i=0;i<that.mapClickEvents.length;i++)($__5=that.mapClickEvents[i]).value.apply($__5,$traceurRuntime.spread(params,[that.mapClickEvents[i].key]))}),this.map.on("pointermove",function(e){var pixel=that.map.getEventPixel(e.originalEvent),hit=that.map.hasFeatureAtPixel(pixel);that.map.getTargetElement().style.cursor=hit?"pointer":""})},addMapEvent:function(type,eventFunc){var key=this.generateUUID(),event={key:key,value:eventFunc};switch(type){case"click":this.mapClickEvents.push(event);break;case"postcompose":this.postComposeEvents.push(event)}return key},removeMapEvent:function(type,key){switch(type){case"click":_.remove(this.mapClickEvents,{key:key});break;case"postcompose":_.remove(this.postComposeEvents,{key:key})}},generateUUID:function(){var d=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),("x"==c?r:3&r|8).toString(16)})},getAddressByLonLat:function(lon,lat,successFunc){$.ajax({url:"http://api.map.baidu.com/geocoder/v2/",async:!1,data:{ak:"rOvp5tcWndbjcsODojjMxNZ3",output:"json",coordtype:"wgs84ll",location:lat+","+lon},dataType:"jsonp",success:function(data){var address="";0==data.status&&(address=data.result.formatted_address+data.result.sematic_description,successFunc(address))}})},getAddressByLonLatFromGDMap:function(lon,lat,successFunc){$.ajax({url:"http://restapi.amap.com/v3/geocode/regeo",async:!1,data:{key:"3eefb2c640b8e950a66eda67b6a51dbe",output:"JSON",location:lat+","+lon},dataType:"jsonp",success:function(data){var address="";0==data.status&&(address=data.result.formatted_address+data.result.sematic_description,successFunc(address))}})},getZoom:function(){return this.mapView.getZoom()},getMinZoom:function(){return this.mapView.getMinZoom()},getMaxZoom:function(){return this.mapView.getMaxZoom()},zoomIn:function(){var zoom=this.getZoom();zoom!=this.getMaxZoom()&&this.mapView.animate({zoom:zoom+1,duration:1e3})},zoomOut:function(){this.getZoom()!=this.getMinZoom()&&this.mapView.animate({zoom:this.getZoom()-1,duration:1e3})},rotateTo:function(type){switch(type){case"left":this.mapView.animate({rotation:this.mapView.getRotation()-Math.PI/6});break;case"right":this.mapView.animate({rotation:this.mapView.getRotation()+Math.PI/6});break;case"reset":this.mapView.animate({rotation:0}),this.setFullExtent()}},setFullExtent:function(){this.setCenterAndZoom(this.defaultCenter,this.mapConfig.zoomLevel)},setCenterAndZoom:function(center,zoom){this.mapView.animate({center:center,zoom:zoom,duration:1e3}),this.map.render()},setLayerVisibility:function(name,isVisible){this.layerApi.setLayerVisibility(name,isVisible)}},{})}(),$__export("default",mapOper)}}}),$__System.register("f",["10","11","12","13","14","15"],function($__export){"use strict";function getBlankImage(){var ctx=createCanvasContext2D(1,1);return ctx.fillStyle="rgba(0,0,0,0)",ctx.fillRect(0,0,1,1),ctx.canvas}var inherits,Tile,TileState,createCanvasContext2D,listenOnce,unlistenByKey,EventType,ImageTile;return{setters:[function($__m){inherits=$__m.inherits},function($__m){Tile=$__m.default},function($__m){TileState=$__m.default},function($__m){createCanvasContext2D=$__m.createCanvasContext2D},function($__m){listenOnce=$__m.listenOnce,unlistenByKey=$__m.unlistenByKey},function($__m){EventType=$__m.default}],execute:function(){ImageTile=function(tileCoord,state,src,crossOrigin,tileLoadFunction,opt_options){Tile.call(this,tileCoord,state,opt_options),this.crossOrigin_=crossOrigin,this.src_=src,this.image_=new Image,null!==crossOrigin&&(this.image_.crossOrigin=crossOrigin),this.imageListenerKeys_=null,this.tileLoadFunction_=tileLoadFunction},inherits(ImageTile,Tile),ImageTile.prototype.disposeInternal=function(){this.state==TileState.LOADING&&(this.unlistenImage_(),this.image_=getBlankImage()),this.interimTile&&this.interimTile.dispose(),this.state=TileState.ABORT,this.changed(),Tile.prototype.disposeInternal.call(this)},ImageTile.prototype.getImage=function(){return this.image_},ImageTile.prototype.getKey=function(){return this.src_},ImageTile.prototype.handleImageError_=function(){this.state=TileState.ERROR,this.unlistenImage_(),this.image_=getBlankImage(),this.changed()},ImageTile.prototype.handleImageLoad_=function(){this.image_.naturalWidth&&this.image_.naturalHeight?this.state=TileState.LOADED:this.state=TileState.EMPTY,this.unlistenImage_(),this.changed()},ImageTile.prototype.load=function(){this.state==TileState.ERROR&&(this.state=TileState.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==TileState.IDLE&&(this.state=TileState.LOADING,this.changed(),this.imageListenerKeys_=[listenOnce(this.image_,EventType.ERROR,this.handleImageError_,this),listenOnce(this.image_,EventType.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},ImageTile.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(unlistenByKey),this.imageListenerKeys_=null},$__export("default",ImageTile)}}}),$__System.register("11",["10","12","16","17","15"],function($__export){"use strict";var inherits,TileState,easeIn,EventTarget,EventType,Tile;return{setters:[function($__m){inherits=$__m.inherits},function($__m){TileState=$__m.default},function($__m){easeIn=$__m.easeIn},function($__m){EventTarget=$__m.default},function($__m){EventType=$__m.default}],execute:function(){Tile=function(tileCoord,state,opt_options){EventTarget.call(this);var options=opt_options||{};this.tileCoord=tileCoord,this.state=state,this.interimTile=null,this.key="",this.transition_=void 0===options.transition?250:options.transition,this.transitionStarts_={}},inherits(Tile,EventTarget),Tile.prototype.changed=function(){this.dispatchEvent(EventType.CHANGE)},Tile.prototype.getKey=function(){return this.key+"/"+this.tileCoord},Tile.prototype.getInterimTile=function(){if(!this.interimTile)return this;var tile=this.interimTile;do{if(tile.getState()==TileState.LOADED)return tile;tile=tile.interimTile}while(tile);return this},Tile.prototype.refreshInterimChain=function(){if(this.interimTile){var tile=this.interimTile,prev=this;do{if(tile.getState()==TileState.LOADED){tile.interimTile=null;break}tile.getState()==TileState.LOADING?prev=tile:tile.getState()==TileState.IDLE?prev.interimTile=tile.interimTile:prev=tile,tile=prev.interimTile}while(tile)}},Tile.prototype.getTileCoord=function(){return this.tileCoord},Tile.prototype.getState=function(){return this.state},Tile.prototype.setState=function(state){this.state=state,this.changed()},Tile.prototype.load=function(){},Tile.prototype.getAlpha=function(id,time){if(!this.transition_)return 1;var start=this.transitionStarts_[id];if(start){if(-1===start)return 1}else start=time,this.transitionStarts_[id]=start;var delta=time-start+1e3/60;return delta>=this.transition_?1:easeIn(delta/this.transition_)},Tile.prototype.inTransition=function(id){return!!this.transition_&&-1!==this.transitionStarts_[id]},Tile.prototype.endTransition=function(id){this.transition_&&(this.transitionStarts_[id]=-1)},$__export("default",Tile)}}}),$__System.register("18",["19","10","11","12","14","15","1a","1b","1c","1d"],function($__export){"use strict";var ERROR_THRESHOLD,inherits,Tile,TileState,listen,unlistenByKey,EventType,getArea,getCenter,getIntersection,clamp,calculateSourceResolution,renderReprojected,Triangulation,ReprojTile;return{setters:[function($__m){ERROR_THRESHOLD=$__m.ERROR_THRESHOLD},function($__m){inherits=$__m.inherits},function($__m){Tile=$__m.default},function($__m){TileState=$__m.default},function($__m){listen=$__m.listen,unlistenByKey=$__m.unlistenByKey},function($__m){EventType=$__m.default},function($__m){getArea=$__m.getArea,getCenter=$__m.getCenter,getIntersection=$__m.getIntersection},function($__m){clamp=$__m.clamp},function($__m){calculateSourceResolution=$__m.calculateSourceResolution,renderReprojected=$__m.render},function($__m){Triangulation=$__m.default}],execute:function(){ReprojTile=function(sourceProj,sourceTileGrid,targetProj,targetTileGrid,tileCoord,wrappedTileCoord,pixelRatio,gutter,getTileFunction,opt_errorThreshold,opt_renderEdges){Tile.call(this,tileCoord,TileState.IDLE),this.renderEdges_=void 0!==opt_renderEdges&&opt_renderEdges,this.pixelRatio_=pixelRatio,this.gutter_=gutter,this.canvas_=null,this.sourceTileGrid_=sourceTileGrid,this.targetTileGrid_=targetTileGrid,this.wrappedTileCoord_=wrappedTileCoord||tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var targetExtent=targetTileGrid.getTileCoordExtent(this.wrappedTileCoord_),maxTargetExtent=this.targetTileGrid_.getExtent(),maxSourceExtent=this.sourceTileGrid_.getExtent(),limitedTargetExtent=maxTargetExtent?getIntersection(targetExtent,maxTargetExtent):targetExtent;if(0===getArea(limitedTargetExtent))return void(this.state=TileState.EMPTY);var sourceProjExtent=sourceProj.getExtent();sourceProjExtent&&(maxSourceExtent=maxSourceExtent?getIntersection(maxSourceExtent,sourceProjExtent):sourceProjExtent);var targetResolution=targetTileGrid.getResolution(this.wrappedTileCoord_[0]),targetCenter=getCenter(limitedTargetExtent),sourceResolution=calculateSourceResolution(sourceProj,targetProj,targetCenter,targetResolution);if(!isFinite(sourceResolution)||sourceResolution<=0)return void(this.state=TileState.EMPTY);var errorThresholdInPixels=void 0!==opt_errorThreshold?opt_errorThreshold:ERROR_THRESHOLD;if(this.triangulation_=new Triangulation(sourceProj,targetProj,limitedTargetExtent,maxSourceExtent,sourceResolution*errorThresholdInPixels),0===this.triangulation_.getTriangles().length)return void(this.state=TileState.EMPTY);this.sourceZ_=sourceTileGrid.getZForResolution(sourceResolution);var sourceExtent=this.triangulation_.calculateSourceExtent();if(maxSourceExtent&&(sourceProj.canWrapX()?(sourceExtent[1]=clamp(sourceExtent[1],maxSourceExtent[1],maxSourceExtent[3]),sourceExtent[3]=clamp(sourceExtent[3],maxSourceExtent[1],maxSourceExtent[3])):sourceExtent=getIntersection(sourceExtent,maxSourceExtent)),getArea(sourceExtent)){for(var sourceRange=sourceTileGrid.getTileRangeForExtentAndZ(sourceExtent,this.sourceZ_),srcX=sourceRange.minX;srcX<=sourceRange.maxX;srcX++)for(var srcY=sourceRange.minY;srcY<=sourceRange.maxY;srcY++){var tile=getTileFunction(this.sourceZ_,srcX,srcY,pixelRatio);tile&&this.sourceTiles_.push(tile)}0===this.sourceTiles_.length&&(this.state=TileState.EMPTY)}else this.state=TileState.EMPTY},inherits(ReprojTile,Tile),ReprojTile.prototype.disposeInternal=function(){this.state==TileState.LOADING&&this.unlistenSources_(),Tile.prototype.disposeInternal.call(this)},ReprojTile.prototype.getImage=function(){return this.canvas_},ReprojTile.prototype.reproject_=function(){var sources=[];if(this.sourceTiles_.forEach(function(tile,i,arr){tile&&tile.getState()==TileState.LOADED&&sources.push({extent:this.sourceTileGrid_.getTileCoordExtent(tile.tileCoord),image:tile.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===sources.length)this.state=TileState.ERROR;else{var z=this.wrappedTileCoord_[0],size=this.targetTileGrid_.getTileSize(z),width="number"==typeof size?size:size[0],height="number"==typeof size?size:size[1],targetResolution=this.targetTileGrid_.getResolution(z),sourceResolution=this.sourceTileGrid_.getResolution(this.sourceZ_),targetExtent=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=renderReprojected(width,height,this.pixelRatio_,sourceResolution,this.sourceTileGrid_.getExtent(),targetResolution,targetExtent,this.triangulation_,sources,this.gutter_,this.renderEdges_),this.state=TileState.LOADED}this.changed()},ReprojTile.prototype.load=function(){if(this.state==TileState.IDLE){this.state=TileState.LOADING,this.changed();var leftToLoad=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(tile,i,arr){var state=tile.getState();if(state==TileState.IDLE||state==TileState.LOADING){leftToLoad++;var sourceListenKey=listen(tile,EventType.CHANGE,function(e){var state=tile.getState();state!=TileState.LOADED&&state!=TileState.ERROR&&state!=TileState.EMPTY||(unlistenByKey(sourceListenKey),0===--leftToLoad&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(sourceListenKey)}}.bind(this)),this.sourceTiles_.forEach(function(tile,i,arr){tile.getState()==TileState.IDLE&&tile.load()}),0===leftToLoad&&setTimeout(this.reproject_.bind(this),0)}},ReprojTile.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(unlistenByKey),this.sourcesListenerKeys_=null},$__export("default",ReprojTile)}}}),$__System.register("1e",["1f","1b","20"],function($__export){"use strict";function createFromTemplate(template,tileGrid){var zRegEx=/\{z\}/g,xRegEx=/\{x\}/g,yRegEx=/\{y\}/g,dashYRegEx=/\{-y\}/g;return function(tileCoord,pixelRatio,projection){return tileCoord?template.replace(zRegEx,tileCoord[0].toString()).replace(xRegEx,tileCoord[1].toString()).replace(yRegEx,function(){return(-tileCoord[2]-1).toString()}).replace(dashYRegEx,function(){var z=tileCoord[0],range=tileGrid.getFullTileRange(z);return assert(range,55),(range.getHeight()+tileCoord[2]).toString()}):void 0}}function createFromTemplates(templates,tileGrid){for(var len=templates.length,tileUrlFunctions=new Array(len),i=0;i<len;++i)tileUrlFunctions[i]=createFromTemplate(templates[i],tileGrid);return createFromTileUrlFunctions(tileUrlFunctions)}function createFromTileUrlFunctions(tileUrlFunctions){return 1===tileUrlFunctions.length?tileUrlFunctions[0]:function(tileCoord,pixelRatio,projection){if(tileCoord){var h=tileCoordHash(tileCoord),index=modulo(h,tileUrlFunctions.length);return tileUrlFunctions[index](tileCoord,pixelRatio,projection)}}}function nullTileUrlFunction(tileCoord,pixelRatio,projection){}function expandUrl(url){var urls=[],match=/\{([a-z])-([a-z])\}/.exec(url);if(match){var charCode,startCharCode=match[1].charCodeAt(0),stopCharCode=match[2].charCodeAt(0);for(charCode=startCharCode;charCode<=stopCharCode;++charCode)urls.push(url.replace(match[0],String.fromCharCode(charCode)));return urls}if(match=match=/\{(\d+)-(\d+)\}/.exec(url)){for(var stop=parseInt(match[2],10),i=parseInt(match[1],10);i<=stop;i++)urls.push(url.replace(match[0],i.toString()));return urls}return urls.push(url),urls}var assert,modulo,tileCoordHash;return $__export("createFromTemplate",createFromTemplate),$__export("createFromTemplates",createFromTemplates),$__export("createFromTileUrlFunctions",createFromTileUrlFunctions),$__export("nullTileUrlFunction",nullTileUrlFunction),$__export("expandUrl",expandUrl),{setters:[function($__m){assert=$__m.assert},function($__m){modulo=$__m.modulo},function($__m){tileCoordHash=$__m.hash}],execute:function(){}}}),$__System.register("21",["10","22","20"],function($__export){"use strict";var inherits,LRUCache,fromKey,getKey,TileCache;return{setters:[function($__m){inherits=$__m.inherits},function($__m){LRUCache=$__m.default},function($__m){fromKey=$__m.fromKey,getKey=$__m.getKey}],execute:function(){TileCache=function(opt_highWaterMark){LRUCache.call(this,opt_highWaterMark)},inherits(TileCache,LRUCache),TileCache.prototype.expireCache=function(usedTiles){for(;this.canExpireCache();){var tile=this.peekLast(),zKey=tile.tileCoord[0].toString();if(zKey in usedTiles&&usedTiles[zKey].contains(tile.tileCoord))break;this.pop().dispose()}},TileCache.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var key=this.peekFirstKey(),tileCoord=fromKey(key),z=tileCoord[0];this.forEach(function(tile){tile.tileCoord[0]!==z&&(this.remove(getKey(tile.tileCoord)),tile.dispose())},this)}},$__export("default",TileCache)}}}),$__System.register("12",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5})}}}),$__System.register("23",["10","24","21","12","25","26","27","28","20","29"],function($__export){"use strict";var inherits,UNDEFINED,TileCache,TileState,Event,equivalent,toSize,scaleSize,Source,getKeyZXY,withinExtentAndZ,wrapX,getTileGridForProjection,TileSource,TileSourceEvent;return{setters:[function($__m){inherits=$__m.inherits},function($__m){UNDEFINED=$__m.UNDEFINED},function($__m){TileCache=$__m.default},function($__m){TileState=$__m.default},function($__m){Event=$__m.default},function($__m){equivalent=$__m.equivalent},function($__m){toSize=$__m.toSize,scaleSize=$__m.scale},function($__m){Source=$__m.default},function($__m){getKeyZXY=$__m.getKeyZXY,withinExtentAndZ=$__m.withinExtentAndZ},function($__m){wrapX=$__m.wrapX,getTileGridForProjection=$__m.getForProjection}],execute:function(){TileSource=function(options){Source.call(this,{attributions:options.attributions,extent:options.extent,projection:options.projection,state:options.state,wrapX:options.wrapX}),this.opaque_=void 0!==options.opaque&&options.opaque,this.tilePixelRatio_=void 0!==options.tilePixelRatio?options.tilePixelRatio:1,this.tileGrid=void 0!==options.tileGrid?options.tileGrid:null,this.tileCache=new TileCache(options.cacheSize),this.tmpSize=[0,0],this.key_="",this.tileOptions={transition:options.transition}},inherits(TileSource,Source),TileSource.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},TileSource.prototype.expireCache=function(projection,usedTiles){var tileCache=this.getTileCacheForProjection(projection);tileCache&&tileCache.expireCache(usedTiles)},TileSource.prototype.forEachLoadedTile=function(projection,z,tileRange,callback){var tileCache=this.getTileCacheForProjection(projection);if(!tileCache)return!1;for(var tile,tileCoordKey,loaded,covered=!0,x=tileRange.minX;x<=tileRange.maxX;++x)for(var y=tileRange.minY;y<=tileRange.maxY;++y)tileCoordKey=getKeyZXY(z,x,y),loaded=!1,tileCache.containsKey(tileCoordKey)&&(tile=tileCache.get(tileCoordKey),(loaded=tile.getState()===TileState.LOADED)&&(loaded=!1!==callback(tile))),loaded||(covered=!1);return covered},TileSource.prototype.getGutter=function(projection){return 0},TileSource.prototype.getKey=function(){return this.key_},TileSource.prototype.setKey=function(key){this.key_!==key&&(this.key_=key,this.changed())},TileSource.prototype.getOpaque=function(projection){return this.opaque_},TileSource.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},TileSource.prototype.getTile=function(z,x,y,pixelRatio,projection){},TileSource.prototype.getTileGrid=function(){return this.tileGrid},TileSource.prototype.getTileGridForProjection=function(projection){return this.tileGrid?this.tileGrid:getTileGridForProjection(projection)},TileSource.prototype.getTileCacheForProjection=function(projection){var thisProj=this.getProjection();return thisProj&&!equivalent(thisProj,projection)?null:this.tileCache},TileSource.prototype.getTilePixelRatio=function(pixelRatio){return this.tilePixelRatio_},TileSource.prototype.getTilePixelSize=function(z,pixelRatio,projection){var tileGrid=this.getTileGridForProjection(projection),tilePixelRatio=this.getTilePixelRatio(pixelRatio),tileSize=toSize(tileGrid.getTileSize(z),this.tmpSize);return 1==tilePixelRatio?tileSize:scaleSize(tileSize,tilePixelRatio,this.tmpSize)},TileSource.prototype.getTileCoordForTileUrlFunction=function(tileCoord,opt_projection){var projection=void 0!==opt_projection?opt_projection:this.getProjection(),tileGrid=this.getTileGridForProjection(projection);return this.getWrapX()&&projection.isGlobal()&&(tileCoord=wrapX(tileGrid,tileCoord,projection)),withinExtentAndZ(tileCoord,tileGrid)?tileCoord:null},TileSource.prototype.refresh=function(){this.tileCache.clear(),this.changed()},TileSource.prototype.useTile=UNDEFINED,TileSourceEvent=function(type,tile){Event.call(this,type),this.tile=tile},$__export("TileSourceEvent",TileSourceEvent),inherits(TileSourceEvent,Event),$__export("default",TileSource)}}}),$__System.register("2a",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"})}}}),$__System.register("2b",["10","12","1e","23","2a","20"],function($__export){"use strict";var getUid,inherits,TileState,expandUrl,createFromTemplates,nullTileUrlFunction,TileSource,TileSourceEvent,TileEventType,getKeyZXY,UrlTile;return{setters:[function($__m){getUid=$__m.getUid,inherits=$__m.inherits},function($__m){TileState=$__m.default},function($__m){expandUrl=$__m.expandUrl,createFromTemplates=$__m.createFromTemplates,nullTileUrlFunction=$__m.nullTileUrlFunction},function($__m){TileSource=$__m.default,TileSourceEvent=$__m.TileSourceEvent},function($__m){TileEventType=$__m.default},function($__m){getKeyZXY=$__m.getKeyZXY}],execute:function(){UrlTile=function(options){TileSource.call(this,{attributions:options.attributions,cacheSize:options.cacheSize,extent:options.extent,opaque:options.opaque,projection:options.projection,state:options.state,tileGrid:options.tileGrid,tilePixelRatio:options.tilePixelRatio,wrapX:options.wrapX,transition:options.transition}),this.tileLoadFunction=options.tileLoadFunction,this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):nullTileUrlFunction,this.urls=null,options.urls?this.setUrls(options.urls):options.url&&this.setUrl(options.url),options.tileUrlFunction&&this.setTileUrlFunction(options.tileUrlFunction),this.tileLoadingKeys_={}},inherits(UrlTile,TileSource),UrlTile.prototype.fixedTileUrlFunction,UrlTile.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},UrlTile.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},UrlTile.prototype.getUrls=function(){return this.urls},UrlTile.prototype.handleTileChange=function(event){var type,tile=event.target,uid=getUid(tile),tileState=tile.getState();tileState==TileState.LOADING?(this.tileLoadingKeys_[uid]=!0,type=TileEventType.TILELOADSTART):uid in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[uid],type=tileState==TileState.ERROR?TileEventType.TILELOADERROR:tileState==TileState.LOADED||tileState==TileState.ABORT?TileEventType.TILELOADEND:void 0),void 0!=type&&this.dispatchEvent(new TileSourceEvent(type,tile))},UrlTile.prototype.setTileLoadFunction=function(tileLoadFunction){this.tileCache.clear(),this.tileLoadFunction=tileLoadFunction,this.changed()},UrlTile.prototype.setTileUrlFunction=function(tileUrlFunction,opt_key){this.tileUrlFunction=tileUrlFunction,this.tileCache.pruneExceptNewestZ(),void 0!==opt_key?this.setKey(opt_key):this.changed()},UrlTile.prototype.setUrl=function(url){var urls=this.urls=expandUrl(url);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):createFromTemplates(urls,this.tileGrid),url)},UrlTile.prototype.setUrls=function(urls){this.urls=urls;var key=urls.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):createFromTemplates(urls,this.tileGrid),key)},UrlTile.prototype.useTile=function(z,x,y){var tileCoordKey=getKeyZXY(z,x,y);this.tileCache.containsKey(tileCoordKey)&&this.tileCache.get(tileCoordKey)},$__export("default",UrlTile)}}}),$__System.register("2c",[],function($__export){"use strict";var DEFAULT_MAX_ZOOM,DEFAULT_TILE_SIZE;return{setters:[],execute:function(){DEFAULT_MAX_ZOOM=42,$__export("DEFAULT_MAX_ZOOM",DEFAULT_MAX_ZOOM),DEFAULT_TILE_SIZE=256,$__export("DEFAULT_TILE_SIZE",DEFAULT_TILE_SIZE)}}}),$__System.register("2d",[],function($__export){"use strict";function createOrUpdate(minX,maxX,minY,maxY,tileRange){return void 0!==tileRange?(tileRange.minX=minX,tileRange.maxX=maxX,tileRange.minY=minY,tileRange.maxY=maxY,tileRange):new TileRange(minX,maxX,minY,maxY)}var TileRange;return $__export("createOrUpdate",createOrUpdate),{setters:[],execute:function(){TileRange=function(minX,maxX,minY,maxY){this.minX=minX,this.maxX=maxX,this.minY=minY,this.maxY=maxY},TileRange.prototype.contains=function(tileCoord){return this.containsXY(tileCoord[1],tileCoord[2])},TileRange.prototype.containsTileRange=function(tileRange){return this.minX<=tileRange.minX&&tileRange.maxX<=this.maxX&&this.minY<=tileRange.minY&&tileRange.maxY<=this.maxY},TileRange.prototype.containsXY=function(x,y){return this.minX<=x&&x<=this.maxX&&this.minY<=y&&y<=this.maxY},TileRange.prototype.equals=function(tileRange){return this.minX==tileRange.minX&&this.minY==tileRange.minY&&this.maxX==tileRange.maxX&&this.maxY==tileRange.maxY},TileRange.prototype.extend=function(tileRange){tileRange.minX<this.minX&&(this.minX=tileRange.minX),tileRange.maxX>this.maxX&&(this.maxX=tileRange.maxX),tileRange.minY<this.minY&&(this.minY=tileRange.minY),tileRange.maxY>this.maxY&&(this.maxY=tileRange.maxY)},TileRange.prototype.getHeight=function(){return this.maxY-this.minY+1},TileRange.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},TileRange.prototype.getWidth=function(){return this.maxX-this.minX+1},TileRange.prototype.intersects=function(tileRange){return this.minX<=tileRange.maxX&&this.maxX>=tileRange.minX&&this.minY<=tileRange.maxY&&this.maxY>=tileRange.minY},$__export("default",TileRange)}}}),$__System.register("27",[],function($__export){"use strict";function buffer(size,num,opt_size){return void 0===opt_size&&(opt_size=[0,0]),opt_size[0]=size[0]+2*num,opt_size[1]=size[1]+2*num,opt_size}function hasArea(size){return size[0]>0&&size[1]>0}function scale(size,ratio,opt_size){return void 0===opt_size&&(opt_size=[0,0]),opt_size[0]=size[0]*ratio+.5|0,opt_size[1]=size[1]*ratio+.5|0,opt_size}function toSize(size,opt_size){return Array.isArray(size)?size:(void 0===opt_size?opt_size=[size,size]:opt_size[0]=opt_size[1]=size,opt_size)}return $__export("buffer",buffer),$__export("hasArea",hasArea),$__export("scale",scale),$__export("toSize",toSize),{setters:[],execute:function(){}}}),$__System.register("20",[],function($__export){"use strict";function createOrUpdate(z,x,y,opt_tileCoord){return void 0!==opt_tileCoord?(opt_tileCoord[0]=z,opt_tileCoord[1]=x,opt_tileCoord[2]=y,opt_tileCoord):[z,x,y]}function getKeyZXY(z,x,y){return z+"/"+x+"/"+y}function getKey(tileCoord){return getKeyZXY(tileCoord[0],tileCoord[1],tileCoord[2])}function fromKey(key){return key.split("/").map(Number)}function hash(tileCoord){return(tileCoord[1]<<tileCoord[0])+tileCoord[2]}function quadKey(tileCoord){var i,charCode,z=tileCoord[0],digits=new Array(z),mask=1<<z-1;for(i=0;i<z;++i)charCode=48,tileCoord[1]&mask&&(charCode+=1),tileCoord[2]&mask&&(charCode+=2),digits[i]=String.fromCharCode(charCode),mask>>=1;return digits.join("")}function withinExtentAndZ(tileCoord,tileGrid){var z=tileCoord[0],x=tileCoord[1],y=tileCoord[2];if(tileGrid.getMinZoom()>z||z>tileGrid.getMaxZoom())return!1;var tileRange,extent=tileGrid.getExtent();return!(tileRange=extent?tileGrid.getTileRangeForExtentAndZ(extent,z):tileGrid.getFullTileRange(z))||tileRange.containsXY(x,y)}return $__export("createOrUpdate",createOrUpdate),$__export("getKeyZXY",getKeyZXY),$__export("getKey",getKey),$__export("fromKey",fromKey),$__export("hash",hash),$__export("quadKey",quadKey),$__export("withinExtentAndZ",withinExtentAndZ),{setters:[],execute:function(){}}}),$__System.register("2e",["2c","1f","2d","2f","1a","1b","27","20"],function($__export){"use strict";var DEFAULT_TILE_SIZE,assert,TileRange,createOrUpdateTileRange,isSorted,linearFindNearest,createOrUpdate,getTopLeft,clamp,toSize,createOrUpdateTileCoord,TileGrid,tmpTileCoord;return{setters:[function($__m){DEFAULT_TILE_SIZE=$__m.DEFAULT_TILE_SIZE},function($__m){assert=$__m.assert},function($__m){TileRange=$__m.default,createOrUpdateTileRange=$__m.createOrUpdate},function($__m){isSorted=$__m.isSorted,linearFindNearest=$__m.linearFindNearest},function($__m){createOrUpdate=$__m.createOrUpdate,getTopLeft=$__m.getTopLeft},function($__m){clamp=$__m.clamp},function($__m){toSize=$__m.toSize},function($__m){createOrUpdateTileCoord=$__m.createOrUpdate}],execute:function(){TileGrid=function(options){this.minZoom=void 0!==options.minZoom?options.minZoom:0,this.resolutions_=options.resolutions,assert(isSorted(this.resolutions_,function(a,b){return b-a},!0),17);var zoomFactor;if(!options.origins)for(var i=0,ii=this.resolutions_.length-1;i<ii;++i)if(zoomFactor){if(this.resolutions_[i]/this.resolutions_[i+1]!==zoomFactor){zoomFactor=void 0;break}}else zoomFactor=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=zoomFactor,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==options.origin?options.origin:null,this.origins_=null,void 0!==options.origins&&(this.origins_=options.origins,assert(this.origins_.length==this.resolutions_.length,20));var extent=options.extent;void 0===extent||this.origin_||this.origins_||(this.origin_=getTopLeft(extent)),assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==options.tileSizes&&(this.tileSizes_=options.tileSizes,assert(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==options.tileSize?options.tileSize:this.tileSizes_?null:DEFAULT_TILE_SIZE,assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==extent?extent:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==options.sizes?this.fullTileRanges_=options.sizes.map(function(size,z){return new TileRange(Math.min(0,size[0]),Math.max(size[0]-1,-1),Math.min(0,size[1]),Math.max(size[1]-1,-1))},this):extent&&this.calculateTileRanges_(extent)},tmpTileCoord=[0,0,0],TileGrid.prototype.forEachTileCoord=function(extent,zoom,callback){for(var tileRange=this.getTileRangeForExtentAndZ(extent,zoom),i=tileRange.minX,ii=tileRange.maxX;i<=ii;++i)for(var j=tileRange.minY,jj=tileRange.maxY;j<=jj;++j)callback([zoom,i,j])},TileGrid.prototype.forEachTileCoordParentTileRange=function(tileCoord,callback,opt_this,opt_tileRange,opt_extent){var tileRange,x,y,tileCoordExtent=null,z=tileCoord[0]-1;for(2===this.zoomFactor_?(x=tileCoord[1],y=tileCoord[2]):tileCoordExtent=this.getTileCoordExtent(tileCoord,opt_extent);z>=this.minZoom;){if(2===this.zoomFactor_?(x=Math.floor(x/2),y=Math.floor(y/2),tileRange=createOrUpdateTileRange(x,x,y,y,opt_tileRange)):tileRange=this.getTileRangeForExtentAndZ(tileCoordExtent,z,opt_tileRange),callback.call(opt_this,z,tileRange))return!0;--z}return!1},TileGrid.prototype.getExtent=function(){return this.extent_},TileGrid.prototype.getMaxZoom=function(){return this.maxZoom},TileGrid.prototype.getMinZoom=function(){return this.minZoom},TileGrid.prototype.getOrigin=function(z){return this.origin_?this.origin_:this.origins_[z]},TileGrid.prototype.getResolution=function(z){return this.resolutions_[z]},TileGrid.prototype.getResolutions=function(){return this.resolutions_},TileGrid.prototype.getTileCoordChildTileRange=function(tileCoord,opt_tileRange,opt_extent){if(tileCoord[0]<this.maxZoom){if(2===this.zoomFactor_){var minX=2*tileCoord[1],minY=2*tileCoord[2];return createOrUpdateTileRange(minX,minX+1,minY,minY+1,opt_tileRange)}var tileCoordExtent=this.getTileCoordExtent(tileCoord,opt_extent);return this.getTileRangeForExtentAndZ(tileCoordExtent,tileCoord[0]+1,opt_tileRange)}return null},TileGrid.prototype.getTileRangeExtent=function(z,tileRange,opt_extent){var origin=this.getOrigin(z),resolution=this.getResolution(z),tileSize=toSize(this.getTileSize(z),this.tmpSize_),minX=origin[0]+tileRange.minX*tileSize[0]*resolution,maxX=origin[0]+(tileRange.maxX+1)*tileSize[0]*resolution,minY=origin[1]+tileRange.minY*tileSize[1]*resolution,maxY=origin[1]+(tileRange.maxY+1)*tileSize[1]*resolution;return createOrUpdate(minX,minY,maxX,maxY,opt_extent)},TileGrid.prototype.getTileRangeForExtentAndZ=function(extent,z,opt_tileRange){var tileCoord=tmpTileCoord;this.getTileCoordForXYAndZ_(extent[0],extent[1],z,!1,tileCoord);var minX=tileCoord[1],minY=tileCoord[2];return this.getTileCoordForXYAndZ_(extent[2],extent[3],z,!0,tileCoord),createOrUpdateTileRange(minX,tileCoord[1],minY,tileCoord[2],opt_tileRange)},TileGrid.prototype.getTileCoordCenter=function(tileCoord){var origin=this.getOrigin(tileCoord[0]),resolution=this.getResolution(tileCoord[0]),tileSize=toSize(this.getTileSize(tileCoord[0]),this.tmpSize_);return[origin[0]+(tileCoord[1]+.5)*tileSize[0]*resolution,origin[1]+(tileCoord[2]+.5)*tileSize[1]*resolution]},TileGrid.prototype.getTileCoordExtent=function(tileCoord,opt_extent){var origin=this.getOrigin(tileCoord[0]),resolution=this.getResolution(tileCoord[0]),tileSize=toSize(this.getTileSize(tileCoord[0]),this.tmpSize_),minX=origin[0]+tileCoord[1]*tileSize[0]*resolution,minY=origin[1]+tileCoord[2]*tileSize[1]*resolution,maxX=minX+tileSize[0]*resolution,maxY=minY+tileSize[1]*resolution;return createOrUpdate(minX,minY,maxX,maxY,opt_extent)},TileGrid.prototype.getTileCoordForCoordAndResolution=function(coordinate,resolution,opt_tileCoord){return this.getTileCoordForXYAndResolution_(coordinate[0],coordinate[1],resolution,!1,opt_tileCoord)},TileGrid.prototype.getTileCoordForXYAndResolution_=function(x,y,resolution,reverseIntersectionPolicy,opt_tileCoord){var z=this.getZForResolution(resolution),scale=resolution/this.getResolution(z),origin=this.getOrigin(z),tileSize=toSize(this.getTileSize(z),this.tmpSize_),adjustX=reverseIntersectionPolicy?.5:0,adjustY=reverseIntersectionPolicy?0:.5,xFromOrigin=Math.floor((x-origin[0])/resolution+adjustX),yFromOrigin=Math.floor((y-origin[1])/resolution+adjustY),tileCoordX=scale*xFromOrigin/tileSize[0],tileCoordY=scale*yFromOrigin/tileSize[1];return reverseIntersectionPolicy?(tileCoordX=Math.ceil(tileCoordX)-1,tileCoordY=Math.ceil(tileCoordY)-1):(tileCoordX=Math.floor(tileCoordX),tileCoordY=Math.floor(tileCoordY)),createOrUpdateTileCoord(z,tileCoordX,tileCoordY,opt_tileCoord)},TileGrid.prototype.getTileCoordForXYAndZ_=function(x,y,z,reverseIntersectionPolicy,opt_tileCoord){var origin=this.getOrigin(z),resolution=this.getResolution(z),tileSize=toSize(this.getTileSize(z),this.tmpSize_),adjustX=reverseIntersectionPolicy?.5:0,adjustY=reverseIntersectionPolicy?0:.5,xFromOrigin=Math.floor((x-origin[0])/resolution+adjustX),yFromOrigin=Math.floor((y-origin[1])/resolution+adjustY),tileCoordX=xFromOrigin/tileSize[0],tileCoordY=yFromOrigin/tileSize[1];return reverseIntersectionPolicy?(tileCoordX=Math.ceil(tileCoordX)-1,tileCoordY=Math.ceil(tileCoordY)-1):(tileCoordX=Math.floor(tileCoordX),tileCoordY=Math.floor(tileCoordY)),createOrUpdateTileCoord(z,tileCoordX,tileCoordY,opt_tileCoord)},TileGrid.prototype.getTileCoordForCoordAndZ=function(coordinate,z,opt_tileCoord){return this.getTileCoordForXYAndZ_(coordinate[0],coordinate[1],z,!1,opt_tileCoord)},TileGrid.prototype.getTileCoordResolution=function(tileCoord){return this.resolutions_[tileCoord[0]]},TileGrid.prototype.getTileSize=function(z){return this.tileSize_?this.tileSize_:this.tileSizes_[z]},TileGrid.prototype.getFullTileRange=function(z){return this.fullTileRanges_?this.fullTileRanges_[z]:null},TileGrid.prototype.getZForResolution=function(resolution,opt_direction){var z=linearFindNearest(this.resolutions_,resolution,opt_direction||0);return clamp(z,this.minZoom,this.maxZoom)},TileGrid.prototype.calculateTileRanges_=function(extent){for(var length=this.resolutions_.length,fullTileRanges=new Array(length),z=this.minZoom;z<length;++z)fullTileRanges[z]=this.getTileRangeForExtentAndZ(extent,z);this.fullTileRanges_=fullTileRanges},$__export("default",TileGrid)}}}),$__System.register("29",["2c","27","1a","30","31","26","32","2e"],function($__export){"use strict";function getForProjection(projection){var tileGrid=projection.getDefaultTileGrid();return tileGrid||(tileGrid=createForProjection(projection),projection.setDefaultTileGrid(tileGrid)),tileGrid}function wrapX(tileGrid,tileCoord,projection){var z=tileCoord[0],center=tileGrid.getTileCoordCenter(tileCoord),projectionExtent=extentFromProjection(projection);if(containsCoordinate(projectionExtent,center))return tileCoord;var worldWidth=getWidth(projectionExtent),worldsAway=Math.ceil((projectionExtent[0]-center[0])/worldWidth);return center[0]+=worldWidth*worldsAway,tileGrid.getTileCoordForCoordAndZ(center,z)}function createForExtent(extent,opt_maxZoom,opt_tileSize,opt_corner){var corner=void 0!==opt_corner?opt_corner:Corner.TOP_LEFT,resolutions=resolutionsFromExtent(extent,opt_maxZoom,opt_tileSize);return new TileGrid({extent:extent,origin:getCorner(extent,corner),resolutions:resolutions,tileSize:opt_tileSize})}function createXYZ(opt_options){var options={};return assign(options,void 0!==opt_options?opt_options:{}),void 0===options.extent&&(options.extent=getProjection("EPSG:3857").getExtent()),options.resolutions=resolutionsFromExtent(options.extent,options.maxZoom,options.tileSize),delete options.maxZoom,new TileGrid(options)}function resolutionsFromExtent(extent,opt_maxZoom,opt_tileSize){for(var maxZoom=void 0!==opt_maxZoom?opt_maxZoom:DEFAULT_MAX_ZOOM,height=getHeight(extent),width=getWidth(extent),tileSize=toSize(void 0!==opt_tileSize?opt_tileSize:DEFAULT_TILE_SIZE),maxResolution=Math.max(width/tileSize[0],height/tileSize[1]),length=maxZoom+1,resolutions=new Array(length),z=0;z<length;++z)resolutions[z]=maxResolution/Math.pow(2,z);return resolutions}function createForProjection(projection,opt_maxZoom,opt_tileSize,opt_corner){return createForExtent(extentFromProjection(projection),opt_maxZoom,opt_tileSize,opt_corner)}function extentFromProjection(projection){projection=getProjection(projection);var extent=projection.getExtent();if(!extent){var half=180*METERS_PER_UNIT[Units.DEGREES]/projection.getMetersPerUnit();extent=createOrUpdate(-half,-half,half,half)}return extent}var DEFAULT_MAX_ZOOM,DEFAULT_TILE_SIZE,toSize,containsCoordinate,createOrUpdate,getCorner,getHeight,getWidth,Corner,assign,getProjection,METERS_PER_UNIT,Units,TileGrid;return $__export("getForProjection",getForProjection),$__export("wrapX",wrapX),$__export("createForExtent",createForExtent),$__export("createXYZ",createXYZ),$__export("createForProjection",createForProjection),$__export("extentFromProjection",extentFromProjection),{setters:[function($__m){DEFAULT_MAX_ZOOM=$__m.DEFAULT_MAX_ZOOM,DEFAULT_TILE_SIZE=$__m.DEFAULT_TILE_SIZE},function($__m){toSize=$__m.toSize},function($__m){containsCoordinate=$__m.containsCoordinate,createOrUpdate=$__m.createOrUpdate,getCorner=$__m.getCorner,getHeight=$__m.getHeight,getWidth=$__m.getWidth},function($__m){Corner=$__m.default},function($__m){assign=$__m.assign},function($__m){getProjection=$__m.get,METERS_PER_UNIT=$__m.METERS_PER_UNIT},function($__m){Units=$__m.default},function($__m){TileGrid=$__m.default}],execute:function(){}}}),$__System.register("33",["19","10","f","21","12","14","15","26","18","2b","20","29"],function($__export){"use strict";function defaultTileLoadFunction(imageTile,src){imageTile.getImage().src=src}var ENABLE_RASTER_REPROJECTION,getUid,inherits,ImageTile,TileCache,TileState,listen,EventType,equivalent,getProjection,ReprojTile,UrlTile,getKey,getKeyZXY,getTileGridForProjection,TileImage;return{setters:[function($__m){ENABLE_RASTER_REPROJECTION=$__m.ENABLE_RASTER_REPROJECTION},function($__m){getUid=$__m.getUid,inherits=$__m.inherits},function($__m){ImageTile=$__m.default},function($__m){TileCache=$__m.default},function($__m){TileState=$__m.default},function($__m){listen=$__m.listen},function($__m){EventType=$__m.default},function($__m){equivalent=$__m.equivalent,getProjection=$__m.get},function($__m){ReprojTile=$__m.default},function($__m){UrlTile=$__m.default},function($__m){getKey=$__m.getKey,getKeyZXY=$__m.getKeyZXY},function($__m){getTileGridForProjection=$__m.getForProjection}],execute:function(){TileImage=function(options){UrlTile.call(this,{attributions:options.attributions,cacheSize:options.cacheSize,extent:options.extent,opaque:options.opaque,projection:options.projection,state:options.state,tileGrid:options.tileGrid,tileLoadFunction:options.tileLoadFunction?options.tileLoadFunction:defaultTileLoadFunction,tilePixelRatio:options.tilePixelRatio,tileUrlFunction:options.tileUrlFunction,url:options.url,urls:options.urls,wrapX:options.wrapX,transition:options.transition}),this.crossOrigin=void 0!==options.crossOrigin?options.crossOrigin:null,this.tileClass=void 0!==options.tileClass?options.tileClass:ImageTile,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=options.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1},inherits(TileImage,UrlTile),TileImage.prototype.canExpireCache=function(){if(!ENABLE_RASTER_REPROJECTION)return UrlTile.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var key in this.tileCacheForProjection)if(this.tileCacheForProjection[key].canExpireCache())return!0;return!1},TileImage.prototype.expireCache=function(projection,usedTiles){if(!ENABLE_RASTER_REPROJECTION)return void UrlTile.prototype.expireCache.call(this,projection,usedTiles);var usedTileCache=this.getTileCacheForProjection(projection);this.tileCache.expireCache(this.tileCache==usedTileCache?usedTiles:{});for(var id in this.tileCacheForProjection){var tileCache=this.tileCacheForProjection[id];tileCache.expireCache(tileCache==usedTileCache?usedTiles:{})}},TileImage.prototype.getGutter=function(projection){return ENABLE_RASTER_REPROJECTION&&this.getProjection()&&projection&&!equivalent(this.getProjection(),projection)?0:this.getGutterInternal()},TileImage.prototype.getGutterInternal=function(){return 0},TileImage.prototype.getOpaque=function(projection){return!(ENABLE_RASTER_REPROJECTION&&this.getProjection()&&projection&&!equivalent(this.getProjection(),projection))&&UrlTile.prototype.getOpaque.call(this,projection)},TileImage.prototype.getTileGridForProjection=function(projection){if(!ENABLE_RASTER_REPROJECTION)return UrlTile.prototype.getTileGridForProjection.call(this,projection);var thisProj=this.getProjection();if(!this.tileGrid||thisProj&&!equivalent(thisProj,projection)){var projKey=getUid(projection).toString();return projKey in this.tileGridForProjection||(this.tileGridForProjection[projKey]=getTileGridForProjection(projection)),this.tileGridForProjection[projKey]}return this.tileGrid},TileImage.prototype.getTileCacheForProjection=function(projection){if(!ENABLE_RASTER_REPROJECTION)return UrlTile.prototype.getTileCacheForProjection.call(this,projection);var thisProj=this.getProjection();if(!thisProj||equivalent(thisProj,projection))return this.tileCache;var projKey=getUid(projection).toString();return projKey in this.tileCacheForProjection||(this.tileCacheForProjection[projKey]=new TileCache(this.tileCache.highWaterMark)),this.tileCacheForProjection[projKey]},TileImage.prototype.createTile_=function(z,x,y,pixelRatio,projection,key){var tileCoord=[z,x,y],urlTileCoord=this.getTileCoordForTileUrlFunction(tileCoord,projection),tileUrl=urlTileCoord?this.tileUrlFunction(urlTileCoord,pixelRatio,projection):void 0,tile=new this.tileClass(tileCoord,void 0!==tileUrl?TileState.IDLE:TileState.EMPTY,void 0!==tileUrl?tileUrl:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return tile.key=key,listen(tile,EventType.CHANGE,this.handleTileChange,this),tile},TileImage.prototype.getTile=function(z,x,y,pixelRatio,projection){var sourceProjection=this.getProjection();if(ENABLE_RASTER_REPROJECTION&&sourceProjection&&projection&&!equivalent(sourceProjection,projection)){var tile,cache=this.getTileCacheForProjection(projection),tileCoord=[z,x,y],tileCoordKey=getKey(tileCoord);cache.containsKey(tileCoordKey)&&(tile=cache.get(tileCoordKey));var key=this.getKey();if(tile&&tile.key==key)return tile;var sourceTileGrid=this.getTileGridForProjection(sourceProjection),targetTileGrid=this.getTileGridForProjection(projection),wrappedTileCoord=this.getTileCoordForTileUrlFunction(tileCoord,projection),newTile=new ReprojTile(sourceProjection,sourceTileGrid,projection,targetTileGrid,tileCoord,wrappedTileCoord,this.getTilePixelRatio(pixelRatio),this.getGutterInternal(),function(z,x,y,pixelRatio){return this.getTileInternal(z,x,y,pixelRatio,sourceProjection)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return newTile.key=key,tile?(newTile.interimTile=tile,newTile.refreshInterimChain(),cache.replace(tileCoordKey,newTile)):cache.set(tileCoordKey,newTile),newTile}return this.getTileInternal(z,x,y,pixelRatio,sourceProjection||projection)},TileImage.prototype.getTileInternal=function(z,x,y,pixelRatio,projection){var tile=null,tileCoordKey=getKeyZXY(z,x,y),key=this.getKey();if(this.tileCache.containsKey(tileCoordKey)){if(tile=this.tileCache.get(tileCoordKey),tile.key!=key){var interimTile=tile;tile=this.createTile_(z,x,y,pixelRatio,projection,key),interimTile.getState()==TileState.IDLE?tile.interimTile=interimTile.interimTile:tile.interimTile=interimTile,tile.refreshInterimChain(),this.tileCache.replace(tileCoordKey,tile)}}else tile=this.createTile_(z,x,y,pixelRatio,projection,key),this.tileCache.set(tileCoordKey,tile);return tile},TileImage.prototype.setRenderReprojectionEdges=function(render){if(ENABLE_RASTER_REPROJECTION&&this.renderReprojectionEdges_!=render){this.renderReprojectionEdges_=render;for(var id in this.tileCacheForProjection)this.tileCacheForProjection[id].clear();this.changed()}},TileImage.prototype.setTileGridForProjection=function(projection,tilegrid){if(ENABLE_RASTER_REPROJECTION){var proj=getProjection(projection);if(proj){var projKey=getUid(proj).toString();projKey in this.tileGridForProjection||(this.tileGridForProjection[projKey]=tilegrid)}}},$__export("default",TileImage)}}}),$__System.register("34",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"})}}}),$__System.register("35",["10","36","37","34","31"],function($__export){"use strict";var inherits,LayerType,Layer,TileProperty,assign,TileLayer;return{setters:[function($__m){inherits=$__m.inherits},function($__m){LayerType=$__m.default},function($__m){Layer=$__m.default},function($__m){TileProperty=$__m.default},function($__m){assign=$__m.assign}],execute:function(){TileLayer=function(opt_options){var options=opt_options||{},baseOptions=assign({},options);delete baseOptions.preload,delete baseOptions.useInterimTilesOnError,Layer.call(this,baseOptions),this.setPreload(void 0!==options.preload?options.preload:0),this.setUseInterimTilesOnError(void 0===options.useInterimTilesOnError||options.useInterimTilesOnError),this.type=LayerType.TILE},inherits(TileLayer,Layer),TileLayer.prototype.getPreload=function(){return this.get(TileProperty.PRELOAD)},TileLayer.prototype.getSource,TileLayer.prototype.setPreload=function(preload){this.set(TileProperty.PRELOAD,preload)},TileLayer.prototype.getUseInterimTilesOnError=function(){return this.get(TileProperty.USE_INTERIM_TILES_ON_ERROR)},TileLayer.prototype.setUseInterimTilesOnError=function(useInterimTilesOnError){this.set(TileProperty.USE_INTERIM_TILES_ON_ERROR,useInterimTilesOnError)},$__export("default",TileLayer)}}}),$__System.register("e",["38","2e","33","35"],function($__export){"use strict";var olVectorSource,olTileGrid,olImageSource,TileLayer,layerOper;return{setters:[function($__m){olVectorSource=$__m.default},function($__m){olTileGrid=$__m.default},function($__m){olImageSource=$__m.default},function($__m){TileLayer=$__m.default}],execute:function(){layerOper=function(){function layerOper(map){this.map=map}return $traceurRuntime.createClass(layerOper,{createBaiduLayer:function(params){for(var projection=ol.proj.get(params.projection),resolutions=[],i=0;i<19;i++)resolutions[i]=Math.pow(2,18-i);var tilegrid=new olTileGrid({origin:[0,0],resolutions:resolutions}),baidu_source=new olImageSource({projection:projection,tileGrid:tilegrid,tileUrlFunction:function(tileCoord,pixelRatio,proj){if(!tileCoord)return"";var z=tileCoord[0],x=tileCoord[1],y=tileCoord[2];x<0&&(x="M"+-x),y<0&&(y="M"+-y);var url="http://shangetu"+parseInt(10*Math.random())+".map.bdimg.com/it/u=x="+x+";y="+y+";z="+z+";v=009;type=sate&fm=46&udt=20170606";return console.log(url),url}});return new TileLayer({source:baidu_source})},createBaiduLayerlabel:function(){for(var resolutions=[],i=0;i<19;i++)resolutions[i]=Math.pow(2,18-i);var tilegrid=new olTileGrid({origin:[0,0],resolutions:resolutions}),baiduSourceLabel=new ol.source.TileImage({tileGrid:tilegrid,tileUrlFunction:function(tileCoord,pixelRatio,proj){var z=tileCoord[0],x=tileCoord[1],y=tileCoord[2];return x<0&&(x="M"+-x),y<0&&(y="M"+-y),"http://online"+parseInt(10*Math.random())+".map.bdimg.com/onlinelabel/?qt=tile&x="+x+"&y="+y+"&z="+z+"&styles=sl&udt=20170620&scaler=1&p=1"}});return new TileLayer({source:baiduSourceLabel})},createWmtsLayer:function(params){return new ol.layer.Tile({title:params.name,visible:params.isVisible,source:new ol.source.XYZ({url:params.url,tileUrlFunction:function(tileCoord){var x=tileCoord[1],y=-tileCoord[2]-1,l=tileCoord[0];return params.url.replace("{x}",x).replace("{y}",y).replace("{z}",l)}})})},createWmsLayer:function(params){var wmsSource=(ol.proj.get(params.projection),new ol.source.ImageWMS({url:params.url,params:{LAYERS:params.layers,VERSION:"1.1.0"},serverType:"geoserver"}));return new ol.layer.Image({name:params.name,source:wmsSource,visible:params.isVisible})},createVectorLayer:function(params){var style=new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ol.style.Stroke({color:"#ffcc33",width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#ffcc33"})})});return new ol.layer.Vector({name:params.name,source:new olVectorSource,visible:params.isVisible,style:[style]})},createVectorLayerByWFS:function(params){var style=new ol.style.Style({image:new ol.style.Icon({src:params.styleImg})}),source=new ol.source.Vector({url:params.url+"?service=WFS&version=1.0.0&request=GetFeature&typeNames="+params.layers+"&outputFormat=json&srsname="+params.projection,format:new ol.format.GeoJSON});return new ol.source.Vector({name:params.name,source:source,preload:1/0,visible:params.isVisible,style:[style]})},getLayerByName:function(name){for(var layers=this.map.getLayers().getArray(),layer=null,i=0;i<layers.length;i++)if(layers[i].get("name")==name){layer=layers[i];break}return layer},addLayer:function(layer){this.map.addLayer(layer)},setLayerVisibility:function(name){var isVisible=void 0!==arguments[1]&&arguments[1];this.getLayerByName(name).setVisible(isVisible)}},{})}(),$__export("layerOper",layerOper)}}}),$__System.register("39",["e","3a","3b"],function($__export){"use strict";var layerOper,olFeature,olPoint,markerOper;return{setters:[function($__m){layerOper=$__m.layerOper},function($__m){olFeature=$__m.default},function($__m){olPoint=$__m.default}],execute:function(){markerOper=function(){function markerOper(map){this.map=map,this.layerApi=new layerOper(this.map),this.defaultLayerName="默认标记图层",this.defaultLayer=this.layerApi.getLayerByName(this.defaultLayerName),this.defaultSource=this.defaultLayer.getSource(),this.mStyles={redHot:new ol.style.Style({image:new ol.style.Circle({radius:6,snapToPixel:!1,fill:new ol.style.Fill({color:"red"}),stroke:new ol.style.Stroke({color:"white",width:2})})}),curMarker:new ol.style.Style({image:new ol.style.Icon({anchor:[.5,1],src:"../../../src/map/images/map_marker.png"})})}}return $traceurRuntime.createClass(markerOper,{initLyStyle:function(){var that=this;this.defaultLayer.setStyle(function(feature){return that.mStyles[feature.get("type")]})},addMarker:function(params){var marker=new olFeature({type:params.type,geometry:new olPoint([params.lon,params.lat])});return marker.setStyle([this.mStyles[marker.get("type")]]),this.defaultSource.addFeature(marker),marker},addMarkers:function(markers){var that=this,features=_.map(markers,function(item){return new olFeature({type:item.type,attr:item.attr,geometry:new olPoint([item.lon,item.lat])})});return _.map(features,function(item){item.setStyle([that.mStyles[item.get("type")]])}),this.defaultSource.addFeatures(features),features},removeMarker:function(params){params.layerName||(params.layerName=this.defaultLayerName),this.layerApi.getLayerByName(params.layerName).getSource().removeFeature(params.marker)},removeMarkerById:function(id){var layer=this.layerApi.getLayerByName(params.layerName),source=layer.getSource();source.removeFeature(source.getFeatureById(id))},removeMarkerByType:function(type){var that=this,features=this.defaultSource.getFeatures();_.map(features,function(item){"redHot"==item.get("type")&&that.defaultSource.removeFeature(item)})},removeMarkerByTypeAndTaskNum:function(type,taskNum){for(var that=this,features=this.defaultSource.getFeatures(),i=0;i<features.length;i++)if("redHot"==features[i].get("type")&&features[i].get("taskNum")==taskNum){that.defaultSource.removeFeature(features[i]);break}},removeFeatureByAttrs:function(type,attrs){for(var that=this,features=this.defaultSource.getFeatures(),removeFeatures=[],i=0;i<features.length;i++){for(var isRemove=!0,j=0;j<attrs.length;j++)features[i].get(attrs[j][0])!=attrs[j][1]&&(isRemove=!1);isRemove&&removeFeatures.push(features[i])}for(var i$__6=0;i$__6<removeFeatures.length;i$__6++)that.defaultSource.removeFeature(removeFeatures[i$__6])},getMarkers:function(){return this.defaultSource.getFeatures()},clearMarkers:function(layerName){this.defaultLayer.getSource().clear()}},{})}(),$__export("default",markerOper)}}}),$__System.register("3c",[],function($__export){"use strict";var measureOper;return{setters:[],execute:function(){measureOper=function(){function measureOper(map){this.map=map,this.draw=null,this.sketch=null,this.startDrawMsg="请在地图上单击，开始绘制。",this.continuePolygonMsg="单击继续绘制，双击结束。",this.continueLineMsg="单击继续绘制，双击结束",this.helpTooltip=null,this.helpTooltipElement=null,this.measureTooltip=null,this.measureTooltipElement=null,this.source=null}return $traceurRuntime.createClass(measureOper,{initMeasureStyle:function(){var stroke=new ol.style.Stroke({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image=new ol.style.Circle({radius:5,stroke:new ol.style.Stroke({color:"rgba(0, 0, 0, 0.7)"}),fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.2)"})});return new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:stroke,image:image})},activeMeasureLength:function(source){var style=this.initMeasureStyle();this.deactiveMeasure(),this.source=source,this.draw=new ol.interaction.Draw({source:source,style:[style],type:"LineString"}),this.map.addInteraction(this.draw),this.addMapMoveEvent(),this.createMeasureTooltip(),this.createHelpTooltip(),this.addDrawEvent()},activeMeasureArea:function(source){var style=this.initMeasureStyle();this.deactiveMeasure(),this.draw=new ol.interaction.Draw({source:source,style:[style],type:"Polygon"}),this.map.addInteraction(this.draw),this.addMapMoveEvent(),this.createMeasureTooltip(),this.createHelpTooltip(),this.addDrawEvent()},deactiveMeasure:function(){this.draw&&this.map.removeInteraction(this.draw),this.map.getOverlays().clear(),this.source&&this.source.clear()},addDrawEvent:function(){var listener,$__4=this,that=this;this.draw.on("drawstart",function(evt){$__4.sketch=evt.feature;var tooltipCoord=evt.coordinate;listener=$__4.sketch.getGeometry().on("change",function(evt){var output,geom=evt.target;"Polygon"==geom.getType()?(output=that.formatArea(geom),tooltipCoord=geom.getInteriorPoint().getCoordinates()):"LineString"==geom.getType()&&(output=that.formatLength(geom),tooltipCoord=geom.getLastCoordinate()),that.measureTooltipElement.innerHTML=output,that.measureTooltip.setPosition(tooltipCoord)})},this),this.draw.on("drawend",function(){that.measureTooltipElement.className="tooltip tooltip-static",that.measureTooltip.setOffset([0,-7]),that.sketch=null,that.measureTooltipElement=null,that.createMeasureTooltip(),ol.Observable.unByKey(listener)},this)},addMapMoveEvent:function(){var $__4=this;this.map.on("pointermove",function(evt){if(!evt.dragging){var helpMsg=$__4.startDrawMsg;if($__4.sketch){var geom=$__4.sketch.getGeometry();"Polygon"==geom.getType()?helpMsg=$__4.continuePolygonMsg:"LineString"==geom.getType()&&(helpMsg=$__4.continueLineMsg)}$__4.helpTooltipElement.innerHTML=helpMsg,$__4.helpTooltip.setPosition(evt.coordinate),$__4.helpTooltipElement.classList.remove("hidden")}})},formatLength:function(line){var length=(line.getCoordinates(),0);this.map.getView().getProjection();length=6378137*ol.sphere.getLength(line);return length>100?Math.round(length/1e3*100)/100+" km":Math.round(100*length)/100+" m"},formatArea:function(polygon){var sourceProj=this.map.getView().getProjection(),geom=polygon.clone().transform(sourceProj,"EPSG:4326"),coordinates=geom.getLinearRing(0).getCoordinates(),area=Math.abs(this.sphere.geodesicArea(coordinates));return area>1e4?Math.round(area/1e6*100)/100+" km<sup>2</sup>":Math.round(100*area)/100+" m<sup>2</sup>"},createHelpTooltip:function(){this.helpTooltipElement&&this.helpTooltipElement.parentNode.removeChild(this.helpTooltipElement),this.helpTooltipElement=document.createElement("div"),this.helpTooltipElement.className="tooltip hidden",this.helpTooltip=new ol.Overlay({element:this.helpTooltipElement,offset:[15,0],positioning:"center-left"}),this.map.addOverlay(this.helpTooltip)},createMeasureTooltip:function(){this.measureTooltipElement&&this.measureTooltipElement.parentNode.removeChild(this.measureTooltipElement),this.measureTooltipElement=document.createElement("div"),this.measureTooltipElement.className="tooltip tooltip-measure",this.measureTooltip=new ol.Overlay({element:this.measureTooltipElement,offset:[0,-15],positioning:"bottom-center"}),this.map.addOverlay(this.measureTooltip)}},{})}(),$__export("default",measureOper)}}}),$__System.register("16",[],function($__export){"use strict";function easeIn(t){return Math.pow(t,3)}function easeOut(t){return 1-easeIn(1-t)}function inAndOut(t){return 3*t*t-2*t*t*t}function linear(t){return t}function upAndDown(t){return t<.5?inAndOut(2*t):1-inAndOut(2*(t-.5))}return $__export("easeIn",easeIn),$__export("easeOut",easeOut),$__export("inAndOut",inAndOut),$__export("linear",linear),$__export("upAndDown",upAndDown),{setters:[],execute:function(){}}}),$__System.register("3d",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{ACTIVE:"active"})}}}),$__System.register("3e",["10","3f","16","3d","1b"],function($__export){"use strict";function pan(view,delta,opt_duration){var currentCenter=view.getCenter();if(currentCenter){var center=view.constrainCenter([currentCenter[0]+delta[0],currentCenter[1]+delta[1]]);opt_duration?view.animate({duration:opt_duration,easing:linear,center:center}):view.setCenter(center)}}function rotate(view,rotation,opt_anchor,opt_duration){rotation=view.constrainRotation(rotation,0),rotateWithoutConstraints(view,rotation,opt_anchor,opt_duration)}function rotateWithoutConstraints(view,rotation,opt_anchor,opt_duration){if(void 0!==rotation){var currentRotation=view.getRotation(),currentCenter=view.getCenter();void 0!==currentRotation&&currentCenter&&opt_duration>0?view.animate({rotation:rotation,anchor:opt_anchor,duration:opt_duration,easing:easeOut}):view.rotate(rotation,opt_anchor)}}function zoom(view,resolution,opt_anchor,opt_duration,opt_direction){resolution=view.constrainResolution(resolution,0,opt_direction),zoomWithoutConstraints(view,resolution,opt_anchor,opt_duration)}function zoomByDelta(view,delta,opt_anchor,opt_duration){var currentResolution=view.getResolution(),resolution=view.constrainResolution(currentResolution,delta,0);if(void 0!==resolution){var resolutions=view.getResolutions();resolution=clamp(resolution,view.getMinResolution()||resolutions[resolutions.length-1],view.getMaxResolution()||resolutions[0])}if(opt_anchor&&void 0!==resolution&&resolution!==currentResolution){var currentCenter=view.getCenter(),center=view.calculateCenterZoom(resolution,opt_anchor);center=view.constrainCenter(center),opt_anchor=[(resolution*currentCenter[0]-currentResolution*center[0])/(resolution-currentResolution),(resolution*currentCenter[1]-currentResolution*center[1])/(resolution-currentResolution)]}zoomWithoutConstraints(view,resolution,opt_anchor,opt_duration)}function zoomWithoutConstraints(view,resolution,opt_anchor,opt_duration){if(resolution){var currentResolution=view.getResolution(),currentCenter=view.getCenter();if(void 0!==currentResolution&&currentCenter&&resolution!==currentResolution&&opt_duration)view.animate({resolution:resolution,anchor:opt_anchor,duration:opt_duration,easing:easeOut});else{if(opt_anchor){var center=view.calculateCenterZoom(resolution,opt_anchor);view.setCenter(center)}view.setResolution(resolution)}}}var inherits,BaseObject,easeOut,linear,InteractionProperty,clamp,Interaction;return $__export("pan",pan),$__export("rotate",rotate),$__export("rotateWithoutConstraints",rotateWithoutConstraints),$__export("zoom",zoom),$__export("zoomByDelta",zoomByDelta),$__export("zoomWithoutConstraints",zoomWithoutConstraints),{setters:[function($__m){inherits=$__m.inherits},function($__m){BaseObject=$__m.default},function($__m){easeOut=$__m.easeOut,linear=$__m.linear},function($__m){InteractionProperty=$__m.default},function($__m){clamp=$__m.clamp}],execute:function(){Interaction=function(options){BaseObject.call(this),this.map_=null,this.setActive(!0),this.handleEvent=options.handleEvent},inherits(Interaction,BaseObject),Interaction.prototype.getActive=function(){return this.get(InteractionProperty.ACTIVE)},Interaction.prototype.getMap=function(){return this.map_},Interaction.prototype.setActive=function(active){this.set(InteractionProperty.ACTIVE,active)},Interaction.prototype.setMap=function(map){this.map_=map},$__export("default",Interaction)}}}),$__System.register("36",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"})}}}),$__System.register("40",["10","3f","41","1b","31"],function($__export){"use strict";var inherits,BaseObject,LayerProperty,clamp,assign,BaseLayer;return{setters:[function($__m){inherits=$__m.inherits},function($__m){BaseObject=$__m.default},function($__m){LayerProperty=$__m.default},function($__m){clamp=$__m.clamp},function($__m){assign=$__m.assign}],execute:function(){BaseLayer=function(options){BaseObject.call(this);var properties=assign({},options);properties[LayerProperty.OPACITY]=void 0!==options.opacity?options.opacity:1,properties[LayerProperty.VISIBLE]=void 0===options.visible||options.visible,properties[LayerProperty.Z_INDEX]=void 0!==options.zIndex?options.zIndex:0,properties[LayerProperty.MAX_RESOLUTION]=void 0!==options.maxResolution?options.maxResolution:1/0,properties[LayerProperty.MIN_RESOLUTION]=void 0!==options.minResolution?options.minResolution:0,this.setProperties(properties),this.state_={layer:this,managed:!0},this.type},inherits(BaseLayer,BaseObject),BaseLayer.prototype.getType=function(){return this.type},BaseLayer.prototype.getLayerState=function(){return this.state_.opacity=clamp(this.getOpacity(),0,1),this.state_.sourceState=this.getSourceState(),this.state_.visible=this.getVisible(),this.state_.extent=this.getExtent(),this.state_.zIndex=this.getZIndex(),this.state_.maxResolution=this.getMaxResolution(),this.state_.minResolution=Math.max(this.getMinResolution(),0),this.state_},BaseLayer.prototype.getLayersArray=function(opt_array){},BaseLayer.prototype.getLayerStatesArray=function(opt_states){},BaseLayer.prototype.getExtent=function(){return this.get(LayerProperty.EXTENT)},BaseLayer.prototype.getMaxResolution=function(){return this.get(LayerProperty.MAX_RESOLUTION)},BaseLayer.prototype.getMinResolution=function(){return this.get(LayerProperty.MIN_RESOLUTION)},BaseLayer.prototype.getOpacity=function(){return this.get(LayerProperty.OPACITY)},BaseLayer.prototype.getSourceState=function(){},BaseLayer.prototype.getVisible=function(){return this.get(LayerProperty.VISIBLE)},BaseLayer.prototype.getZIndex=function(){return this.get(LayerProperty.Z_INDEX)},BaseLayer.prototype.setExtent=function(extent){this.set(LayerProperty.EXTENT,extent)},BaseLayer.prototype.setMaxResolution=function(maxResolution){this.set(LayerProperty.MAX_RESOLUTION,maxResolution)},BaseLayer.prototype.setMinResolution=function(minResolution){this.set(LayerProperty.MIN_RESOLUTION,minResolution)},BaseLayer.prototype.setOpacity=function(opacity){this.set(LayerProperty.OPACITY,opacity)},BaseLayer.prototype.setVisible=function(visible){this.set(LayerProperty.VISIBLE,visible)},BaseLayer.prototype.setZIndex=function(zindex){this.set(LayerProperty.Z_INDEX,zindex)},$__export("default",BaseLayer)}}}),$__System.register("41",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"})}}}),$__System.register("42",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"})}}}),$__System.register("37",["14","15","10","3f","40","41","31","42","43"],function($__export){"use strict";function visibleAtResolution(layerState,resolution){return layerState.visible&&resolution>=layerState.minResolution&&resolution<layerState.maxResolution}var listen,unlistenByKey,EventType,getUid,inherits,getChangeEventType,BaseLayer,LayerProperty,assign,RenderEventType,SourceState,Layer;return $__export("visibleAtResolution",visibleAtResolution),{setters:[function($__m){listen=$__m.listen,unlistenByKey=$__m.unlistenByKey},function($__m){EventType=$__m.default},function($__m){getUid=$__m.getUid,inherits=$__m.inherits},function($__m){getChangeEventType=$__m.getChangeEventType},function($__m){BaseLayer=$__m.default},function($__m){LayerProperty=$__m.default},function($__m){assign=$__m.assign},function($__m){RenderEventType=$__m.default},function($__m){SourceState=$__m.default}],execute:function(){Layer=function(options){var baseOptions=assign({},options);delete baseOptions.source,BaseLayer.call(this,baseOptions),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,options.map&&this.setMap(options.map),listen(this,getChangeEventType(LayerProperty.SOURCE),this.handleSourcePropertyChange_,this);var source=options.source?options.source:null;this.setSource(source)},inherits(Layer,BaseLayer),Layer.prototype.getLayersArray=function(opt_array){var array=opt_array||[];return array.push(this),array},Layer.prototype.getLayerStatesArray=function(opt_states){var states=opt_states||[];return states.push(this.getLayerState()),states},Layer.prototype.getSource=function(){return this.get(LayerProperty.SOURCE)||null},Layer.prototype.getSourceState=function(){var source=this.getSource();return source?source.getState():SourceState.UNDEFINED},Layer.prototype.handleSourceChange_=function(){this.changed()},Layer.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(unlistenByKey(this.sourceChangeKey_),this.sourceChangeKey_=null);var source=this.getSource();source&&(this.sourceChangeKey_=listen(source,EventType.CHANGE,this.handleSourceChange_,this)),this.changed()},Layer.prototype.setMap=function(map){this.mapPrecomposeKey_&&(unlistenByKey(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),map||this.changed(),this.mapRenderKey_&&(unlistenByKey(this.mapRenderKey_),this.mapRenderKey_=null),map&&(this.mapPrecomposeKey_=listen(map,RenderEventType.PRECOMPOSE,function(evt){var layerState=this.getLayerState();layerState.managed=!1,layerState.zIndex=1/0,evt.frameState.layerStatesArray.push(layerState),evt.frameState.layerStates[getUid(this)]=layerState},this),this.mapRenderKey_=listen(this,EventType.CHANGE,map.render,map),this.changed())},Layer.prototype.setSource=function(source){this.set(LayerProperty.SOURCE,source)},$__export("default",Layer)}}}),$__System.register("44",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{IMAGE:"image",VECTOR:"vector"})}}}),$__System.register("45",["10","36","37","44","31","46"],function($__export){"use strict";var inherits,LayerType,Layer,VectorRenderType,assign,createDefaultStyle,toStyleFunction,RenderType,Property,VectorLayer;return{setters:[function($__m){inherits=$__m.inherits},function($__m){LayerType=$__m.default},function($__m){Layer=$__m.default},function($__m){VectorRenderType=$__m.default},function($__m){assign=$__m.assign},function($__m){createDefaultStyle=$__m.createDefaultStyle,toStyleFunction=$__m.toFunction}],execute:function(){RenderType={IMAGE:"image",VECTOR:"vector"},$__export("RenderType",RenderType),Property={RENDER_ORDER:"renderOrder"},VectorLayer=function(opt_options){var options=opt_options||{},baseOptions=assign({},options);delete baseOptions.style,delete baseOptions.renderBuffer,delete baseOptions.updateWhileAnimating,delete baseOptions.updateWhileInteracting,Layer.call(this,baseOptions),this.declutter_=void 0!==options.declutter&&options.declutter,this.renderBuffer_=void 0!==options.renderBuffer?options.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(options.style),this.updateWhileAnimating_=void 0!==options.updateWhileAnimating&&options.updateWhileAnimating,this.updateWhileInteracting_=void 0!==options.updateWhileInteracting&&options.updateWhileInteracting,this.renderMode_=options.renderMode||VectorRenderType.VECTOR,this.type=LayerType.VECTOR},inherits(VectorLayer,Layer),VectorLayer.prototype.getDeclutter=function(){return this.declutter_},VectorLayer.prototype.setDeclutter=function(declutter){this.declutter_=declutter},VectorLayer.prototype.getRenderBuffer=function(){return this.renderBuffer_},VectorLayer.prototype.getRenderOrder=function(){return this.get(Property.RENDER_ORDER)},VectorLayer.prototype.getSource,VectorLayer.prototype.getStyle=function(){return this.style_},VectorLayer.prototype.getStyleFunction=function(){return this.styleFunction_},VectorLayer.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},VectorLayer.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},VectorLayer.prototype.setRenderOrder=function(renderOrder){this.set(Property.RENDER_ORDER,renderOrder)},VectorLayer.prototype.setStyle=function(style){this.style_=void 0!==style?style:createDefaultStyle,this.styleFunction_=null===style?void 0:toStyleFunction(this.style_),this.changed()},VectorLayer.prototype.getRenderMode=function(){return this.renderMode_},$__export("default",VectorLayer)}}}),$__System.register("47",["10","48","49","3f","25"],function($__export){"use strict";var inherits,AssertionError,CollectionEventType,BaseObject,Event,Property,CollectionEvent,Collection;return{setters:[function($__m){inherits=$__m.inherits},function($__m){AssertionError=$__m.default},function($__m){CollectionEventType=$__m.default},function($__m){BaseObject=$__m.default},function($__m){Event=$__m.default}],execute:function(){Property={LENGTH:"length"},CollectionEvent=function(type,opt_element){Event.call(this,type),this.element=opt_element},$__export("CollectionEvent",CollectionEvent),inherits(CollectionEvent,Event),Collection=function(opt_array,opt_options){BaseObject.call(this);var options=opt_options||{};if(this.unique_=!!options.unique,this.array_=opt_array||[],this.unique_)for(var i=0,ii=this.array_.length;i<ii;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()},inherits(Collection,BaseObject),Collection.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},Collection.prototype.extend=function(arr){for(var i=0,ii=arr.length;i<ii;++i)this.push(arr[i]);return this},Collection.prototype.forEach=function(f){for(var array=this.array_,i=0,ii=array.length;i<ii;++i)f(array[i],i,array)},Collection.prototype.getArray=function(){return this.array_},Collection.prototype.item=function(index){return this.array_[index]},Collection.prototype.getLength=function(){return this.get(Property.LENGTH)},Collection.prototype.insertAt=function(index,elem){this.unique_&&this.assertUnique_(elem),this.array_.splice(index,0,elem),this.updateLength_(),this.dispatchEvent(new CollectionEvent(CollectionEventType.ADD,elem))},Collection.prototype.pop=function(){return this.removeAt(this.getLength()-1)},Collection.prototype.push=function(elem){this.unique_&&this.assertUnique_(elem);var n=this.getLength();return this.insertAt(n,elem),this.getLength()},Collection.prototype.remove=function(elem){for(var arr=this.array_,i=0,ii=arr.length;i<ii;++i)if(arr[i]===elem)return this.removeAt(i)},Collection.prototype.removeAt=function(index){var prev=this.array_[index];return this.array_.splice(index,1),this.updateLength_(),this.dispatchEvent(new CollectionEvent(CollectionEventType.REMOVE,prev)),prev},Collection.prototype.setAt=function(index,elem){var n=this.getLength();if(index<n){this.unique_&&this.assertUnique_(elem,index);var prev=this.array_[index];this.array_[index]=elem,this.dispatchEvent(new CollectionEvent(CollectionEventType.REMOVE,prev)),this.dispatchEvent(new CollectionEvent(CollectionEventType.ADD,elem))}else{for(var j=n;j<index;++j)this.insertAt(j,void 0);this.insertAt(index,elem)}},Collection.prototype.updateLength_=function(){this.set(Property.LENGTH,this.array_.length)},Collection.prototype.assertUnique_=function(elem,opt_except){for(var i=0,ii=this.array_.length;i<ii;++i)if(this.array_[i]===elem&&i!==opt_except)throw new AssertionError(58)},$__export("default",Collection)}}}),$__System.register("49",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{ADD:"add",REMOVE:"remove"})}}}),$__System.register("4a",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"})}}}),$__System.register("4b",["24","4a"],function($__export){"use strict";function loadFeaturesXhr(url,format,success,failure){return function(extent,resolution,projection){var xhr=new XMLHttpRequest;xhr.open("GET","function"==typeof url?url(extent,resolution,projection):url,!0),format.getType()==FormatType.ARRAY_BUFFER&&(xhr.responseType="arraybuffer"),xhr.onload=function(event){if(!xhr.status||xhr.status>=200&&xhr.status<300){var source,type=format.getType();type==FormatType.JSON||type==FormatType.TEXT?source=xhr.responseText:type==FormatType.XML?(source=xhr.responseXML)||(source=(new DOMParser).parseFromString(xhr.responseText,"application/xml")):type==FormatType.ARRAY_BUFFER&&(source=xhr.response),source?success.call(this,format.readFeatures(source,{featureProjection:projection}),format.readProjection(source),format.getLastExtent()):failure.call(this)}else failure.call(this)}.bind(this),xhr.onerror=function(){failure.call(this)}.bind(this),xhr.send()}}function xhr(url,format){return loadFeaturesXhr(url,format,function(features,dataProjection){this.addFeatures(features)},UNDEFINED)}var UNDEFINED,FormatType;return $__export("loadFeaturesXhr",loadFeaturesXhr),$__export("xhr",xhr),{setters:[function($__m){UNDEFINED=$__m.UNDEFINED},function($__m){FormatType=$__m.default}],execute:function(){}}}),$__System.register("4c",[],function($__export){"use strict";function all(extent,resolution){return[[-1/0,-1/0,1/0,1/0]]}function bbox(extent,resolution){return[extent]}function tile(tileGrid){return function(extent,resolution){var z=tileGrid.getZForResolution(resolution),tileRange=tileGrid.getTileRangeForExtentAndZ(extent,z),extents=[],tileCoord=[z,0,0];for(tileCoord[1]=tileRange.minX;tileCoord[1]<=tileRange.maxX;++tileCoord[1])for(tileCoord[2]=tileRange.minY;tileCoord[2]<=tileRange.maxY;++tileCoord[2])extents.push(tileGrid.getTileCoordExtent(tileCoord));return extents}}return $__export("all",all),$__export("bbox",bbox),$__export("tile",tile),{setters:[],execute:function(){}}}),$__System.register("4d",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"})}}}),function(f){if("object"==typeof exports&&void 0!==module)module.exports=f();else{$__System.registerDynamic("4e",[],!1,function($__require,$__exports,$__module){return"function"==typeof f?f.call(this):f})}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function rbush(maxEntries,format){if(!(this instanceof rbush))return new rbush(maxEntries,format);this._maxEntries=Math.max(4,maxEntries||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),format&&this._initFormat(format),this.clear()}function findItem(item,items,equalsFn){if(!equalsFn)return items.indexOf(item);for(var i=0;i<items.length;i++)if(equalsFn(item,items[i]))return i;return-1}function calcBBox(node,toBBox){distBBox(node,0,node.children.length,toBBox,node)}function distBBox(node,k,p,toBBox,destNode){destNode||(destNode=createNode(null)),destNode.minX=1/0,destNode.minY=1/0,destNode.maxX=-1/0,destNode.maxY=-1/0;for(var child,i=k;i<p;i++)child=node.children[i],extend(destNode,node.leaf?toBBox(child):child);return destNode}function extend(a,b){return a.minX=Math.min(a.minX,b.minX),a.minY=Math.min(a.minY,b.minY),a.maxX=Math.max(a.maxX,b.maxX),a.maxY=Math.max(a.maxY,b.maxY),a}function compareNodeMinX(a,b){return a.minX-b.minX}function compareNodeMinY(a,b){return a.minY-b.minY}function bboxArea(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function bboxMargin(a){return a.maxX-a.minX+(a.maxY-a.minY)}function enlargedArea(a,b){return(Math.max(b.maxX,a.maxX)-Math.min(b.minX,a.minX))*(Math.max(b.maxY,a.maxY)-Math.min(b.minY,a.minY))}function intersectionArea(a,b){var minX=Math.max(a.minX,b.minX),minY=Math.max(a.minY,b.minY),maxX=Math.min(a.maxX,b.maxX),maxY=Math.min(a.maxY,b.maxY);return Math.max(0,maxX-minX)*Math.max(0,maxY-minY)}function contains(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY}function intersects(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY}function createNode(children){return{children:children,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function multiSelect(arr,left,right,n,compare){for(var mid,stack=[left,right];stack.length;)right=stack.pop(),left=stack.pop(),right-left<=n||(mid=left+Math.ceil((right-left)/n/2)*n,quickselect(arr,mid,left,right,compare),stack.push(left,mid,mid,right))}module.exports=rbush;var quickselect=require("quickselect");rbush.prototype={all:function(){return this._all(this.data,[])},search:function(bbox){var node=this.data,result=[],toBBox=this.toBBox;if(!intersects(bbox,node))return result;for(var i,len,child,childBBox,nodesToSearch=[];node;){for(i=0,len=node.children.length;i<len;i++)child=node.children[i],childBBox=node.leaf?toBBox(child):child,intersects(bbox,childBBox)&&(node.leaf?result.push(child):contains(bbox,childBBox)?this._all(child,result):nodesToSearch.push(child));node=nodesToSearch.pop()}return result},collides:function(bbox){var node=this.data,toBBox=this.toBBox;if(!intersects(bbox,node))return!1;for(var i,len,child,childBBox,nodesToSearch=[];node;){for(i=0,len=node.children.length;i<len;i++)if(child=node.children[i],childBBox=node.leaf?toBBox(child):child,intersects(bbox,childBBox)){if(node.leaf||contains(bbox,childBBox))return!0;nodesToSearch.push(child)}node=nodesToSearch.pop()}return!1},load:function(data){if(!data||!data.length)return this;if(data.length<this._minEntries){for(var i=0,len=data.length;i<len;i++)this.insert(data[i]);return this}var node=this._build(data.slice(),0,data.length-1,0);if(this.data.children.length)if(this.data.height===node.height)this._splitRoot(this.data,node);else{if(this.data.height<node.height){var tmpNode=this.data;this.data=node,node=tmpNode}this._insert(node,this.data.height-node.height-1,!0)}else this.data=node;return this},insert:function(item){return item&&this._insert(item,this.data.height-1),this},clear:function(){return this.data=createNode([]),this},remove:function(item,equalsFn){if(!item)return this;for(var i,parent,index,goingUp,node=this.data,bbox=this.toBBox(item),path=[],indexes=[];node||path.length;){if(node||(node=path.pop(),parent=path[path.length-1],i=indexes.pop(),goingUp=!0),node.leaf&&-1!==(index=findItem(item,node.children,equalsFn)))return node.children.splice(index,1),path.push(node),this._condense(path),this;goingUp||node.leaf||!contains(node,bbox)?parent?(i++,node=parent.children[i],goingUp=!1):node=null:(path.push(node),indexes.push(i),i=0,parent=node,node=node.children[0])}return this},toBBox:function(item){return item},compareMinX:compareNodeMinX,compareMinY:compareNodeMinY,toJSON:function(){return this.data},fromJSON:function(data){return this.data=data,this},_all:function(node,result){for(var nodesToSearch=[];node;)node.leaf?result.push.apply(result,node.children):nodesToSearch.push.apply(nodesToSearch,node.children),node=nodesToSearch.pop();return result},_build:function(items,left,right,height){var node,N=right-left+1,M=this._maxEntries;if(N<=M)return node=createNode(items.slice(left,right+1)),calcBBox(node,this.toBBox),node;height||(height=Math.ceil(Math.log(N)/Math.log(M)),M=Math.ceil(N/Math.pow(M,height-1))),node=createNode([]),node.leaf=!1,node.height=height;var i,j,right2,right3,N2=Math.ceil(N/M),N1=N2*Math.ceil(Math.sqrt(M));for(multiSelect(items,left,right,N1,this.compareMinX),i=left;i<=right;i+=N1)for(right2=Math.min(i+N1-1,right),multiSelect(items,i,right2,N2,this.compareMinY),j=i;j<=right2;j+=N2)right3=Math.min(j+N2-1,right2),node.children.push(this._build(items,j,right3,height-1));return calcBBox(node,this.toBBox),node},_chooseSubtree:function(bbox,node,level,path){for(var i,len,child,targetNode,area,enlargement,minArea,minEnlargement;;){if(path.push(node),node.leaf||path.length-1===level)break;for(minArea=minEnlargement=1/0,i=0,len=node.children.length;i<len;i++)child=node.children[i],area=bboxArea(child),enlargement=enlargedArea(bbox,child)-area,enlargement<minEnlargement?(minEnlargement=enlargement,minArea=area<minArea?area:minArea,targetNode=child):enlargement===minEnlargement&&area<minArea&&(minArea=area,targetNode=child);node=targetNode||node.children[0]}return node},_insert:function(item,level,isNode){var toBBox=this.toBBox,bbox=isNode?item:toBBox(item),insertPath=[],node=this._chooseSubtree(bbox,this.data,level,insertPath);for(node.children.push(item),extend(node,bbox);level>=0&&insertPath[level].children.length>this._maxEntries;)this._split(insertPath,level),level--;this._adjustParentBBoxes(bbox,insertPath,level)},_split:function(insertPath,level){var node=insertPath[level],M=node.children.length,m=this._minEntries;this._chooseSplitAxis(node,m,M);var splitIndex=this._chooseSplitIndex(node,m,M),newNode=createNode(node.children.splice(splitIndex,node.children.length-splitIndex));newNode.height=node.height,newNode.leaf=node.leaf,calcBBox(node,this.toBBox),calcBBox(newNode,this.toBBox),level?insertPath[level-1].children.push(newNode):this._splitRoot(node,newNode)},_splitRoot:function(node,newNode){this.data=createNode([node,newNode]),this.data.height=node.height+1,this.data.leaf=!1,calcBBox(this.data,this.toBBox)},_chooseSplitIndex:function(node,m,M){var i,bbox1,bbox2,overlap,area,minOverlap,minArea,index;for(minOverlap=minArea=1/0,i=m;i<=M-m;i++)bbox1=distBBox(node,0,i,this.toBBox),bbox2=distBBox(node,i,M,this.toBBox),overlap=intersectionArea(bbox1,bbox2),area=bboxArea(bbox1)+bboxArea(bbox2),overlap<minOverlap?(minOverlap=overlap,index=i,minArea=area<minArea?area:minArea):overlap===minOverlap&&area<minArea&&(minArea=area,index=i);return index},_chooseSplitAxis:function(node,m,M){var compareMinX=node.leaf?this.compareMinX:compareNodeMinX,compareMinY=node.leaf?this.compareMinY:compareNodeMinY;this._allDistMargin(node,m,M,compareMinX)<this._allDistMargin(node,m,M,compareMinY)&&node.children.sort(compareMinX)},_allDistMargin:function(node,m,M,compare){node.children.sort(compare);var i,child,toBBox=this.toBBox,leftBBox=distBBox(node,0,m,toBBox),rightBBox=distBBox(node,M-m,M,toBBox),margin=bboxMargin(leftBBox)+bboxMargin(rightBBox);for(i=m;i<M-m;i++)child=node.children[i],extend(leftBBox,node.leaf?toBBox(child):child),margin+=bboxMargin(leftBBox);for(i=M-m-1;i>=m;i--)child=node.children[i],extend(rightBBox,node.leaf?toBBox(child):child),margin+=bboxMargin(rightBBox);return margin},_adjustParentBBoxes:function(bbox,path,level){for(var i=level;i>=0;i--)extend(path[i],bbox)},_condense:function(path){for(var siblings,i=path.length-1;i>=0;i--)0===path[i].children.length?i>0?(siblings=path[i-1].children,siblings.splice(siblings.indexOf(path[i]),1)):this.clear():calcBBox(path[i],this.toBBox)},_initFormat:function(format){var compareArr=["return a"," - b",";"];this.compareMinX=new Function("a","b",compareArr.join(format[0])),this.compareMinY=new Function("a","b",compareArr.join(format[1])),this.toBBox=new Function("a","return {minX: a"+format[0]+", minY: a"+format[1]+", maxX: a"+format[2]+", maxY: a"+format[3]+"};")}}},{quickselect:2}],2:[function(require,module,exports){"use strict";function partialSort(arr,k,left,right,compare){for(;right>left;){if(right-left>600){var n=right-left+1,m=k-left+1,z=Math.log(n),s=.5*Math.exp(2*z/3),sd=.5*Math.sqrt(z*s*(n-s)/n)*(m-n/2<0?-1:1);partialSort(arr,k,Math.max(left,Math.floor(k-m*s/n+sd)),Math.min(right,Math.floor(k+(n-m)*s/n+sd)),compare)}var t=arr[k],i=left,j=right;for(swap(arr,left,k),compare(arr[right],t)>0&&swap(arr,left,right);i<j;){for(swap(arr,i,j),i++,j--;compare(arr[i],t)<0;)i++;for(;compare(arr[j],t)>0;)j--}0===compare(arr[left],t)?swap(arr,left,j):(j++,swap(arr,j,right)),j<=k&&(left=j+1),k<=j&&(right=j-1)}}function swap(arr,i,j){var tmp=arr[i];arr[i]=arr[j],arr[j]=tmp}module.exports=partialSort},{}]},{},[1])(1)}),$__System.register("4f",["10","4e","1a","31"],function($__export){"use strict";var getUid,rbush,createOrUpdate,equals,isEmpty,RBush;return{setters:[function($__m){getUid=$__m.getUid},function($__m){rbush=$__m.default},function($__m){createOrUpdate=$__m.createOrUpdate,equals=$__m.equals},function($__m){isEmpty=$__m.isEmpty}],execute:function(){RBush=function(opt_maxEntries){this.rbush_=rbush(opt_maxEntries,void 0),this.items_={}},RBush.prototype.insert=function(extent,value){var item={minX:extent[0],minY:extent[1],maxX:extent[2],maxY:extent[3],value:value};this.rbush_.insert(item),this.items_[getUid(value)]=item},RBush.prototype.load=function(extents,values){for(var items=new Array(values.length),i=0,l=values.length;i<l;i++){var extent=extents[i],value=values[i],item={minX:extent[0],minY:extent[1],maxX:extent[2],maxY:extent[3],value:value};items[i]=item,this.items_[getUid(value)]=item}this.rbush_.load(items)},RBush.prototype.remove=function(value){var uid=getUid(value),item=this.items_[uid];return delete this.items_[uid],null!==this.rbush_.remove(item)},RBush.prototype.update=function(extent,value){var item=this.items_[getUid(value)],bbox=[item.minX,item.minY,item.maxX,item.maxY];equals(bbox,extent)||(this.remove(value),this.insert(extent,value))},RBush.prototype.getAll=function(){return this.rbush_.all().map(function(item){return item.value})},RBush.prototype.getInExtent=function(extent){var bbox={minX:extent[0],minY:extent[1],maxX:extent[2],maxY:extent[3]};return this.rbush_.search(bbox).map(function(item){return item.value})},RBush.prototype.forEach=function(callback,opt_this){return this.forEach_(this.getAll(),callback,opt_this)},RBush.prototype.forEachInExtent=function(extent,callback,opt_this){return this.forEach_(this.getInExtent(extent),callback,opt_this)},RBush.prototype.forEach_=function(values,callback,opt_this){for(var result,i=0,l=values.length;i<l;i++)if(result=callback.call(opt_this,values[i]))return result;return result},RBush.prototype.isEmpty=function(){return isEmpty(this.items_)},RBush.prototype.clear=function(){this.rbush_.clear(),this.items_={}},RBush.prototype.getExtent=function(opt_extent){var data=this.rbush_.data;return createOrUpdate(data.minX,data.minY,data.maxX,data.maxY,opt_extent)},RBush.prototype.concat=function(rbush){this.rbush_.load(rbush.rbush_.all());for(var i in rbush.items_)this.items_[0|i]=rbush.items_[0|i]},$__export("default",RBush)}}}),$__System.register("38",["10","47","49","50","2f","1f","14","25","15","1a","4b","24","4c","31","28","43","4d","4f"],function($__export){"use strict";var getUid,inherits,Collection,CollectionEventType,ObjectEventType,extend,assert,listen,unlistenByKey,Event,EventType,containsExtent,equals,xhr,TRUE,UNDEFINED,allStrategy,isEmpty,getValues,Source,SourceState,VectorEventType,RBush,VectorSourceEvent,VectorSource;return{setters:[function($__m){getUid=$__m.getUid,inherits=$__m.inherits},function($__m){Collection=$__m.default},function($__m){CollectionEventType=$__m.default},function($__m){ObjectEventType=$__m.default},function($__m){extend=$__m.extend},function($__m){assert=$__m.assert},function($__m){listen=$__m.listen,unlistenByKey=$__m.unlistenByKey},function($__m){Event=$__m.default},function($__m){EventType=$__m.default},function($__m){containsExtent=$__m.containsExtent,equals=$__m.equals},function($__m){xhr=$__m.xhr},function($__m){TRUE=$__m.TRUE,UNDEFINED=$__m.UNDEFINED},function($__m){allStrategy=$__m.all},function($__m){isEmpty=$__m.isEmpty,getValues=$__m.getValues},function($__m){Source=$__m.default},function($__m){SourceState=$__m.default},function($__m){VectorEventType=$__m.default},function($__m){RBush=$__m.default}],execute:function(){VectorSourceEvent=function(type,opt_feature){Event.call(this,type),this.feature=opt_feature},$__export("VectorSourceEvent",VectorSourceEvent),inherits(VectorSourceEvent,Event),VectorSource=function(opt_options){var options=opt_options||{};Source.call(this,{attributions:options.attributions,projection:void 0,state:SourceState.READY,wrapX:void 0===options.wrapX||options.wrapX}),this.loader_=UNDEFINED,this.format_=options.format,this.overlaps_=void 0==options.overlaps||options.overlaps,this.url_=options.url,void 0!==options.loader?this.loader_=options.loader:void 0!==this.url_&&(assert(this.format_,7),this.loader_=xhr(this.url_,this.format_)),this.strategy_=void 0!==options.strategy?options.strategy:allStrategy;var useSpatialIndex=void 0===options.useSpatialIndex||options.useSpatialIndex;this.featuresRtree_=useSpatialIndex?new RBush:null,this.loadedExtentsRtree_=new RBush,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;var collection,features;options.features instanceof Collection?(collection=options.features,features=collection.getArray()):Array.isArray(options.features)&&(features=options.features),useSpatialIndex||void 0!==collection||(collection=new Collection(features)),void 0!==features&&this.addFeaturesInternal(features),void 0!==collection&&this.bindFeaturesCollection_(collection)},inherits(VectorSource,Source),VectorSource.prototype.addFeature=function(feature){this.addFeatureInternal(feature),this.changed()},VectorSource.prototype.addFeatureInternal=function(feature){var featureKey=getUid(feature).toString();if(this.addToIndex_(featureKey,feature)){this.setupChangeEvents_(featureKey,feature);var geometry=feature.getGeometry();if(geometry){var extent=geometry.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(extent,feature)}else this.nullGeometryFeatures_[featureKey]=feature;this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE,feature))}},VectorSource.prototype.setupChangeEvents_=function(featureKey,feature){this.featureChangeKeys_[featureKey]=[listen(feature,EventType.CHANGE,this.handleFeatureChange_,this),listen(feature,ObjectEventType.PROPERTYCHANGE,this.handleFeatureChange_,this)]},VectorSource.prototype.addToIndex_=function(featureKey,feature){var valid=!0,id=feature.getId();return void 0!==id?id.toString()in this.idIndex_?valid=!1:this.idIndex_[id.toString()]=feature:(assert(!(featureKey in this.undefIdIndex_),30),this.undefIdIndex_[featureKey]=feature),valid},VectorSource.prototype.addFeatures=function(features){this.addFeaturesInternal(features),this.changed()},VectorSource.prototype.addFeaturesInternal=function(features){for(var extents=[],newFeatures=[],geometryFeatures=[],i=0,length=features.length;i<length;i++){var feature=features[i],featureKey=getUid(feature).toString();this.addToIndex_(featureKey,feature)&&newFeatures.push(feature)}for(var i$__2=0,length$__3=newFeatures.length;i$__2<length$__3;i$__2++){var feature$__4=newFeatures[i$__2],featureKey$__5=getUid(feature$__4).toString();this.setupChangeEvents_(featureKey$__5,feature$__4);var geometry=feature$__4.getGeometry();if(geometry){var extent=geometry.getExtent();extents.push(extent),geometryFeatures.push(feature$__4)}else this.nullGeometryFeatures_[featureKey$__5]=feature$__4}this.featuresRtree_&&this.featuresRtree_.load(extents,geometryFeatures);for(var i$__6=0,length$__7=newFeatures.length;i$__6<length$__7;i$__6++)this.dispatchEvent(new VectorSourceEvent(VectorEventType.ADDFEATURE,newFeatures[i$__6]))},VectorSource.prototype.bindFeaturesCollection_=function(collection){var modifyingCollection=!1;listen(this,VectorEventType.ADDFEATURE,function(evt){modifyingCollection||(modifyingCollection=!0,collection.push(evt.feature),modifyingCollection=!1)}),listen(this,VectorEventType.REMOVEFEATURE,function(evt){modifyingCollection||(modifyingCollection=!0,collection.remove(evt.feature),modifyingCollection=!1)}),listen(collection,CollectionEventType.ADD,function(evt){modifyingCollection||(modifyingCollection=!0,this.addFeature(evt.element),modifyingCollection=!1)},this),listen(collection,CollectionEventType.REMOVE,function(evt){modifyingCollection||(modifyingCollection=!0,this.removeFeature(evt.element),modifyingCollection=!1)},this),this.featuresCollection_=collection},VectorSource.prototype.clear=function(opt_fast){if(opt_fast){for(var featureId in this.featureChangeKeys_){this.featureChangeKeys_[featureId].forEach(unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal,this);for(var id in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[id])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var clearEvent=new VectorSourceEvent(VectorEventType.CLEAR);this.dispatchEvent(clearEvent),this.changed()},VectorSource.prototype.forEachFeature=function(callback){return this.featuresRtree_?this.featuresRtree_.forEach(callback):this.featuresCollection_?this.featuresCollection_.forEach(callback):void 0},VectorSource.prototype.forEachFeatureAtCoordinateDirect=function(coordinate,callback){var extent=[coordinate[0],coordinate[1],coordinate[0],coordinate[1]];return this.forEachFeatureInExtent(extent,function(feature){return feature.getGeometry().intersectsCoordinate(coordinate)?callback(feature):void 0})},VectorSource.prototype.forEachFeatureInExtent=function(extent,callback){return this.featuresRtree_?this.featuresRtree_.forEachInExtent(extent,callback):this.featuresCollection_?this.featuresCollection_.forEach(callback):void 0},VectorSource.prototype.forEachFeatureIntersectingExtent=function(extent,callback){return this.forEachFeatureInExtent(extent,function(feature){if(feature.getGeometry().intersectsExtent(extent)){var result=callback(feature);if(result)return result}})},VectorSource.prototype.getFeaturesCollection=function(){return this.featuresCollection_},VectorSource.prototype.getFeatures=function(){var features;return this.featuresCollection_?features=this.featuresCollection_.getArray():this.featuresRtree_&&(features=this.featuresRtree_.getAll(),isEmpty(this.nullGeometryFeatures_)||extend(features,getValues(this.nullGeometryFeatures_))),features},VectorSource.prototype.getFeaturesAtCoordinate=function(coordinate){var features=[];return this.forEachFeatureAtCoordinateDirect(coordinate,function(feature){features.push(feature)}),features},VectorSource.prototype.getFeaturesInExtent=function(extent){return this.featuresRtree_.getInExtent(extent)},VectorSource.prototype.getClosestFeatureToCoordinate=function(coordinate,opt_filter){var x=coordinate[0],y=coordinate[1],closestFeature=null,closestPoint=[NaN,NaN],minSquaredDistance=1/0,extent=[-1/0,-1/0,1/0,1/0],filter=opt_filter||TRUE;return this.featuresRtree_.forEachInExtent(extent,function(feature){if(filter(feature)){var geometry=feature.getGeometry(),previousMinSquaredDistance=minSquaredDistance;if((minSquaredDistance=geometry.closestPointXY(x,y,closestPoint,minSquaredDistance))<previousMinSquaredDistance){closestFeature=feature;var minDistance=Math.sqrt(minSquaredDistance);extent[0]=x-minDistance,extent[1]=y-minDistance,extent[2]=x+minDistance,extent[3]=y+minDistance}}}),closestFeature},VectorSource.prototype.getExtent=function(opt_extent){return this.featuresRtree_.getExtent(opt_extent)},VectorSource.prototype.getFeatureById=function(id){var feature=this.idIndex_[id.toString()];return void 0!==feature?feature:null},VectorSource.prototype.getFormat=function(){return this.format_},VectorSource.prototype.getOverlaps=function(){return this.overlaps_},VectorSource.prototype.getResolutions=function(){},VectorSource.prototype.getUrl=function(){return this.url_},VectorSource.prototype.handleFeatureChange_=function(event){var feature=event.target,featureKey=getUid(feature).toString(),geometry=feature.getGeometry();if(geometry){var extent=geometry.getExtent();featureKey in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[featureKey],this.featuresRtree_&&this.featuresRtree_.insert(extent,feature)):this.featuresRtree_&&this.featuresRtree_.update(extent,feature)}else featureKey in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(feature),this.nullGeometryFeatures_[featureKey]=feature);var id=feature.getId();if(void 0!==id){var sid=id.toString();featureKey in this.undefIdIndex_?(delete this.undefIdIndex_[featureKey],this.idIndex_[sid]=feature):this.idIndex_[sid]!==feature&&(this.removeFromIdIndex_(feature),this.idIndex_[sid]=feature)}else featureKey in this.undefIdIndex_||(this.removeFromIdIndex_(feature),this.undefIdIndex_[featureKey]=feature);this.changed(),this.dispatchEvent(new VectorSourceEvent(VectorEventType.CHANGEFEATURE,feature))},VectorSource.prototype.hasFeature=function(feature){var id=feature.getId();return void 0!==id?id in this.idIndex_:getUid(feature).toString()in this.undefIdIndex_},VectorSource.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&isEmpty(this.nullGeometryFeatures_)},VectorSource.prototype.loadFeatures=function(extent,resolution,projection){for(var loadedExtentsRtree=this.loadedExtentsRtree_,extentsToLoad=this.strategy_(extent,resolution),$__8=this,$__9=function(i,ii){var extentToLoad=extentsToLoad[i];loadedExtentsRtree.forEachInExtent(extentToLoad,function(object){return containsExtent(object.extent,extentToLoad)})||($__8.loader_.call($__8,extentToLoad,resolution,projection),loadedExtentsRtree.insert(extentToLoad,{extent:extentToLoad.slice()}))},i=0,ii=extentsToLoad.length;i<ii;++i)$__9(i,ii)},VectorSource.prototype.removeLoadedExtent=function(extent){var obj,loadedExtentsRtree=this.loadedExtentsRtree_;loadedExtentsRtree.forEachInExtent(extent,function(object){if(equals(object.extent,extent))return obj=object,!0}),obj&&loadedExtentsRtree.remove(obj)},VectorSource.prototype.removeFeature=function(feature){var featureKey=getUid(feature).toString();featureKey in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[featureKey]:this.featuresRtree_&&this.featuresRtree_.remove(feature),this.removeFeatureInternal(feature),this.changed()},VectorSource.prototype.removeFeatureInternal=function(feature){var featureKey=getUid(feature).toString();this.featureChangeKeys_[featureKey].forEach(unlistenByKey),delete this.featureChangeKeys_[featureKey];var id=feature.getId();void 0!==id?delete this.idIndex_[id.toString()]:delete this.undefIdIndex_[featureKey],this.dispatchEvent(new VectorSourceEvent(VectorEventType.REMOVEFEATURE,feature))},VectorSource.prototype.removeFromIdIndex_=function(feature){var removed=!1;for(var id in this.idIndex_)if(this.idIndex_[id]===feature){delete this.idIndex_[id],removed=!0;break}return removed},VectorSource.prototype.setLoader=function(loader){this.loader_=loader},$__export("default",VectorSource)}}}),$__System.register("51",["10","49","2f","14","25","52","24","53","3e","45","31","38","46"],function($__export){"use strict";function handleEvent(mapBrowserEvent){if(!this.condition_(mapBrowserEvent))return!0;var add=this.addCondition_(mapBrowserEvent),remove=this.removeCondition_(mapBrowserEvent),toggle=this.toggleCondition_(mapBrowserEvent),set=!add&&!remove&&!toggle,map=mapBrowserEvent.map,features=this.featureOverlay_.getSource().getFeaturesCollection(),deselected=[],selected=[];if(set){clear(this.featureLayerAssociation_),map.forEachFeatureAtPixel(mapBrowserEvent.pixel,function(feature,layer){if(this.filter_(feature,layer))return selected.push(feature),this.addFeatureLayerAssociation_(feature,layer),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var i=features.getLength()-1;i>=0;--i){var feature=features.item(i),index=selected.indexOf(feature);index>-1?selected.splice(index,1):(features.remove(feature),deselected.push(feature))}0!==selected.length&&features.extend(selected)}else{map.forEachFeatureAtPixel(mapBrowserEvent.pixel,function(feature,layer){if(this.filter_(feature,layer))return!add&&!toggle||includes(features.getArray(),feature)?(remove||toggle)&&includes(features.getArray(),feature)&&(deselected.push(feature),this.removeFeatureLayerAssociation_(feature)):(selected.push(feature),this.addFeatureLayerAssociation_(feature,layer)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var j=deselected.length-1;j>=0;--j)features.remove(deselected[j]);features.extend(selected)}return(selected.length>0||deselected.length>0)&&this.dispatchEvent(new SelectEvent(SelectEventType.SELECT,selected,deselected,mapBrowserEvent)),pointerMove(mapBrowserEvent)}function getDefaultStyleFunction(){var styles=createEditingStyle();return extend(styles[GeometryType.POLYGON],styles[GeometryType.LINE_STRING]),extend(styles[GeometryType.GEOMETRY_COLLECTION],styles[GeometryType.LINE_STRING]),function(feature,resolution){return feature.getGeometry()?styles[feature.getGeometry().getType()]:null}}var getUid,inherits,CollectionEventType,extend,includes,listen,Event,singleClick,never,shiftKeyOnly,pointerMove,TRUE,GeometryType,Interaction,VectorLayer,clear,VectorSource,createEditingStyle,SelectEventType,SelectEvent,Select;return{setters:[function($__m){getUid=$__m.getUid,inherits=$__m.inherits},function($__m){CollectionEventType=$__m.default},function($__m){extend=$__m.extend,includes=$__m.includes},function($__m){listen=$__m.listen},function($__m){Event=$__m.default},function($__m){singleClick=$__m.singleClick,never=$__m.never,shiftKeyOnly=$__m.shiftKeyOnly,pointerMove=$__m.pointerMove},function($__m){TRUE=$__m.TRUE},function($__m){GeometryType=$__m.default},function($__m){Interaction=$__m.default},function($__m){VectorLayer=$__m.default},function($__m){clear=$__m.clear},function($__m){VectorSource=$__m.default},function($__m){createEditingStyle=$__m.createEditingStyle}],execute:function(){SelectEventType={SELECT:"select"},SelectEvent=function(type,selected,deselected,mapBrowserEvent){Event.call(this,type),this.selected=selected,this.deselected=deselected,this.mapBrowserEvent=mapBrowserEvent},inherits(SelectEvent,Event),Select=function(opt_options){Interaction.call(this,{handleEvent:handleEvent});var options=opt_options||{};this.condition_=options.condition?options.condition:singleClick,this.addCondition_=options.addCondition?options.addCondition:never,this.removeCondition_=options.removeCondition?options.removeCondition:never,this.toggleCondition_=options.toggleCondition?options.toggleCondition:shiftKeyOnly,this.multi_=!!options.multi&&options.multi,this.filter_=options.filter?options.filter:TRUE,this.hitTolerance_=options.hitTolerance?options.hitTolerance:0;var featureOverlay=new VectorLayer({source:new VectorSource({useSpatialIndex:!1,features:options.features,wrapX:options.wrapX}),style:options.style?options.style:getDefaultStyleFunction(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.featureOverlay_=featureOverlay;var layerFilter;if(options.layers)if("function"==typeof options.layers)layerFilter=options.layers;else{var layers=options.layers;layerFilter=function(layer){return includes(layers,layer)}}else layerFilter=TRUE;this.layerFilter_=layerFilter,this.featureLayerAssociation_={};var features=this.featureOverlay_.getSource().getFeaturesCollection();listen(features,CollectionEventType.ADD,this.addFeature_,this),listen(features,CollectionEventType.REMOVE,this.removeFeature_,this)},inherits(Select,Interaction),Select.prototype.addFeatureLayerAssociation_=function(feature,layer){var key=getUid(feature);this.featureLayerAssociation_[key]=layer},Select.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},Select.prototype.getHitTolerance=function(){return this.hitTolerance_},Select.prototype.getLayer=function(feature){var key=getUid(feature);return this.featureLayerAssociation_[key]},Select.prototype.setHitTolerance=function(hitTolerance){this.hitTolerance_=hitTolerance},Select.prototype.setMap=function(map){var currentMap=this.getMap(),selectedFeatures=this.featureOverlay_.getSource().getFeaturesCollection();currentMap&&selectedFeatures.forEach(currentMap.unskipFeature.bind(currentMap)),Interaction.prototype.setMap.call(this,map),this.featureOverlay_.setMap(map),map&&selectedFeatures.forEach(map.skipFeature.bind(map))},Select.prototype.addFeature_=function(evt){var map=this.getMap();map&&map.skipFeature(evt.element)},Select.prototype.removeFeature_=function(evt){var map=this.getMap();map&&map.unskipFeature(evt.element)},Select.prototype.removeFeatureLayerAssociation_=function(feature){var key=getUid(feature);delete this.featureLayerAssociation_[key]},$__export("default",Select)}}}),$__System.register("54",["15"],function($__export){"use strict";var EventType;return{setters:[function($__m){EventType=$__m.default}],execute:function(){$__export("default",{SINGLECLICK:"singleclick",CLICK:EventType.CLICK,DBLCLICK:EventType.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"})}}}),$__System.register("52",["54","1f","24","55"],function($__export){"use strict";var MapBrowserEventType,assert,TRUE,FALSE,WEBKIT,MAC,altKeyOnly,altShiftKeysOnly,focus,always,click,mouseActionButton,never,pointerMove,singleClick,doubleClick,noModifierKeys,platformModifierKeyOnly,shiftKeyOnly,targetNotEditable,mouseOnly,primaryAction;return{setters:[function($__m){MapBrowserEventType=$__m.default},function($__m){assert=$__m.assert},function($__m){TRUE=$__m.TRUE,FALSE=$__m.FALSE},function($__m){WEBKIT=$__m.WEBKIT,MAC=$__m.MAC}],execute:function(){altKeyOnly=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent;return originalEvent.altKey&&!(originalEvent.metaKey||originalEvent.ctrlKey)&&!originalEvent.shiftKey},$__export("altKeyOnly",altKeyOnly),altShiftKeysOnly=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent;return originalEvent.altKey&&!(originalEvent.metaKey||originalEvent.ctrlKey)&&originalEvent.shiftKey},$__export("altShiftKeysOnly",altShiftKeysOnly),focus=function(event){return event.target.getTargetElement()===document.activeElement},$__export("focus",focus),always=TRUE,$__export("always",always),click=function(mapBrowserEvent){return mapBrowserEvent.type==MapBrowserEventType.CLICK},$__export("click",click),mouseActionButton=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent;return 0==originalEvent.button&&!(WEBKIT&&MAC&&originalEvent.ctrlKey)},$__export("mouseActionButton",mouseActionButton),never=FALSE,$__export("never",never),pointerMove=function(mapBrowserEvent){return"pointermove"==mapBrowserEvent.type},$__export("pointerMove",pointerMove),singleClick=function(mapBrowserEvent){return mapBrowserEvent.type==MapBrowserEventType.SINGLECLICK},$__export("singleClick",singleClick),doubleClick=function(mapBrowserEvent){return mapBrowserEvent.type==MapBrowserEventType.DBLCLICK},$__export("doubleClick",doubleClick),noModifierKeys=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent;return!originalEvent.altKey&&!(originalEvent.metaKey||originalEvent.ctrlKey)&&!originalEvent.shiftKey},$__export("noModifierKeys",noModifierKeys),platformModifierKeyOnly=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent;return!originalEvent.altKey&&(MAC?originalEvent.metaKey:originalEvent.ctrlKey)&&!originalEvent.shiftKey},$__export("platformModifierKeyOnly",platformModifierKeyOnly),shiftKeyOnly=function(mapBrowserEvent){var originalEvent=mapBrowserEvent.originalEvent;return!originalEvent.altKey&&!(originalEvent.metaKey||originalEvent.ctrlKey)&&originalEvent.shiftKey},$__export("shiftKeyOnly",shiftKeyOnly),targetNotEditable=function(mapBrowserEvent){var target=mapBrowserEvent.originalEvent.target,tagName=target.tagName;return"INPUT"!==tagName&&"SELECT"!==tagName&&"TEXTAREA"!==tagName},$__export("targetNotEditable",targetNotEditable),mouseOnly=function(mapBrowserEvent){return assert(mapBrowserEvent.pointerEvent,56),"mouse"==mapBrowserEvent.pointerEvent.pointerType},$__export("mouseOnly",mouseOnly),primaryAction=function(mapBrowserEvent){var pointerEvent=mapBrowserEvent.pointerEvent;return pointerEvent.isPrimary&&0===pointerEvent.button},$__export("primaryAction",primaryAction)}}}),$__System.register("56",["51","52"],function($__export){"use strict";var olSelect,olCondition,interactionOper;return{setters:[function($__m){olSelect=$__m.default},function($__m){olCondition=$__m.default}],execute:function(){interactionOper=function(){function interactionOper(map){this.map=map,this.selectAction=null}return $traceurRuntime.createClass(interactionOper,{addSelectAction:function(params){return this.removeSelectAction(),this.selectAction=new olSelect({layers:params.layers}),this.map.addInteraction(this.selectAction),this.selectAction.on("select",function(event){params.selectFunc&&params.selectFunc(event)},this),this.selectAction},removeSelectAction:function(){null!=this.selectAction&&this.map.removeInteraction(this.selectAction)}},{})}(),$__export("default",interactionOper)}}}),$__System.register("57",[],function($__export){"use strict";var DEFAULT_WMS_VERSION;return{setters:[],execute:function(){DEFAULT_WMS_VERSION="1.3.0",$__export("DEFAULT_WMS_VERSION",DEFAULT_WMS_VERSION)}}}),$__System.register("58",["10","59","5a","14","15","1a"],function($__export){"use strict";var inherits,ImageBase,ImageState,listenOnce,unlistenByKey,EventType,getHeight,ImageWrapper;return{setters:[function($__m){inherits=$__m.inherits},function($__m){ImageBase=$__m.default},function($__m){ImageState=$__m.default},function($__m){listenOnce=$__m.listenOnce,unlistenByKey=$__m.unlistenByKey},function($__m){EventType=$__m.default},function($__m){getHeight=$__m.getHeight}],execute:function(){ImageWrapper=function(extent,resolution,pixelRatio,src,crossOrigin,imageLoadFunction){ImageBase.call(this,extent,resolution,pixelRatio,ImageState.IDLE),this.src_=src,this.image_=new Image,null!==crossOrigin&&(this.image_.crossOrigin=crossOrigin),this.imageListenerKeys_=null,this.state=ImageState.IDLE,this.imageLoadFunction_=imageLoadFunction},inherits(ImageWrapper,ImageBase),ImageWrapper.prototype.getImage=function(){return this.image_},ImageWrapper.prototype.handleImageError_=function(){this.state=ImageState.ERROR,this.unlistenImage_(),this.changed()},ImageWrapper.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=getHeight(this.extent)/this.image_.height),this.state=ImageState.LOADED,this.unlistenImage_(),this.changed()},ImageWrapper.prototype.load=function(){this.state!=ImageState.IDLE&&this.state!=ImageState.ERROR||(this.state=ImageState.LOADING,this.changed(),this.imageListenerKeys_=[listenOnce(this.image_,EventType.ERROR,this.handleImageError_,this),listenOnce(this.image_,EventType.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},ImageWrapper.prototype.setImage=function(image){this.image_=image},ImageWrapper.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(unlistenByKey),this.imageListenerKeys_=null},$__export("default",ImageWrapper)}}}),$__System.register("19",[],function($__export){"use strict";var ERROR_THRESHOLD,ENABLE_RASTER_REPROJECTION;return{setters:[],execute:function(){ERROR_THRESHOLD=.5,$__export("ERROR_THRESHOLD",ERROR_THRESHOLD),ENABLE_RASTER_REPROJECTION=!0,$__export("ENABLE_RASTER_REPROJECTION",ENABLE_RASTER_REPROJECTION)}}}),$__System.register("59",["10","17","15"],function($__export){"use strict";var inherits,EventTarget,EventType,ImageBase;return{setters:[function($__m){inherits=$__m.inherits},function($__m){EventTarget=$__m.default},function($__m){EventType=$__m.default}],execute:function(){ImageBase=function(extent,resolution,pixelRatio,state){EventTarget.call(this),this.extent=extent,this.pixelRatio_=pixelRatio,this.resolution=resolution,this.state=state},inherits(ImageBase,EventTarget),ImageBase.prototype.changed=function(){this.dispatchEvent(EventType.CHANGE)},ImageBase.prototype.getExtent=function(){return this.extent},ImageBase.prototype.getImage=function(){},ImageBase.prototype.getPixelRatio=function(){return this.pixelRatio_},ImageBase.prototype.getResolution=function(){return this.resolution},ImageBase.prototype.getState=function(){return this.state},ImageBase.prototype.load=function(){},$__export("default",ImageBase)}}}),$__System.register("1c",["13","1a","1b","26"],function($__export){"use strict";function calculateSourceResolution(sourceProj,targetProj,targetCenter,targetResolution){var sourceCenter=transform(targetCenter,targetProj,sourceProj),sourceResolution=getPointResolution(targetProj,targetResolution,targetCenter),targetMetersPerUnit=targetProj.getMetersPerUnit();void 0!==targetMetersPerUnit&&(sourceResolution*=targetMetersPerUnit);var sourceMetersPerUnit=sourceProj.getMetersPerUnit();void 0!==sourceMetersPerUnit&&(sourceResolution/=sourceMetersPerUnit);var sourceExtent=sourceProj.getExtent();if(!sourceExtent||containsCoordinate(sourceExtent,sourceCenter)){var compensationFactor=getPointResolution(sourceProj,sourceResolution,sourceCenter)/sourceResolution;isFinite(compensationFactor)&&compensationFactor>0&&(sourceResolution/=compensationFactor)}return sourceResolution}function enlargeClipPoint(centroidX,centroidY,x,y){var dX=x-centroidX,dY=y-centroidY,distance=Math.sqrt(dX*dX+dY*dY);return[Math.round(x+dX/distance),Math.round(y+dY/distance)]}function render(width,height,pixelRatio,sourceResolution,sourceExtent,targetResolution,targetExtent,triangulation,sources,gutter,opt_renderEdges){var context=createCanvasContext2D(Math.round(pixelRatio*width),Math.round(pixelRatio*height));if(0===sources.length)return context.canvas;context.scale(pixelRatio,pixelRatio);var sourceDataExtent=createEmpty();sources.forEach(function(src,i,arr){extend(sourceDataExtent,src.extent)});var canvasWidthInUnits=getWidth(sourceDataExtent),canvasHeightInUnits=getHeight(sourceDataExtent),stitchContext=createCanvasContext2D(Math.round(pixelRatio*canvasWidthInUnits/sourceResolution),Math.round(pixelRatio*canvasHeightInUnits/sourceResolution)),stitchScale=pixelRatio/sourceResolution;sources.forEach(function(src,i,arr){var xPos=src.extent[0]-sourceDataExtent[0],yPos=-(src.extent[3]-sourceDataExtent[3]),srcWidth=getWidth(src.extent),srcHeight=getHeight(src.extent);stitchContext.drawImage(src.image,gutter,gutter,src.image.width-2*gutter,src.image.height-2*gutter,xPos*stitchScale,yPos*stitchScale,srcWidth*stitchScale,srcHeight*stitchScale)});var targetTopLeft=getTopLeft(targetExtent);return triangulation.getTriangles().forEach(function(triangle,i,arr){var source=triangle.source,target=triangle.target,x0=source[0][0],y0=source[0][1],x1=source[1][0],y1=source[1][1],x2=source[2][0],y2=source[2][1],u0=(target[0][0]-targetTopLeft[0])/targetResolution,v0=-(target[0][1]-targetTopLeft[1])/targetResolution,u1=(target[1][0]-targetTopLeft[0])/targetResolution,v1=-(target[1][1]-targetTopLeft[1])/targetResolution,u2=(target[2][0]-targetTopLeft[0])/targetResolution,v2=-(target[2][1]-targetTopLeft[1])/targetResolution,sourceNumericalShiftX=x0,sourceNumericalShiftY=y0;x0=0,y0=0,x1-=sourceNumericalShiftX,y1-=sourceNumericalShiftY,x2-=sourceNumericalShiftX,y2-=sourceNumericalShiftY;var augmentedMatrix=[[x1,y1,0,0,u1-u0],[x2,y2,0,0,u2-u0],[0,0,x1,y1,v1-v0],[0,0,x2,y2,v2-v0]],affineCoefs=solveLinearSystem(augmentedMatrix);if(affineCoefs){context.save(),context.beginPath();var centroidX=(u0+u1+u2)/3,centroidY=(v0+v1+v2)/3,p0=enlargeClipPoint(centroidX,centroidY,u0,v0),p1=enlargeClipPoint(centroidX,centroidY,u1,v1),p2=enlargeClipPoint(centroidX,centroidY,u2,v2);context.moveTo(p1[0],p1[1]),context.lineTo(p0[0],p0[1]),context.lineTo(p2[0],p2[1]),context.clip(),context.transform(affineCoefs[0],affineCoefs[2],affineCoefs[1],affineCoefs[3],u0,v0),context.translate(sourceDataExtent[0]-sourceNumericalShiftX,sourceDataExtent[3]-sourceNumericalShiftY),context.scale(sourceResolution/pixelRatio,-sourceResolution/pixelRatio),context.drawImage(stitchContext.canvas,0,0),context.restore()}}),opt_renderEdges&&(context.save(),context.strokeStyle="black",context.lineWidth=1,triangulation.getTriangles().forEach(function(triangle,i,arr){var target=triangle.target,u0=(target[0][0]-targetTopLeft[0])/targetResolution,v0=-(target[0][1]-targetTopLeft[1])/targetResolution,u1=(target[1][0]-targetTopLeft[0])/targetResolution,v1=-(target[1][1]-targetTopLeft[1])/targetResolution,u2=(target[2][0]-targetTopLeft[0])/targetResolution,v2=-(target[2][1]-targetTopLeft[1])/targetResolution;context.beginPath(),context.moveTo(u1,v1),context.lineTo(u0,v0),context.lineTo(u2,v2),context.closePath(),context.stroke()}),context.restore()),context.canvas}var createCanvasContext2D,containsCoordinate,createEmpty,extend,getHeight,getTopLeft,getWidth,solveLinearSystem,getPointResolution,transform;return $__export("calculateSourceResolution",calculateSourceResolution),$__export("render",render),{setters:[function($__m){createCanvasContext2D=$__m.createCanvasContext2D},function($__m){containsCoordinate=$__m.containsCoordinate,createEmpty=$__m.createEmpty,extend=$__m.extend,getHeight=$__m.getHeight,getTopLeft=$__m.getTopLeft,getWidth=$__m.getWidth},function($__m){solveLinearSystem=$__m.solveLinearSystem},function($__m){getPointResolution=$__m.getPointResolution,transform=$__m.transform}],execute:function(){}}}),$__System.register("1d",["1a","1b","26"],function($__export){"use strict";var boundingExtent,createEmpty,extendCoordinate,getBottomLeft,getBottomRight,getTopLeft,getTopRight,getWidth,intersects,modulo,getTransform,MAX_SUBDIVISION,MAX_TRIANGLE_WIDTH,Triangulation;return{setters:[function($__m){boundingExtent=$__m.boundingExtent,createEmpty=$__m.createEmpty,extendCoordinate=$__m.extendCoordinate,getBottomLeft=$__m.getBottomLeft,getBottomRight=$__m.getBottomRight,getTopLeft=$__m.getTopLeft,getTopRight=$__m.getTopRight,getWidth=$__m.getWidth,intersects=$__m.intersects},function($__m){modulo=$__m.modulo},function($__m){getTransform=$__m.getTransform}],execute:function(){MAX_SUBDIVISION=10,MAX_TRIANGLE_WIDTH=.25,Triangulation=function(sourceProj,targetProj,targetExtent,maxSourceExtent,errorThreshold){this.sourceProj_=sourceProj,this.targetProj_=targetProj;var transformInvCache={},transformInv=getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(c){var key=c[0]+"/"+c[1];return transformInvCache[key]||(transformInvCache[key]=transformInv(c)),transformInvCache[key]},this.maxSourceExtent_=maxSourceExtent,this.errorThresholdSquared_=errorThreshold*errorThreshold,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!maxSourceExtent&&!!this.sourceProj_.getExtent()&&getWidth(maxSourceExtent)==getWidth(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?getWidth(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?getWidth(this.targetProj_.getExtent()):null;var destinationTopLeft=getTopLeft(targetExtent),destinationTopRight=getTopRight(targetExtent),destinationBottomRight=getBottomRight(targetExtent),destinationBottomLeft=getBottomLeft(targetExtent),sourceTopLeft=this.transformInv_(destinationTopLeft),sourceTopRight=this.transformInv_(destinationTopRight),sourceBottomRight=this.transformInv_(destinationBottomRight),sourceBottomLeft=this.transformInv_(destinationBottomLeft);if(this.addQuad_(destinationTopLeft,destinationTopRight,destinationBottomRight,destinationBottomLeft,sourceTopLeft,sourceTopRight,sourceBottomRight,sourceBottomLeft,MAX_SUBDIVISION),this.wrapsXInSource_){var leftBound=1/0;this.triangles_.forEach(function(triangle,i,arr){leftBound=Math.min(leftBound,triangle.source[0][0],triangle.source[1][0],triangle.source[2][0])}),this.triangles_.forEach(function(triangle){if(Math.max(triangle.source[0][0],triangle.source[1][0],triangle.source[2][0])-leftBound>this.sourceWorldWidth_/2){var newTriangle=[[triangle.source[0][0],triangle.source[0][1]],[triangle.source[1][0],triangle.source[1][1]],[triangle.source[2][0],triangle.source[2][1]]];newTriangle[0][0]-leftBound>this.sourceWorldWidth_/2&&(newTriangle[0][0]-=this.sourceWorldWidth_),newTriangle[1][0]-leftBound>this.sourceWorldWidth_/2&&(newTriangle[1][0]-=this.sourceWorldWidth_),newTriangle[2][0]-leftBound>this.sourceWorldWidth_/2&&(newTriangle[2][0]-=this.sourceWorldWidth_);var minX=Math.min(newTriangle[0][0],newTriangle[1][0],newTriangle[2][0]);Math.max(newTriangle[0][0],newTriangle[1][0],newTriangle[2][0])-minX<this.sourceWorldWidth_/2&&(triangle.source=newTriangle)}}.bind(this))}transformInvCache={}},Triangulation.prototype.addTriangle_=function(a,b,c,aSrc,bSrc,cSrc){this.triangles_.push({source:[aSrc,bSrc,cSrc],target:[a,b,c]})},Triangulation.prototype.addQuad_=function(a,b,c,d,aSrc,bSrc,cSrc,dSrc,maxSubdivision){var sourceQuadExtent=boundingExtent([aSrc,bSrc,cSrc,dSrc]),sourceCoverageX=this.sourceWorldWidth_?getWidth(sourceQuadExtent)/this.sourceWorldWidth_:null,sourceWorldWidth=this.sourceWorldWidth_,wrapsX=this.sourceProj_.canWrapX()&&sourceCoverageX>.5&&sourceCoverageX<1,needsSubdivision=!1;if(maxSubdivision>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var targetQuadExtent=boundingExtent([a,b,c,d]);needsSubdivision|=getWidth(targetQuadExtent)/this.targetWorldWidth_>MAX_TRIANGLE_WIDTH}!wrapsX&&this.sourceProj_.isGlobal()&&sourceCoverageX&&(needsSubdivision|=sourceCoverageX>MAX_TRIANGLE_WIDTH)}if(needsSubdivision||!this.maxSourceExtent_||intersects(sourceQuadExtent,this.maxSourceExtent_)){if(!(needsSubdivision||isFinite(aSrc[0])&&isFinite(aSrc[1])&&isFinite(bSrc[0])&&isFinite(bSrc[1])&&isFinite(cSrc[0])&&isFinite(cSrc[1])&&isFinite(dSrc[0])&&isFinite(dSrc[1]))){if(!(maxSubdivision>0))return;needsSubdivision=!0}if(maxSubdivision>0){if(!needsSubdivision){var dx,center=[(a[0]+c[0])/2,(a[1]+c[1])/2],centerSrc=this.transformInv_(center);if(wrapsX){dx=(modulo(aSrc[0],sourceWorldWidth)+modulo(cSrc[0],sourceWorldWidth))/2-modulo(centerSrc[0],sourceWorldWidth)}else dx=(aSrc[0]+cSrc[0])/2-centerSrc[0];var dy=(aSrc[1]+cSrc[1])/2-centerSrc[1];needsSubdivision=dx*dx+dy*dy>this.errorThresholdSquared_}if(needsSubdivision){if(Math.abs(a[0]-c[0])<=Math.abs(a[1]-c[1])){var bc=[(b[0]+c[0])/2,(b[1]+c[1])/2],bcSrc=this.transformInv_(bc),da=[(d[0]+a[0])/2,(d[1]+a[1])/2],daSrc=this.transformInv_(da);this.addQuad_(a,b,bc,da,aSrc,bSrc,bcSrc,daSrc,maxSubdivision-1),this.addQuad_(da,bc,c,d,daSrc,bcSrc,cSrc,dSrc,maxSubdivision-1)}else{var ab=[(a[0]+b[0])/2,(a[1]+b[1])/2],abSrc=this.transformInv_(ab),cd=[(c[0]+d[0])/2,(c[1]+d[1])/2],cdSrc=this.transformInv_(cd);this.addQuad_(a,ab,cd,d,aSrc,abSrc,cdSrc,dSrc,maxSubdivision-1),this.addQuad_(ab,b,c,cd,abSrc,bSrc,cSrc,cdSrc,maxSubdivision-1)}return}}if(wrapsX){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(a,c,d,aSrc,cSrc,dSrc),this.addTriangle_(a,b,c,aSrc,bSrc,cSrc)}},Triangulation.prototype.calculateSourceExtent=function(){var extent=createEmpty();return this.triangles_.forEach(function(triangle,i,arr){var src=triangle.source;extendCoordinate(extent,src[0]),extendCoordinate(extent,src[1]),extendCoordinate(extent,src[2])}),extent},Triangulation.prototype.getTriangles=function(){return this.triangles_},$__export("default",Triangulation)}}}),$__System.register("5b",["19","10","59","5a","14","15","1a","1c","1d"],function($__export){"use strict";var ERROR_THRESHOLD,inherits,ImageBase,ImageState,listen,unlistenByKey,EventType,getCenter,getIntersection,getHeight,getWidth,calculateSourceResolution,renderReprojected,Triangulation,ReprojImage;return{setters:[function($__m){ERROR_THRESHOLD=$__m.ERROR_THRESHOLD},function($__m){inherits=$__m.inherits},function($__m){ImageBase=$__m.default},function($__m){ImageState=$__m.default},function($__m){listen=$__m.listen,unlistenByKey=$__m.unlistenByKey},function($__m){EventType=$__m.default},function($__m){getCenter=$__m.getCenter,getIntersection=$__m.getIntersection,getHeight=$__m.getHeight,getWidth=$__m.getWidth},function($__m){calculateSourceResolution=$__m.calculateSourceResolution,renderReprojected=$__m.render},function($__m){Triangulation=$__m.default}],execute:function(){ReprojImage=function(sourceProj,targetProj,targetExtent,targetResolution,pixelRatio,getImageFunction){this.targetProj_=targetProj,this.maxSourceExtent_=sourceProj.getExtent();var maxTargetExtent=targetProj.getExtent(),limitedTargetExtent=maxTargetExtent?getIntersection(targetExtent,maxTargetExtent):targetExtent,targetCenter=getCenter(limitedTargetExtent),sourceResolution=calculateSourceResolution(sourceProj,targetProj,targetCenter,targetResolution),errorThresholdInPixels=ERROR_THRESHOLD;this.triangulation_=new Triangulation(sourceProj,targetProj,limitedTargetExtent,this.maxSourceExtent_,sourceResolution*errorThresholdInPixels),this.targetResolution_=targetResolution,this.targetExtent_=targetExtent;var sourceExtent=this.triangulation_.calculateSourceExtent();this.sourceImage_=getImageFunction(sourceExtent,sourceResolution,pixelRatio),this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1,this.canvas_=null,this.sourceListenerKey_=null;var state=ImageState.LOADED;this.sourceImage_&&(state=ImageState.IDLE),ImageBase.call(this,targetExtent,targetResolution,this.sourcePixelRatio_,state)},inherits(ReprojImage,ImageBase),ReprojImage.prototype.disposeInternal=function(){this.state==ImageState.LOADING&&this.unlistenSource_(),ImageBase.prototype.disposeInternal.call(this)},ReprojImage.prototype.getImage=function(){return this.canvas_},ReprojImage.prototype.getProjection=function(){return this.targetProj_},ReprojImage.prototype.reproject_=function(){var sourceState=this.sourceImage_.getState();if(sourceState==ImageState.LOADED){var width=getWidth(this.targetExtent_)/this.targetResolution_,height=getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=renderReprojected(width,height,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=sourceState,this.changed()},ReprojImage.prototype.load=function(){if(this.state==ImageState.IDLE){this.state=ImageState.LOADING,this.changed();var sourceState=this.sourceImage_.getState();sourceState==ImageState.LOADED||sourceState==ImageState.ERROR?this.reproject_():(this.sourceListenerKey_=listen(this.sourceImage_,EventType.CHANGE,function(e){var sourceState=this.sourceImage_.getState();sourceState!=ImageState.LOADED&&sourceState!=ImageState.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},ReprojImage.prototype.unlistenSource_=function(){unlistenByKey(this.sourceListenerKey_),this.sourceListenerKey_=null},$__export("default",ReprojImage)}}}),$__System.register("43",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"})}}}),$__System.register("28",["10","24","3f","26","43"],function($__export){"use strict";var inherits,UNDEFINED,BaseObject,getProjection,SourceState,Source;return{setters:[function($__m){inherits=$__m.inherits},function($__m){UNDEFINED=$__m.UNDEFINED},function($__m){BaseObject=$__m.default},function($__m){getProjection=$__m.get},function($__m){SourceState=$__m.default}],execute:function(){Source=function(options){BaseObject.call(this),this.projection_=getProjection(options.projection),this.attributions_=this.adaptAttributions_(options.attributions),this.state_=void 0!==options.state?options.state:SourceState.READY,this.wrapX_=void 0!==options.wrapX&&options.wrapX},inherits(Source,BaseObject),Source.prototype.adaptAttributions_=function(attributionLike){return attributionLike?Array.isArray(attributionLike)?function(frameState){return attributionLike}:"function"==typeof attributionLike?attributionLike:function(frameState){return[attributionLike]}:null},Source.prototype.forEachFeatureAtCoordinate=UNDEFINED,Source.prototype.getAttributions=function(){return this.attributions_},Source.prototype.getProjection=function(){return this.projection_},Source.prototype.getResolutions=function(){},Source.prototype.getState=function(){return this.state_},Source.prototype.getWrapX=function(){return this.wrapX_},Source.prototype.refresh=function(){this.changed()},Source.prototype.setAttributions=function(attributions){this.attributions_=this.adaptAttributions_(attributions),this.changed()},Source.prototype.setState=function(state){this.state_=state,this.changed()},$__export("default",Source)}}}),$__System.register("5c",["19","10","5a","2f","25","1a","26","5b","28"],function($__export){"use strict";function defaultImageLoadFunction(image,src){image.getImage().src=src}var ENABLE_RASTER_REPROJECTION,inherits,ImageState,linearFindNearest,Event,equals,equivalent,ReprojImage,Source,ImageSourceEventType,ImageSourceEvent,ImageSource;return $__export("defaultImageLoadFunction",defaultImageLoadFunction),{setters:[function($__m){ENABLE_RASTER_REPROJECTION=$__m.ENABLE_RASTER_REPROJECTION},function($__m){inherits=$__m.inherits},function($__m){ImageState=$__m.default},function($__m){linearFindNearest=$__m.linearFindNearest},function($__m){Event=$__m.default},function($__m){equals=$__m.equals},function($__m){equivalent=$__m.equivalent},function($__m){ReprojImage=$__m.default},function($__m){Source=$__m.default}],execute:function(){ImageSourceEventType={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},ImageSourceEvent=function(type,image){Event.call(this,type),this.image=image},inherits(ImageSourceEvent,Event),ImageSource=function(options){Source.call(this,{attributions:options.attributions,extent:options.extent,projection:options.projection,state:options.state}),this.resolutions_=void 0!==options.resolutions?options.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0},inherits(ImageSource,Source),ImageSource.prototype.getResolutions=function(){return this.resolutions_},ImageSource.prototype.findNearestResolution=function(resolution){if(this.resolutions_){var idx=linearFindNearest(this.resolutions_,resolution,0);resolution=this.resolutions_[idx]}return resolution},ImageSource.prototype.getImage=function(extent,resolution,pixelRatio,projection){var sourceProjection=this.getProjection();if(ENABLE_RASTER_REPROJECTION&&sourceProjection&&projection&&!equivalent(sourceProjection,projection)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&equivalent(this.reprojectedImage_.getProjection(),projection)&&this.reprojectedImage_.getResolution()==resolution&&equals(this.reprojectedImage_.getExtent(),extent))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new ReprojImage(sourceProjection,projection,extent,resolution,pixelRatio,function(extent,resolution,pixelRatio){return this.getImageInternal(extent,resolution,pixelRatio,sourceProjection)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return sourceProjection&&(projection=sourceProjection),this.getImageInternal(extent,resolution,pixelRatio,projection)},ImageSource.prototype.getImageInternal=function(extent,resolution,pixelRatio,projection){},ImageSource.prototype.handleImageChange=function(event){var image=event.target;switch(image.getState()){case ImageState.LOADING:this.dispatchEvent(new ImageSourceEvent(ImageSourceEventType.IMAGELOADSTART,image));break;case ImageState.LOADED:this.dispatchEvent(new ImageSourceEvent(ImageSourceEventType.IMAGELOADEND,image));break;case ImageState.ERROR:this.dispatchEvent(new ImageSourceEvent(ImageSourceEventType.IMAGELOADERROR,image))}},$__export("default",ImageSource)}}}),$__System.register("5d",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"})}}}),$__System.register("5e",[],function($__export){"use strict";function padNumber(number,width,opt_precision){var numberString=void 0!==opt_precision?number.toFixed(opt_precision):""+number,decimal=numberString.indexOf(".");return decimal=-1===decimal?numberString.length:decimal,decimal>width?numberString:new Array(1+width-decimal).join("0")+numberString}function compareVersions(v1,v2){for(var s1=(""+v1).split("."),s2=(""+v2).split("."),i=0;i<Math.max(s1.length,s2.length);i++){var n1=parseInt(s1[i]||"0",10),n2=parseInt(s2[i]||"0",10);if(n1>n2)return 1;if(n2>n1)return-1}return 0}return $__export("padNumber",padNumber),$__export("compareVersions",compareVersions),{setters:[],execute:function(){}}}),$__System.register("5f",[],function($__export){"use strict";function appendParams(uri,params){var keyParams=[];Object.keys(params).forEach(function(k){null!==params[k]&&void 0!==params[k]&&keyParams.push(k+"="+encodeURIComponent(params[k]))});var qs=keyParams.join("&");return uri=uri.replace(/[?&]$/,""),(uri=-1===uri.indexOf("?")?uri+"?":uri+"&")+qs}return $__export("appendParams",appendParams),{setters:[],execute:function(){}}}),$__System.register("60",["57","10","58","1f","14","15","1a","31","26","1c","5c","5d","5e","5f"],function($__export){"use strict";var DEFAULT_WMS_VERSION,inherits,ImageWrapper,assert,listen,EventType,containsExtent,getCenter,getForViewAndSize,getHeight,getWidth,assign,getProjection,transform,calculateSourceResolution,ImageSource,defaultImageLoadFunction,WMSServerType,compareVersions,appendParams,ImageWMS,GETFEATUREINFO_IMAGE_SIZE;return{setters:[function($__m){DEFAULT_WMS_VERSION=$__m.DEFAULT_WMS_VERSION},function($__m){inherits=$__m.inherits},function($__m){ImageWrapper=$__m.default},function($__m){assert=$__m.assert},function($__m){listen=$__m.listen},function($__m){EventType=$__m.default},function($__m){containsExtent=$__m.containsExtent,getCenter=$__m.getCenter,getForViewAndSize=$__m.getForViewAndSize,getHeight=$__m.getHeight,getWidth=$__m.getWidth},function($__m){assign=$__m.assign},function($__m){getProjection=$__m.get,transform=$__m.transform},function($__m){calculateSourceResolution=$__m.calculateSourceResolution},function($__m){ImageSource=$__m.default,defaultImageLoadFunction=$__m.defaultImageLoadFunction},function($__m){WMSServerType=$__m.default},function($__m){compareVersions=$__m.compareVersions},function($__m){appendParams=$__m.appendParams}],execute:function(){ImageWMS=function(opt_options){var options=opt_options||{};ImageSource.call(this,{attributions:options.attributions,projection:options.projection,resolutions:options.resolutions}),this.crossOrigin_=void 0!==options.crossOrigin?options.crossOrigin:null,this.url_=options.url,this.imageLoadFunction_=void 0!==options.imageLoadFunction?options.imageLoadFunction:defaultImageLoadFunction,this.params_=options.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=options.serverType,this.hidpi_=void 0===options.hidpi||options.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==options.ratio?options.ratio:1.5},inherits(ImageWMS,ImageSource),GETFEATUREINFO_IMAGE_SIZE=[101,101],ImageWMS.prototype.getGetFeatureInfoUrl=function(coordinate,resolution,projection,params){if(void 0!==this.url_){var projectionObj=getProjection(projection),sourceProjectionObj=this.getProjection();sourceProjectionObj&&sourceProjectionObj!==projectionObj&&(resolution=calculateSourceResolution(sourceProjectionObj,projectionObj,coordinate,resolution),coordinate=transform(coordinate,projectionObj,sourceProjectionObj));var extent=getForViewAndSize(coordinate,resolution,0,GETFEATUREINFO_IMAGE_SIZE),baseParams={SERVICE:"WMS",VERSION:DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};assign(baseParams,this.params_,params);var x=Math.floor((coordinate[0]-extent[0])/resolution),y=Math.floor((extent[3]-coordinate[1])/resolution);return baseParams[this.v13_?"I":"X"]=x,baseParams[this.v13_?"J":"Y"]=y,this.getRequestUrl_(extent,GETFEATUREINFO_IMAGE_SIZE,1,sourceProjectionObj||projectionObj,baseParams)}},ImageWMS.prototype.getParams=function(){return this.params_},ImageWMS.prototype.getImageInternal=function(extent,resolution,pixelRatio,projection){if(void 0===this.url_)return null;resolution=this.findNearestResolution(resolution),1==pixelRatio||this.hidpi_&&void 0!==this.serverType_||(pixelRatio=1);var imageResolution=resolution/pixelRatio,center=getCenter(extent),viewWidth=Math.ceil(getWidth(extent)/imageResolution),viewHeight=Math.ceil(getHeight(extent)/imageResolution),viewExtent=getForViewAndSize(center,imageResolution,0,[viewWidth,viewHeight]),requestWidth=Math.ceil(this.ratio_*getWidth(extent)/imageResolution),requestHeight=Math.ceil(this.ratio_*getHeight(extent)/imageResolution),requestExtent=getForViewAndSize(center,imageResolution,0,[requestWidth,requestHeight]),image=this.image_;if(image&&this.renderedRevision_==this.getRevision()&&image.getResolution()==resolution&&image.getPixelRatio()==pixelRatio&&containsExtent(image.getExtent(),viewExtent))return image;var params={SERVICE:"WMS",VERSION:DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};assign(params,this.params_),this.imageSize_[0]=Math.round(getWidth(requestExtent)/imageResolution),this.imageSize_[1]=Math.round(getHeight(requestExtent)/imageResolution);var url=this.getRequestUrl_(requestExtent,this.imageSize_,pixelRatio,projection,params);return this.image_=new ImageWrapper(requestExtent,resolution,pixelRatio,url,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),listen(this.image_,EventType.CHANGE,this.handleImageChange,this),this.image_},ImageWMS.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},ImageWMS.prototype.getRequestUrl_=function(extent,size,pixelRatio,projection,params){if(assert(void 0!==this.url_,9),params[this.v13_?"CRS":"SRS"]=projection.getCode(),"STYLES"in this.params_||(params.STYLES=""),1!=pixelRatio)switch(this.serverType_){case WMSServerType.GEOSERVER:var dpi=90*pixelRatio+.5|0;"FORMAT_OPTIONS"in params?params.FORMAT_OPTIONS+=";dpi:"+dpi:params.FORMAT_OPTIONS="dpi:"+dpi;break;case WMSServerType.MAPSERVER:params.MAP_RESOLUTION=90*pixelRatio;break;case WMSServerType.CARMENTA_SERVER:case WMSServerType.QGIS:params.DPI=90*pixelRatio;break;default:assert(!1,8)}params.WIDTH=size[0],params.HEIGHT=size[1];var bbox,axisOrientation=projection.getAxisOrientation();return bbox=this.v13_&&"ne"==axisOrientation.substr(0,2)?[extent[1],extent[0],extent[3],extent[2]]:extent,params.BBOX=bbox.join(","),appendParams(this.url_,params)},ImageWMS.prototype.getUrl=function(){return this.url_},ImageWMS.prototype.setImageLoadFunction=function(imageLoadFunction){this.image_=null,this.imageLoadFunction_=imageLoadFunction,this.changed()},ImageWMS.prototype.setUrl=function(url){url!=this.url_&&(this.url_=url,this.image_=null,this.changed())},ImageWMS.prototype.updateParams=function(params){assign(this.params_,params),this.updateV13_(),this.image_=null,this.changed()},ImageWMS.prototype.updateV13_=function(){var version=this.params_.VERSION||DEFAULT_WMS_VERSION;this.v13_=compareVersions(version,"1.3")>=0},$__export("default",ImageWMS)}}}),$__System.register("3a",["1f","14","15","10","3f","61","46"],function($__export){"use strict";function createStyleFunction(obj){if("function"==typeof obj)return obj;var styles;return Array.isArray(obj)?styles=obj:(assert(obj instanceof Style,41),styles=[obj]),function(){return styles}}var assert,listen,unlisten,unlistenByKey,EventType,inherits,BaseObject,getChangeEventType,Geometry,Style,Feature;return $__export("createStyleFunction",createStyleFunction),{setters:[function($__m){assert=$__m.assert},function($__m){listen=$__m.listen,unlisten=$__m.unlisten,unlistenByKey=$__m.unlistenByKey},function($__m){EventType=$__m.default},function($__m){inherits=$__m.inherits},function($__m){BaseObject=$__m.default,getChangeEventType=$__m.getChangeEventType},function($__m){Geometry=$__m.default},function($__m){Style=$__m.default}],execute:function(){Feature=function(opt_geometryOrProperties){if(BaseObject.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,listen(this,getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),void 0!==opt_geometryOrProperties)if(opt_geometryOrProperties instanceof Geometry||!opt_geometryOrProperties){var geometry=opt_geometryOrProperties;this.setGeometry(geometry)}else{var properties=opt_geometryOrProperties;this.setProperties(properties)}},inherits(Feature,BaseObject),Feature.prototype.clone=function(){var clone=new Feature(this.getProperties());clone.setGeometryName(this.getGeometryName());var geometry=this.getGeometry();geometry&&clone.setGeometry(geometry.clone());var style=this.getStyle();return style&&clone.setStyle(style),clone},Feature.prototype.getGeometry=function(){return this.get(this.geometryName_)},Feature.prototype.getId=function(){return this.id_},Feature.prototype.getGeometryName=function(){return this.geometryName_},Feature.prototype.getStyle=function(){return this.style_},Feature.prototype.getStyleFunction=function(){return this.styleFunction_},Feature.prototype.handleGeometryChange_=function(){this.changed()},Feature.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(unlistenByKey(this.geometryChangeKey_),this.geometryChangeKey_=null);var geometry=this.getGeometry();geometry&&(this.geometryChangeKey_=listen(geometry,EventType.CHANGE,this.handleGeometryChange_,this)),this.changed()},Feature.prototype.setGeometry=function(geometry){this.set(this.geometryName_,geometry)},Feature.prototype.setStyle=function(style){this.style_=style,this.styleFunction_=style?createStyleFunction(style):void 0,this.changed()},Feature.prototype.setId=function(id){this.id_=id,this.changed()},Feature.prototype.setGeometryName=function(name){unlisten(this,getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=name,listen(this,getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},$__export("default",Feature)}}}),$__System.register("62",["10","1a","63","53","64","65","66","67","68","69"],function($__export){"use strict";var inherits,closestSquaredDistanceXY,GeometryLayout,GeometryType,SimpleGeometry,linearRingArea,assignClosestPoint,maxSquaredDelta,deflateCoordinates,inflateCoordinates,douglasPeucker,LinearRing;return{setters:[function($__m){inherits=$__m.inherits},function($__m){closestSquaredDistanceXY=$__m.closestSquaredDistanceXY},function($__m){GeometryLayout=$__m.default},function($__m){GeometryType=$__m.default},function($__m){SimpleGeometry=$__m.default},function($__m){linearRingArea=$__m.linearRing},function($__m){assignClosestPoint=$__m.assignClosestPoint,maxSquaredDelta=$__m.maxSquaredDelta},function($__m){deflateCoordinates=$__m.deflateCoordinates},function($__m){inflateCoordinates=$__m.inflateCoordinates},function($__m){douglasPeucker=$__m.douglasPeucker}],execute:function(){LinearRing=function(coordinates,opt_layout){SimpleGeometry.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.setCoordinates(coordinates,opt_layout)},inherits(LinearRing,SimpleGeometry),LinearRing.prototype.clone=function(){var linearRing=new LinearRing(null);return linearRing.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),linearRing},LinearRing.prototype.closestPointXY=function(x,y,closestPoint,minSquaredDistance){return minSquaredDistance<closestSquaredDistanceXY(this.getExtent(),x,y)?minSquaredDistance:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(maxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),assignClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,x,y,closestPoint,minSquaredDistance))},LinearRing.prototype.getArea=function(){return linearRingArea(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},LinearRing.prototype.getCoordinates=function(){return inflateCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},LinearRing.prototype.getSimplifiedGeometryInternal=function(squaredTolerance){var simplifiedFlatCoordinates=[];simplifiedFlatCoordinates.length=douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,squaredTolerance,simplifiedFlatCoordinates,0);var simplifiedLinearRing=new LinearRing(null);return simplifiedLinearRing.setFlatCoordinates(GeometryLayout.XY,simplifiedFlatCoordinates),simplifiedLinearRing},LinearRing.prototype.getType=function(){return GeometryType.LINEAR_RING},LinearRing.prototype.intersectsExtent=function(extent){},LinearRing.prototype.setCoordinates=function(coordinates,opt_layout){coordinates?(this.setLayout(opt_layout,coordinates,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=deflateCoordinates(this.flatCoordinates,0,coordinates,this.stride),this.changed()):this.setFlatCoordinates(GeometryLayout.XY,null)},LinearRing.prototype.setFlatCoordinates=function(layout,flatCoordinates){this.setFlatCoordinatesInternal(layout,flatCoordinates),this.changed()},$__export("default",LinearRing)}}}),$__System.register("3b",["10","1a","63","53","64","67","1b"],function($__export){"use strict";var inherits,createOrUpdateFromCoordinate,containsXY,GeometryLayout,GeometryType,SimpleGeometry,deflateCoordinate,squaredDx,Point;return{setters:[function($__m){inherits=$__m.inherits},function($__m){createOrUpdateFromCoordinate=$__m.createOrUpdateFromCoordinate,containsXY=$__m.containsXY},function($__m){GeometryLayout=$__m.default},function($__m){GeometryType=$__m.default},function($__m){SimpleGeometry=$__m.default},function($__m){deflateCoordinate=$__m.deflateCoordinate},function($__m){squaredDx=$__m.squaredDistance}],execute:function(){Point=function(coordinates,opt_layout){SimpleGeometry.call(this),this.setCoordinates(coordinates,opt_layout)},inherits(Point,SimpleGeometry),Point.prototype.clone=function(){var point=new Point(null);return point.setFlatCoordinates(this.layout,this.flatCoordinates.slice()),point},Point.prototype.closestPointXY=function(x,y,closestPoint,minSquaredDistance){var flatCoordinates=this.flatCoordinates,squaredDistance=squaredDx(x,y,flatCoordinates[0],flatCoordinates[1]);if(squaredDistance<minSquaredDistance){for(var stride=this.stride,i=0;i<stride;++i)closestPoint[i]=flatCoordinates[i];return closestPoint.length=stride,squaredDistance}return minSquaredDistance},Point.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},Point.prototype.computeExtent=function(extent){return createOrUpdateFromCoordinate(this.flatCoordinates,extent)},Point.prototype.getType=function(){return GeometryType.POINT},Point.prototype.intersectsExtent=function(extent){return containsXY(extent,this.flatCoordinates[0],this.flatCoordinates[1])},Point.prototype.setCoordinates=function(coordinates,opt_layout){coordinates?(this.setLayout(opt_layout,coordinates,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=deflateCoordinate(this.flatCoordinates,0,coordinates,this.stride),this.changed()):this.setFlatCoordinates(GeometryLayout.XY,null)},Point.prototype.setFlatCoordinates=function(layout,flatCoordinates){this.setFlatCoordinatesInternal(layout,flatCoordinates),this.changed()},$__export("default",Point)}}}),$__System.register("50",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{PROPERTYCHANGE:"propertychange"})}}}),$__System.register("6a",["10","14","17","15"],function($__export){"use strict";function unByKey(key){if(Array.isArray(key))for(var i=0,ii=key.length;i<ii;++i)unlistenByKey(key[i]);else unlistenByKey(key)}var inherits,listen,unlistenByKey,unlisten,listenOnce,EventTarget,EventType,Observable;return $__export("unByKey",unByKey),{setters:[function($__m){inherits=$__m.inherits},function($__m){listen=$__m.listen,unlistenByKey=$__m.unlistenByKey,unlisten=$__m.unlisten,listenOnce=$__m.listenOnce},function($__m){EventTarget=$__m.default},function($__m){EventType=$__m.default}],execute:function(){Observable=function(){EventTarget.call(this),this.revision_=0},inherits(Observable,EventTarget),Observable.prototype.changed=function(){++this.revision_,this.dispatchEvent(EventType.CHANGE)},Observable.prototype.dispatchEvent,Observable.prototype.getRevision=function(){return this.revision_},Observable.prototype.on=function(type,listener){if(Array.isArray(type)){for(var len=type.length,keys=new Array(len),i=0;i<len;++i)keys[i]=listen(this,type[i],listener);return keys}return listen(this,type,listener)},Observable.prototype.once=function(type,listener){if(Array.isArray(type)){for(var len=type.length,keys=new Array(len),i=0;i<len;++i)keys[i]=listenOnce(this,type[i],listener);return keys}return listenOnce(this,type,listener)},Observable.prototype.un=function(type,listener){if(Array.isArray(type))for(var i=0,ii=type.length;i<ii;++i)unlisten(this,type[i],listener);else unlisten(this,type,listener)},$__export("default",Observable)}}}),$__System.register("3f",["10","50","6a","25","31"],function($__export){"use strict";function getChangeEventType(key){return changeEventTypeCache.hasOwnProperty(key)?changeEventTypeCache[key]:changeEventTypeCache[key]="change:"+key}var getUid,inherits,ObjectEventType,Observable,Event,assign,ObjectEvent,BaseObject,changeEventTypeCache;return $__export("getChangeEventType",getChangeEventType),{setters:[function($__m){getUid=$__m.getUid,inherits=$__m.inherits},function($__m){ObjectEventType=$__m.default},function($__m){Observable=$__m.default},function($__m){Event=$__m.default},function($__m){assign=$__m.assign}],execute:function(){ObjectEvent=function(type,key,oldValue){Event.call(this,type),this.key=key,this.oldValue=oldValue},inherits(ObjectEvent,Event),BaseObject=function(opt_values){Observable.call(this),getUid(this),this.values_={},void 0!==opt_values&&this.setProperties(opt_values)},inherits(BaseObject,Observable),changeEventTypeCache={},BaseObject.prototype.get=function(key){var value;return this.values_.hasOwnProperty(key)&&(value=this.values_[key]),value},BaseObject.prototype.getKeys=function(){return Object.keys(this.values_)},BaseObject.prototype.getProperties=function(){return assign({},this.values_)},BaseObject.prototype.notify=function(key,oldValue){var eventType;eventType=getChangeEventType(key),this.dispatchEvent(new ObjectEvent(eventType,key,oldValue)),eventType=ObjectEventType.PROPERTYCHANGE,this.dispatchEvent(new ObjectEvent(eventType,key,oldValue))},BaseObject.prototype.set=function(key,value,opt_silent){if(opt_silent)this.values_[key]=value;else{var oldValue=this.values_[key];this.values_[key]=value,oldValue!==value&&this.notify(key,oldValue)}},BaseObject.prototype.setProperties=function(values,opt_silent){for(var key in values)this.set(key,values[key],opt_silent)},BaseObject.prototype.unset=function(key,opt_silent){if(key in this.values_){var oldValue=this.values_[key];delete this.values_[key],opt_silent||this.notify(key,oldValue)}},$__export("default",BaseObject)}}}),$__System.register("6b",["10","1b","6c","32"],function($__export){"use strict";function EPSG3857Projection(code){Projection.call(this,{code:code,units:Units.METERS,extent:EXTENT,global:!0,worldExtent:WORLD_EXTENT,getPointResolution:function(resolution,point){return resolution/cosh(point[1]/RADIUS)}})}function fromEPSG4326(input,opt_output,opt_dimension){var length=input.length,dimension=opt_dimension>1?opt_dimension:2,output=opt_output;void 0===output&&(output=dimension>2?input.slice():new Array(length));for(var halfSize=HALF_SIZE,i=0;i<length;i+=dimension){output[i]=halfSize*input[i]/180;var y=RADIUS*Math.log(Math.tan(Math.PI*(input[i+1]+90)/360));y>halfSize?y=halfSize:y<-halfSize&&(y=-halfSize),output[i+1]=y}return output}function toEPSG4326(input,opt_output,opt_dimension){var length=input.length,dimension=opt_dimension>1?opt_dimension:2,output=opt_output;void 0===output&&(output=dimension>2?input.slice():new Array(length));for(var i=0;i<length;i+=dimension)output[i]=180*input[i]/HALF_SIZE,output[i+1]=360*Math.atan(Math.exp(input[i+1]/RADIUS))/Math.PI-90;return output}var inherits,cosh,Projection,Units,RADIUS,HALF_SIZE,EXTENT,WORLD_EXTENT,PROJECTIONS;return $__export("fromEPSG4326",fromEPSG4326),$__export("toEPSG4326",toEPSG4326),{setters:[function($__m){inherits=$__m.inherits},function($__m){cosh=$__m.cosh},function($__m){Projection=$__m.default},function($__m){Units=$__m.default}],execute:function(){RADIUS=6378137,$__export("RADIUS",RADIUS),HALF_SIZE=Math.PI*RADIUS,$__export("HALF_SIZE",HALF_SIZE),EXTENT=[-HALF_SIZE,-HALF_SIZE,HALF_SIZE,HALF_SIZE],$__export("EXTENT",EXTENT),WORLD_EXTENT=[-180,-85,180,85],$__export("WORLD_EXTENT",WORLD_EXTENT),inherits(EPSG3857Projection,Projection),PROJECTIONS=[new EPSG3857Projection("EPSG:3857"),new EPSG3857Projection("EPSG:102100"),new EPSG3857Projection("EPSG:102113"),new EPSG3857Projection("EPSG:900913"),new EPSG3857Projection("urn:ogc:def:crs:EPSG:6.18:3:3857"),new EPSG3857Projection("urn:ogc:def:crs:EPSG::3857"),new EPSG3857Projection("http://www.opengis.net/gml/srs/epsg.xml#3857")],$__export("PROJECTIONS",PROJECTIONS)}}}),$__System.register("6d",["10","6c","32"],function($__export){"use strict";function EPSG4326Projection(code,opt_axisOrientation){Projection.call(this,{code:code,units:Units.DEGREES,extent:EXTENT,axisOrientation:opt_axisOrientation,global:!0,metersPerUnit:METERS_PER_UNIT,worldExtent:EXTENT})}var inherits,Projection,Units,RADIUS,EXTENT,METERS_PER_UNIT,PROJECTIONS;return{setters:[function($__m){inherits=$__m.inherits},function($__m){Projection=$__m.default},function($__m){Units=$__m.default}],execute:function(){RADIUS=6378137,$__export("RADIUS",RADIUS),EXTENT=[-180,-90,180,90],$__export("EXTENT",EXTENT),METERS_PER_UNIT=Math.PI*RADIUS/180,$__export("METERS_PER_UNIT",METERS_PER_UNIT),inherits(EPSG4326Projection,Projection),PROJECTIONS=[new EPSG4326Projection("CRS:84"),new EPSG4326Projection("EPSG:4326","neu"),new EPSG4326Projection("urn:ogc:def:crs:EPSG::4326","neu"),new EPSG4326Projection("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new EPSG4326Projection("urn:ogc:def:crs:OGC:1.3:CRS84"),new EPSG4326Projection("urn:ogc:def:crs:OGC:2:84"),new EPSG4326Projection("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new EPSG4326Projection("urn:x-ogc:def:crs:EPSG:4326","neu")],$__export("PROJECTIONS",PROJECTIONS)}}}),$__System.register("6c",["32"],function($__export){"use strict";var METERS_PER_UNIT,Projection;return{setters:[function($__m){METERS_PER_UNIT=$__m.METERS_PER_UNIT}],execute:function(){Projection=function(options){this.code_=options.code,this.units_=options.units,this.extent_=void 0!==options.extent?options.extent:null,this.worldExtent_=void 0!==options.worldExtent?options.worldExtent:null,this.axisOrientation_=void 0!==options.axisOrientation?options.axisOrientation:"enu",this.global_=void 0!==options.global&&options.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=options.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=options.metersPerUnit},Projection.prototype.canWrapX=function(){return this.canWrapX_},Projection.prototype.getCode=function(){return this.code_},Projection.prototype.getExtent=function(){return this.extent_},Projection.prototype.getUnits=function(){return this.units_},Projection.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||METERS_PER_UNIT[this.units_]},Projection.prototype.getWorldExtent=function(){return this.worldExtent_},Projection.prototype.getAxisOrientation=function(){return this.axisOrientation_},Projection.prototype.isGlobal=function(){return this.global_},Projection.prototype.setGlobal=function(global){this.global_=global,this.canWrapX_=!(!global||!this.extent_)},Projection.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},Projection.prototype.setDefaultTileGrid=function(tileGrid){this.defaultTileGrid_=tileGrid},Projection.prototype.setExtent=function(extent){this.extent_=extent,this.canWrapX_=!(!this.global_||!extent)},Projection.prototype.setWorldExtent=function(worldExtent){this.worldExtent_=worldExtent},Projection.prototype.setGetPointResolution=function(func){this.getPointResolutionFunc_=func},Projection.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},$__export("default",Projection)}}}),$__System.register("6e",[],function($__export){"use strict";function clear(){cache={}}function get(code){return cache[code]||null}function add(code,projection){cache[code]=projection}var cache;return $__export("clear",clear),$__export("get",get),$__export("add",add),{setters:[],execute:function(){cache={}}}}),$__System.register("6f",["31"],function($__export){"use strict";function clear(){transforms={}}function add(source,destination,transformFn){var sourceCode=source.getCode(),destinationCode=destination.getCode();sourceCode in transforms||(transforms[sourceCode]={}),transforms[sourceCode][destinationCode]=transformFn}function remove(source,destination){var sourceCode=source.getCode(),destinationCode=destination.getCode(),transform=transforms[sourceCode][destinationCode];return delete transforms[sourceCode][destinationCode],isEmpty(transforms[sourceCode])&&delete transforms[sourceCode],transform}function get(sourceCode,destinationCode){var transform;return sourceCode in transforms&&destinationCode in transforms[sourceCode]&&(transform=transforms[sourceCode][destinationCode]),transform}var isEmpty,transforms;return $__export("clear",clear),$__export("add",add),$__export("remove",remove),$__export("get",get),{setters:[function($__m){isEmpty=$__m.isEmpty}],execute:function(){transforms={}}}}),$__System.register("26",["70","1a","1b","6b","6d","6c","32","6e","6f"],function($__export){"use strict";function cloneTransform(input,opt_output,opt_dimension){var output;if(void 0!==opt_output){for(var i=0,ii=input.length;i<ii;++i)opt_output[i]=input[i];output=opt_output}else output=input.slice();return output}function identityTransform(input,opt_output,opt_dimension){if(void 0!==opt_output&&input!==opt_output){for(var i=0,ii=input.length;i<ii;++i)opt_output[i]=input[i];input=opt_output}return input}function addProjection(projection){projections.add(projection.getCode(),projection),addTransformFunc(projection,projection,cloneTransform)}function addProjections(projections){projections.forEach(addProjection)}function get(projectionLike){var projection=null;if(projectionLike instanceof Projection)projection=projectionLike;else if("string"==typeof projectionLike){var code=projectionLike;projection=projections.get(code)}return projection}function getPointResolution(projection,resolution,point,opt_units){projection=get(projection);var pointResolution,getter=projection.getPointResolutionFunc();if(getter)pointResolution=getter(resolution,point);else{if(projection.getUnits()==Units.DEGREES&&!opt_units||opt_units==Units.DEGREES)pointResolution=resolution;else{var toEPSG4326$__1=getTransformFromProjections(projection,get("EPSG:4326")),vertices=[point[0]-resolution/2,point[1],point[0]+resolution/2,point[1],point[0],point[1]-resolution/2,point[0],point[1]+resolution/2];vertices=toEPSG4326$__1(vertices,vertices,2);pointResolution=(getDistance(vertices.slice(0,2),vertices.slice(2,4))+getDistance(vertices.slice(4,6),vertices.slice(6,8)))/2;var metersPerUnit=opt_units?METERS_PER_UNIT[opt_units]:projection.getMetersPerUnit();void 0!==metersPerUnit&&(pointResolution/=metersPerUnit)}}return pointResolution}function addEquivalentProjections(projections){addProjections(projections),projections.forEach(function(source){projections.forEach(function(destination){source!==destination&&addTransformFunc(source,destination,cloneTransform)})})}function addEquivalentTransforms(projections1,projections2,forwardTransform,inverseTransform){projections1.forEach(function(projection1){projections2.forEach(function(projection2){addTransformFunc(projection1,projection2,forwardTransform),addTransformFunc(projection2,projection1,inverseTransform)})})}function clearAllProjections(){projections.clear(),clearTransformFuncs()}function createProjection(projection,defaultCode){return projection?"string"==typeof projection?get(projection):projection:get(defaultCode)}function createTransformFromCoordinateTransform(coordTransform){return function(input,opt_output,opt_dimension){for(var length=input.length,dimension=void 0!==opt_dimension?opt_dimension:2,output=void 0!==opt_output?opt_output:new Array(length),i=0;i<length;i+=dimension){var point=coordTransform([input[i],input[i+1]]);output[i]=point[0],output[i+1]=point[1];for(var j=dimension-1;j>=2;--j)output[i+j]=input[i+j]}return output}}function addCoordinateTransforms(source,destination,forward,inverse){var sourceProj=get(source),destProj=get(destination);addTransformFunc(sourceProj,destProj,createTransformFromCoordinateTransform(forward)),addTransformFunc(destProj,sourceProj,createTransformFromCoordinateTransform(inverse))}function fromLonLat(coordinate,opt_projection){return transform(coordinate,"EPSG:4326",void 0!==opt_projection?opt_projection:"EPSG:3857")}function toLonLat(coordinate,opt_projection){var lonLat=transform(coordinate,void 0!==opt_projection?opt_projection:"EPSG:3857","EPSG:4326"),lon=lonLat[0];return(lon<-180||lon>180)&&(lonLat[0]=modulo(lon+180,360)-180),lonLat}function equivalent(projection1,projection2){if(projection1===projection2)return!0;var equalUnits=projection1.getUnits()===projection2.getUnits();return projection1.getCode()===projection2.getCode()?equalUnits:getTransformFromProjections(projection1,projection2)===cloneTransform&&equalUnits}function getTransformFromProjections(sourceProjection,destinationProjection){var sourceCode=sourceProjection.getCode(),destinationCode=destinationProjection.getCode(),transformFunc=getTransformFunc(sourceCode,destinationCode);return transformFunc||(transformFunc=identityTransform),transformFunc}function getTransform(source,destination){return getTransformFromProjections(get(source),get(destination))}function transform(coordinate,source,destination){return getTransform(source,destination)(coordinate,void 0,coordinate.length)}function transformExtent(extent,source,destination){var transformFunc=getTransform(source,destination);return applyTransform(extent,transformFunc)}function transformWithProjections(point,sourceProjection,destinationProjection){return getTransformFromProjections(sourceProjection,destinationProjection)(point)}function addCommon(){addEquivalentProjections(EPSG3857_PROJECTIONS),addEquivalentProjections(EPSG4326_PROJECTIONS),addEquivalentTransforms(EPSG4326_PROJECTIONS,EPSG3857_PROJECTIONS,fromEPSG4326,toEPSG4326)}var getDistance,applyTransform,modulo,toEPSG4326,fromEPSG4326,EPSG3857_PROJECTIONS,EPSG4326_PROJECTIONS,Projection,Units,METERS_PER_UNIT,projections,addTransformFunc,clearTransformFuncs,getTransformFunc;return $__export("cloneTransform",cloneTransform),$__export("identityTransform",identityTransform),$__export("addProjection",addProjection),$__export("addProjections",addProjections),$__export("get",get),$__export("getPointResolution",getPointResolution),$__export("addEquivalentProjections",addEquivalentProjections),$__export("addEquivalentTransforms",addEquivalentTransforms),$__export("clearAllProjections",clearAllProjections),$__export("createProjection",createProjection),$__export("createTransformFromCoordinateTransform",createTransformFromCoordinateTransform),$__export("addCoordinateTransforms",addCoordinateTransforms),$__export("fromLonLat",fromLonLat),$__export("toLonLat",toLonLat),$__export("equivalent",equivalent),$__export("getTransformFromProjections",getTransformFromProjections),$__export("getTransform",getTransform),$__export("transform",transform),$__export("transformExtent",transformExtent),$__export("transformWithProjections",transformWithProjections),$__export("addCommon",addCommon),{setters:[function($__m){getDistance=$__m.getDistance},function($__m){applyTransform=$__m.applyTransform},function($__m){modulo=$__m.modulo},function($__m){toEPSG4326=$__m.toEPSG4326,fromEPSG4326=$__m.fromEPSG4326,EPSG3857_PROJECTIONS=$__m.PROJECTIONS},function($__m){EPSG4326_PROJECTIONS=$__m.PROJECTIONS},function($__m){Projection=$__m.default},function($__m){Units=$__m.default,METERS_PER_UNIT=$__m.METERS_PER_UNIT},function($__m){projections=$__m},function($__m){addTransformFunc=$__m.add,clearTransformFuncs=$__m.clear,getTransformFunc=$__m.get}],execute:function(){$__export("METERS_PER_UNIT",METERS_PER_UNIT),addCommon()}}}),$__System.register("32",[],function($__export){"use strict";var Units,METERS_PER_UNIT;return{setters:[],execute:function(){Units={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},METERS_PER_UNIT={},$__export("METERS_PER_UNIT",METERS_PER_UNIT),METERS_PER_UNIT[Units.DEGREES]=2*Math.PI*6370997/360,METERS_PER_UNIT[Units.FEET]=.3048,METERS_PER_UNIT[Units.METERS]=1,METERS_PER_UNIT[Units.USFEET]=1200/3937,$__export("default",Units)}}}),$__System.register("61",["10","3f","1a","24","71","26","32","72"],function($__export){"use strict";var inherits,BaseObject,createEmpty,getHeight,returnOrUpdate,FALSE,transform2D,getProjection,getTransform,Units,createTransform,composeTransform,Geometry,tmpTransform;return{setters:[function($__m){inherits=$__m.inherits},function($__m){BaseObject=$__m.default},function($__m){createEmpty=$__m.createEmpty,getHeight=$__m.getHeight,returnOrUpdate=$__m.returnOrUpdate},function($__m){FALSE=$__m.FALSE},function($__m){transform2D=$__m.transform2D},function($__m){getProjection=$__m.get,getTransform=$__m.getTransform},function($__m){Units=$__m.default},function($__m){createTransform=$__m.create,composeTransform=$__m.compose}],execute:function(){Geometry=function(){BaseObject.call(this),this.extent_=createEmpty(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0},inherits(Geometry,BaseObject),tmpTransform=createTransform(),Geometry.prototype.clone=function(){},Geometry.prototype.closestPointXY=function(x,y,closestPoint,minSquaredDistance){},Geometry.prototype.getClosestPoint=function(point,opt_closestPoint){var closestPoint=opt_closestPoint||[NaN,NaN];return this.closestPointXY(point[0],point[1],closestPoint,1/0),closestPoint},Geometry.prototype.intersectsCoordinate=function(coordinate){return this.containsXY(coordinate[0],coordinate[1])},Geometry.prototype.computeExtent=function(extent){},Geometry.prototype.containsXY=FALSE,Geometry.prototype.getExtent=function(opt_extent){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),returnOrUpdate(this.extent_,opt_extent)},Geometry.prototype.rotate=function(angle,anchor){},Geometry.prototype.scale=function(sx,opt_sy,opt_anchor){},Geometry.prototype.simplify=function(tolerance){return this.getSimplifiedGeometry(tolerance*tolerance)},Geometry.prototype.getSimplifiedGeometry=function(squaredTolerance){},Geometry.prototype.getType=function(){},Geometry.prototype.applyTransform=function(transformFn){},Geometry.prototype.intersectsExtent=function(extent){},Geometry.prototype.translate=function(deltaX,deltaY){},Geometry.prototype.transform=function(source,destination){source=getProjection(source);var transformFn=source.getUnits()==Units.TILE_PIXELS?function(inCoordinates,outCoordinates,stride){var pixelExtent=source.getExtent(),projectedExtent=source.getWorldExtent(),scale=getHeight(projectedExtent)/getHeight(pixelExtent);return composeTransform(tmpTransform,projectedExtent[0],projectedExtent[3],scale,-scale,0,0,0),transform2D(inCoordinates,0,inCoordinates.length,stride,tmpTransform,outCoordinates),getTransform(source,destination)(inCoordinates,outCoordinates,stride)}:getTransform(source,destination);return this.applyTransform(transformFn),this},$__export("default",Geometry)}}}),$__System.register("63",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"})}}}),$__System.register("71",[],function($__export){"use strict";function transform2D(flatCoordinates,offset,end,stride,transform,opt_dest){for(var dest=opt_dest||[],i=0,j=offset;j<end;j+=stride){var x=flatCoordinates[j],y=flatCoordinates[j+1];dest[i++]=transform[0]*x+transform[2]*y+transform[4],dest[i++]=transform[1]*x+transform[3]*y+transform[5]}return opt_dest&&dest.length!=i&&(dest.length=i),dest}function rotate(flatCoordinates,offset,end,stride,angle,anchor,opt_dest){for(var dest=opt_dest||[],cos=Math.cos(angle),sin=Math.sin(angle),anchorX=anchor[0],anchorY=anchor[1],i=0,j=offset;j<end;j+=stride){var deltaX=flatCoordinates[j]-anchorX,deltaY=flatCoordinates[j+1]-anchorY;dest[i++]=anchorX+deltaX*cos-deltaY*sin,dest[i++]=anchorY+deltaX*sin+deltaY*cos;for(var k=j+2;k<j+stride;++k)dest[i++]=flatCoordinates[k]}return opt_dest&&dest.length!=i&&(dest.length=i),dest}function scale(flatCoordinates,offset,end,stride,sx,sy,anchor,opt_dest){for(var dest=opt_dest||[],anchorX=anchor[0],anchorY=anchor[1],i=0,j=offset;j<end;j+=stride){var deltaX=flatCoordinates[j]-anchorX,deltaY=flatCoordinates[j+1]-anchorY;dest[i++]=anchorX+sx*deltaX,dest[i++]=anchorY+sy*deltaY;for(var k=j+2;k<j+stride;++k)dest[i++]=flatCoordinates[k]}return opt_dest&&dest.length!=i&&(dest.length=i),dest}function translate(flatCoordinates,offset,end,stride,deltaX,deltaY,opt_dest){for(var dest=opt_dest||[],i=0,j=offset;j<end;j+=stride){dest[i++]=flatCoordinates[j]+deltaX,dest[i++]=flatCoordinates[j+1]+deltaY;for(var k=j+2;k<j+stride;++k)dest[i++]=flatCoordinates[k]}return opt_dest&&dest.length!=i&&(dest.length=i),dest}return $__export("transform2D",transform2D),$__export("rotate",rotate),$__export("scale",scale),$__export("translate",translate),{setters:[],execute:function(){}}}),$__System.register("64",["10","24","1a","61","63","71","31"],function($__export){"use strict";function getLayoutForStride(stride){var layout;return 2==stride?layout=GeometryLayout.XY:3==stride?layout=GeometryLayout.XYZ:4==stride&&(layout=GeometryLayout.XYZM),layout}function getStrideForLayout(layout){var stride;return layout==GeometryLayout.XY?stride=2:layout==GeometryLayout.XYZ||layout==GeometryLayout.XYM?stride=3:layout==GeometryLayout.XYZM&&(stride=4),stride}function transformGeom2D(simpleGeometry,transform,opt_dest){var flatCoordinates=simpleGeometry.getFlatCoordinates();if(flatCoordinates){var stride=simpleGeometry.getStride();return transform2D(flatCoordinates,0,flatCoordinates.length,stride,transform,opt_dest)}return null}var inherits,FALSE,createOrUpdateFromFlatCoordinates,getCenter,Geometry,GeometryLayout,rotate,scale,translate,transform2D,clear,SimpleGeometry;return $__export("getStrideForLayout",getStrideForLayout),$__export("transformGeom2D",transformGeom2D),{setters:[function($__m){inherits=$__m.inherits},function($__m){FALSE=$__m.FALSE},function($__m){createOrUpdateFromFlatCoordinates=$__m.createOrUpdateFromFlatCoordinates,getCenter=$__m.getCenter},function($__m){Geometry=$__m.default},function($__m){GeometryLayout=$__m.default},function($__m){rotate=$__m.rotate,scale=$__m.scale,translate=$__m.translate,transform2D=$__m.transform2D},function($__m){clear=$__m.clear}],execute:function(){SimpleGeometry=function(){Geometry.call(this),this.layout=GeometryLayout.XY,this.stride=2,this.flatCoordinates=null},inherits(SimpleGeometry,Geometry),SimpleGeometry.prototype.containsXY=FALSE,SimpleGeometry.prototype.computeExtent=function(extent){return createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,extent)},SimpleGeometry.prototype.getCoordinates=function(){},SimpleGeometry.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},SimpleGeometry.prototype.getFlatCoordinates=function(){return this.flatCoordinates},SimpleGeometry.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},SimpleGeometry.prototype.getLayout=function(){return this.layout},SimpleGeometry.prototype.getSimplifiedGeometry=function(squaredTolerance){if(this.simplifiedGeometryRevision!=this.getRevision()&&(clear(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),squaredTolerance<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&squaredTolerance<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var key=squaredTolerance.toString();if(this.simplifiedGeometryCache.hasOwnProperty(key))return this.simplifiedGeometryCache[key];var simplifiedGeometry=this.getSimplifiedGeometryInternal(squaredTolerance);return simplifiedGeometry.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[key]=simplifiedGeometry,simplifiedGeometry):(this.simplifiedGeometryMaxMinSquaredTolerance=squaredTolerance,this)},SimpleGeometry.prototype.getSimplifiedGeometryInternal=function(squaredTolerance){return this},SimpleGeometry.prototype.getStride=function(){return this.stride},SimpleGeometry.prototype.setFlatCoordinatesInternal=function(layout,flatCoordinates){this.stride=getStrideForLayout(layout),this.layout=layout,this.flatCoordinates=flatCoordinates},SimpleGeometry.prototype.setCoordinates=function(coordinates,opt_layout){},SimpleGeometry.prototype.setLayout=function(layout,coordinates,nesting){var stride;if(layout)stride=getStrideForLayout(layout);else{for(var i=0;i<nesting;++i){if(0===coordinates.length)return this.layout=GeometryLayout.XY,void(this.stride=2);coordinates=coordinates[0]}stride=coordinates.length,layout=getLayoutForStride(stride)}this.layout=layout,this.stride=stride},SimpleGeometry.prototype.applyTransform=function(transformFn){this.flatCoordinates&&(transformFn(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},SimpleGeometry.prototype.rotate=function(angle,anchor){var flatCoordinates=this.getFlatCoordinates();if(flatCoordinates){var stride=this.getStride();rotate(flatCoordinates,0,flatCoordinates.length,stride,angle,anchor,flatCoordinates),this.changed()}},SimpleGeometry.prototype.scale=function(sx,opt_sy,opt_anchor){var sy=opt_sy;void 0===sy&&(sy=sx);var anchor=opt_anchor;anchor||(anchor=getCenter(this.getExtent()));var flatCoordinates=this.getFlatCoordinates();if(flatCoordinates){var stride=this.getStride();scale(flatCoordinates,0,flatCoordinates.length,stride,sx,sy,anchor,flatCoordinates),this.changed()}},SimpleGeometry.prototype.translate=function(deltaX,deltaY){var flatCoordinates=this.getFlatCoordinates();if(flatCoordinates){var stride=this.getStride();translate(flatCoordinates,0,flatCoordinates.length,stride,deltaX,deltaY,flatCoordinates),this.changed()}},$__export("default",SimpleGeometry)}}}),$__System.register("70",["1b","53"],function($__export){"use strict";function getDistance(c1,c2,opt_radius){var radius=opt_radius||DEFAULT_RADIUS,lat1=toRadians(c1[1]),lat2=toRadians(c2[1]),deltaLatBy2=(lat2-lat1)/2,deltaLonBy2=toRadians(c2[0]-c1[0])/2,a=Math.sin(deltaLatBy2)*Math.sin(deltaLatBy2)+Math.sin(deltaLonBy2)*Math.sin(deltaLonBy2)*Math.cos(lat1)*Math.cos(lat2);return 2*radius*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function getLengthInternal(coordinates,radius){for(var length=0,i=0,ii=coordinates.length;i<ii-1;++i)length+=getDistance(coordinates[i],coordinates[i+1],radius);return length}function getLength(geometry,opt_options){var options=opt_options||{},radius=options.radius||DEFAULT_RADIUS,projection=options.projection||"EPSG:3857",type=geometry.getType();type!==GeometryType.GEOMETRY_COLLECTION&&(geometry=geometry.clone().transform(projection,"EPSG:4326"));var coordinates,coords,i,ii,j,jj,length=0;switch(type){case GeometryType.POINT:case GeometryType.MULTI_POINT:break;case GeometryType.LINE_STRING:case GeometryType.LINEAR_RING:coordinates=geometry.getCoordinates(),length=getLengthInternal(coordinates,radius);break;case GeometryType.MULTI_LINE_STRING:case GeometryType.POLYGON:for(coordinates=geometry.getCoordinates(),i=0,ii=coordinates.length;i<ii;++i)length+=getLengthInternal(coordinates[i],radius);break;case GeometryType.MULTI_POLYGON:for(coordinates=geometry.getCoordinates(),i=0,ii=coordinates.length;i<ii;++i)for(coords=coordinates[i],j=0,jj=coords.length;j<jj;++j)length+=getLengthInternal(coords[j],radius);break;case GeometryType.GEOMETRY_COLLECTION:var geometries=geometry.getGeometries();for(i=0,ii=geometries.length;i<ii;++i)length+=getLength(geometries[i],opt_options);break;default:throw new Error("Unsupported geometry type: "+type)}return length}function getAreaInternal(coordinates,radius){for(var area=0,len=coordinates.length,x1=coordinates[len-1][0],y1=coordinates[len-1][1],i=0;i<len;i++){var x2=coordinates[i][0],y2=coordinates[i][1];area+=toRadians(x2-x1)*(2+Math.sin(toRadians(y1))+Math.sin(toRadians(y2))),x1=x2,y1=y2}return area*radius*radius/2}function getArea(geometry,opt_options){var options=opt_options||{},radius=options.radius||DEFAULT_RADIUS,projection=options.projection||"EPSG:3857",type=geometry.getType();type!==GeometryType.GEOMETRY_COLLECTION&&(geometry=geometry.clone().transform(projection,"EPSG:4326"));var coordinates,coords,i,ii,j,jj,area=0;switch(type){case GeometryType.POINT:case GeometryType.MULTI_POINT:case GeometryType.LINE_STRING:case GeometryType.MULTI_LINE_STRING:case GeometryType.LINEAR_RING:break;case GeometryType.POLYGON:for(coordinates=geometry.getCoordinates(),area=Math.abs(getAreaInternal(coordinates[0],radius)),i=1,ii=coordinates.length;i<ii;++i)area-=Math.abs(getAreaInternal(coordinates[i],radius));break;case GeometryType.MULTI_POLYGON:for(coordinates=geometry.getCoordinates(),i=0,ii=coordinates.length;i<ii;++i)for(coords=coordinates[i],area+=Math.abs(getAreaInternal(coords[0],radius)),j=1,jj=coords.length;j<jj;++j)area-=Math.abs(getAreaInternal(coords[j],radius));break;case GeometryType.GEOMETRY_COLLECTION:var geometries=geometry.getGeometries();for(i=0,ii=geometries.length;i<ii;++i)area+=getArea(geometries[i],opt_options);break;default:throw new Error("Unsupported geometry type: "+type)}return area}function offset(c1,distance,bearing,opt_radius){var radius=opt_radius||DEFAULT_RADIUS,lat1=toRadians(c1[1]),lon1=toRadians(c1[0]),dByR=distance/radius,lat=Math.asin(Math.sin(lat1)*Math.cos(dByR)+Math.cos(lat1)*Math.sin(dByR)*Math.cos(bearing)),lon=lon1+Math.atan2(Math.sin(bearing)*Math.sin(dByR)*Math.cos(lat1),Math.cos(dByR)-Math.sin(lat1)*Math.sin(lat));return[toDegrees(lon),toDegrees(lat)]}var toRadians,toDegrees,GeometryType,DEFAULT_RADIUS;return $__export("getDistance",getDistance),$__export("getLength",getLength),$__export("getArea",getArea),$__export("offset",offset),{setters:[function($__m){toRadians=$__m.toRadians,toDegrees=$__m.toDegrees},function($__m){GeometryType=$__m.default}],execute:function(){DEFAULT_RADIUS=6371008.8,$__export("DEFAULT_RADIUS",DEFAULT_RADIUS)}}}),$__System.register("65",[],function($__export){"use strict";function linearRing(flatCoordinates,offset,end,stride){for(var twiceArea=0,x1=flatCoordinates[end-stride],y1=flatCoordinates[end-stride+1];offset<end;offset+=stride){var x2=flatCoordinates[offset],y2=flatCoordinates[offset+1];twiceArea+=y1*x2-x1*y2,x1=x2,y1=y2}return twiceArea/2}function linearRings(flatCoordinates,offset,ends,stride){for(var area=0,i=0,ii=ends.length;i<ii;++i){var end=ends[i];area+=linearRing(flatCoordinates,offset,end,stride),offset=end}return area}function linearRingss(flatCoordinates,offset,endss,stride){for(var area=0,i=0,ii=endss.length;i<ii;++i){var ends=endss[i];area+=linearRings(flatCoordinates,offset,ends,stride),offset=ends[ends.length-1]}return area}return $__export("linearRing",linearRing),$__export("linearRings",linearRings),$__export("linearRingss",linearRingss),{setters:[],execute:function(){}}}),$__System.register("66",["1b"],function($__export){"use strict";function assignClosest(flatCoordinates,offset1,offset2,stride,x,y,closestPoint){var offset,x1=flatCoordinates[offset1],y1=flatCoordinates[offset1+1],dx=flatCoordinates[offset2]-x1,dy=flatCoordinates[offset2+1]-y1;if(0===dx&&0===dy)offset=offset1;else{var t=((x-x1)*dx+(y-y1)*dy)/(dx*dx+dy*dy);if(t>1)offset=offset2;else{if(t>0){for(var i=0;i<stride;++i)closestPoint[i]=lerp(flatCoordinates[offset1+i],flatCoordinates[offset2+i],t);return void(closestPoint.length=stride)}offset=offset1}}for(var i$__1=0;i$__1<stride;++i$__1)closestPoint[i$__1]=flatCoordinates[offset+i$__1];closestPoint.length=stride}function maxSquaredDelta(flatCoordinates,offset,end,stride,max){var x1=flatCoordinates[offset],y1=flatCoordinates[offset+1];for(offset+=stride;offset<end;offset+=stride){var x2=flatCoordinates[offset],y2=flatCoordinates[offset+1],squaredDelta=squaredDx(x1,y1,x2,y2);squaredDelta>max&&(max=squaredDelta),x1=x2,y1=y2}return max}function arrayMaxSquaredDelta(flatCoordinates,offset,ends,stride,max){for(var i=0,ii=ends.length;i<ii;++i){var end=ends[i];max=maxSquaredDelta(flatCoordinates,offset,end,stride,max),offset=end}return max}function multiArrayMaxSquaredDelta(flatCoordinates,offset,endss,stride,max){for(var i=0,ii=endss.length;i<ii;++i){var ends=endss[i];max=arrayMaxSquaredDelta(flatCoordinates,offset,ends,stride,max),offset=ends[ends.length-1]}return max}function assignClosestPoint(flatCoordinates,offset,end,stride,maxDelta,isRing,x,y,closestPoint,minSquaredDistance,opt_tmpPoint){if(offset==end)return minSquaredDistance;var i,squaredDistance;if(0===maxDelta){if((squaredDistance=squaredDx(x,y,flatCoordinates[offset],flatCoordinates[offset+1]))<minSquaredDistance){for(i=0;i<stride;++i)closestPoint[i]=flatCoordinates[offset+i];return closestPoint.length=stride,squaredDistance}return minSquaredDistance}for(var tmpPoint=opt_tmpPoint||[NaN,NaN],index=offset+stride;index<end;)if(assignClosest(flatCoordinates,index-stride,index,stride,x,y,tmpPoint),(squaredDistance=squaredDx(x,y,tmpPoint[0],tmpPoint[1]))<minSquaredDistance){for(minSquaredDistance=squaredDistance,i=0;i<stride;++i)closestPoint[i]=tmpPoint[i];closestPoint.length=stride,index+=stride}else index+=stride*Math.max((Math.sqrt(squaredDistance)-Math.sqrt(minSquaredDistance))/maxDelta|0,1);if(isRing&&(assignClosest(flatCoordinates,end-stride,offset,stride,x,y,tmpPoint),(squaredDistance=squaredDx(x,y,tmpPoint[0],tmpPoint[1]))<minSquaredDistance)){for(minSquaredDistance=squaredDistance,i=0;i<stride;++i)closestPoint[i]=tmpPoint[i];closestPoint.length=stride}return minSquaredDistance}function assignClosestArrayPoint(flatCoordinates,offset,ends,stride,maxDelta,isRing,x,y,closestPoint,minSquaredDistance,opt_tmpPoint){for(var tmpPoint=opt_tmpPoint||[NaN,NaN],i=0,ii=ends.length;i<ii;++i){var end=ends[i];minSquaredDistance=assignClosestPoint(flatCoordinates,offset,end,stride,maxDelta,isRing,x,y,closestPoint,minSquaredDistance,tmpPoint),offset=end}return minSquaredDistance}function assignClosestMultiArrayPoint(flatCoordinates,offset,endss,stride,maxDelta,isRing,x,y,closestPoint,minSquaredDistance,opt_tmpPoint){for(var tmpPoint=opt_tmpPoint||[NaN,NaN],i=0,ii=endss.length;i<ii;++i){var ends=endss[i];minSquaredDistance=assignClosestArrayPoint(flatCoordinates,offset,ends,stride,maxDelta,isRing,x,y,closestPoint,minSquaredDistance,tmpPoint),offset=ends[ends.length-1]}return minSquaredDistance}var lerp,squaredDx;return $__export("maxSquaredDelta",maxSquaredDelta),$__export("arrayMaxSquaredDelta",arrayMaxSquaredDelta),$__export("multiArrayMaxSquaredDelta",multiArrayMaxSquaredDelta),$__export("assignClosestPoint",assignClosestPoint),$__export("assignClosestArrayPoint",assignClosestArrayPoint),$__export("assignClosestMultiArrayPoint",assignClosestMultiArrayPoint),{setters:[function($__m){lerp=$__m.lerp,squaredDx=$__m.squaredDistance}],execute:function(){}}}),$__System.register("67",[],function($__export){"use strict";function deflateCoordinate(flatCoordinates,offset,coordinate,stride){for(var i=0,ii=coordinate.length;i<ii;++i)flatCoordinates[offset++]=coordinate[i];return offset}function deflateCoordinates(flatCoordinates,offset,coordinates,stride){for(var i=0,ii=coordinates.length;i<ii;++i)for(var coordinate=coordinates[i],j=0;j<stride;++j)flatCoordinates[offset++]=coordinate[j];return offset}function deflateCoordinatesArray(flatCoordinates,offset,coordinatess,stride,opt_ends){for(var ends=opt_ends||[],i=0,j=0,jj=coordinatess.length;j<jj;++j){var end=deflateCoordinates(flatCoordinates,offset,coordinatess[j],stride);ends[i++]=end,offset=end}return ends.length=i,ends}function deflateMultiCoordinatesArray(flatCoordinates,offset,coordinatesss,stride,opt_endss){for(var endss=opt_endss||[],i=0,j=0,jj=coordinatesss.length;j<jj;++j){var ends=deflateCoordinatesArray(flatCoordinates,offset,coordinatesss[j],stride,endss[i]);endss[i++]=ends,offset=ends[ends.length-1]}return endss.length=i,endss}return $__export("deflateCoordinate",deflateCoordinate),$__export("deflateCoordinates",deflateCoordinates),$__export("deflateCoordinatesArray",deflateCoordinatesArray),$__export("deflateMultiCoordinatesArray",deflateMultiCoordinatesArray),{setters:[],execute:function(){}}}),$__System.register("68",[],function($__export){"use strict";function inflateCoordinates(flatCoordinates,offset,end,stride,opt_coordinates){for(var coordinates=void 0!==opt_coordinates?opt_coordinates:[],i=0,j=offset;j<end;j+=stride)coordinates[i++]=flatCoordinates.slice(j,j+stride);return coordinates.length=i,coordinates}function inflateCoordinatesArray(flatCoordinates,offset,ends,stride,opt_coordinatess){for(var coordinatess=void 0!==opt_coordinatess?opt_coordinatess:[],i=0,j=0,jj=ends.length;j<jj;++j){var end=ends[j];coordinatess[i++]=inflateCoordinates(flatCoordinates,offset,end,stride,coordinatess[i]),offset=end}return coordinatess.length=i,coordinatess}function inflateMultiCoordinatesArray(flatCoordinates,offset,endss,stride,opt_coordinatesss){for(var coordinatesss=void 0!==opt_coordinatesss?opt_coordinatesss:[],i=0,j=0,jj=endss.length;j<jj;++j){var ends=endss[j];coordinatesss[i++]=inflateCoordinatesArray(flatCoordinates,offset,ends,stride,coordinatesss[i]),offset=ends[ends.length-1]}return coordinatesss.length=i,coordinatesss}return $__export("inflateCoordinates",inflateCoordinates),$__export("inflateCoordinatesArray",inflateCoordinatesArray),$__export("inflateMultiCoordinatesArray",inflateMultiCoordinatesArray),{setters:[],execute:function(){}}}),$__System.register("2f",[],function($__export){"use strict";function binarySearch(haystack,needle,opt_comparator){for(var mid,cmp,comparator=opt_comparator||numberSafeCompareFunction,low=0,high=haystack.length,found=!1;low<high;)mid=low+(high-low>>1),cmp=+comparator(haystack[mid],needle),cmp<0?low=mid+1:(high=mid,found=!cmp);return found?low:~low}function numberSafeCompareFunction(a,b){return a>b?1:a<b?-1:0}function includes(arr,obj){return!0}function linearFindNearest(arr,target,direction){var n=arr.length;if(arr[0]<=target)return 0;if(target<=arr[n-1])return n-1;var i;if(direction>0){for(i=1;i<n;++i)if(arr[i]<target)return i-1}else if(direction<0){for(i=1;i<n;++i)if(arr[i]<=target)return i}else for(i=1;i<n;++i){if(arr[i]==target)return i;if(arr[i]<target)return arr[i-1]-target<target-arr[i]?i-1:i}return n-1}function reverseSubArray(arr,begin,end){for(;begin<end;){var tmp=arr[begin];arr[begin]=arr[end],arr[end]=tmp,++begin,--end}}function extend(arr,data){for(var extension=Array.isArray(data)?data:[data],length=extension.length,i=0;i<length;i++)arr[arr.length]=extension[i]}function remove(arr,obj){var i=arr.indexOf(obj),found=i>-1;return found&&arr.splice(i,1),found}function find(arr,func){for(var value,length=arr.length>>>0,i=0;i<length;i++)if(value=arr[i],func(value,i,arr))return value;return null}function equals(arr1,arr2){var len1=arr1.length;if(len1!==arr2.length)return!1;for(var i=0;i<len1;i++)if(arr1[i]!==arr2[i])return!1;return!0}function stableSort(arr,compareFnc){var i,length=arr.length,tmp=Array(arr.length);for(i=0;i<length;i++)tmp[i]={index:i,value:arr[i]};for(tmp.sort(function(a,b){return compareFnc(a.value,b.value)||a.index-b.index}),i=0;i<arr.length;i++)arr[i]=tmp[i].value}function findIndex(arr,func){var index;return arr.every(function(el,idx){return index=idx,!func(el,idx,arr)})?-1:index}function isSorted(arr,opt_func,opt_strict){var compare=opt_func||numberSafeCompareFunction;return arr.every(function(currentVal,index){if(0===index)return!0;var res=compare(arr[index-1],currentVal);return!(res>0||opt_strict&&0===res)})}return $__export("binarySearch",binarySearch),$__export("numberSafeCompareFunction",numberSafeCompareFunction),$__export("includes",includes),$__export("linearFindNearest",linearFindNearest),$__export("reverseSubArray",reverseSubArray),$__export("extend",extend),$__export("remove",remove),$__export("find",find),$__export("equals",equals),$__export("stableSort",stableSort),$__export("findIndex",findIndex),$__export("isSorted",isSorted),{setters:[],execute:function(){}}}),$__System.register("73",["2f","74"],function($__export){"use strict";function getInteriorPointOfArray(flatCoordinates,offset,ends,stride,flatCenters,flatCentersOffset,opt_dest){for(var i,ii,x,x1,x2,y1,y2,y=flatCenters[flatCentersOffset+1],intersections=[],r=0,rr=ends.length;r<rr;++r){var end=ends[r];for(x1=flatCoordinates[end-stride],y1=flatCoordinates[end-stride+1],i=offset;i<end;i+=stride)x2=flatCoordinates[i],y2=flatCoordinates[i+1],(y<=y1&&y2<=y||y1<=y&&y<=y2)&&(x=(y-y1)/(y2-y1)*(x2-x1)+x1,intersections.push(x)),x1=x2,y1=y2}var pointX=NaN,maxSegmentLength=-1/0;for(intersections.sort(numberSafeCompareFunction),x1=intersections[0],i=1,ii=intersections.length;i<ii;++i){x2=intersections[i];var segmentLength=Math.abs(x2-x1);segmentLength>maxSegmentLength&&(x=(x1+x2)/2,linearRingsContainsXY(flatCoordinates,offset,ends,stride,x,y)&&(pointX=x,maxSegmentLength=segmentLength)),x1=x2}return isNaN(pointX)&&(pointX=flatCenters[flatCentersOffset]),opt_dest?(opt_dest.push(pointX,y,maxSegmentLength),opt_dest):[pointX,y,maxSegmentLength]}function getInteriorPointsOfMultiArray(flatCoordinates,offset,endss,stride,flatCenters){for(var interiorPoints=[],i=0,ii=endss.length;i<ii;++i){var ends=endss[i];interiorPoints=getInteriorPointOfArray(flatCoordinates,offset,ends,stride,flatCenters,2*i,interiorPoints),offset=ends[ends.length-1]}return interiorPoints}var numberSafeCompareFunction,linearRingsContainsXY;return $__export("getInteriorPointOfArray",getInteriorPointOfArray),$__export("getInteriorPointsOfMultiArray",getInteriorPointsOfMultiArray),{setters:[function($__m){numberSafeCompareFunction=$__m.numberSafeCompareFunction},function($__m){linearRingsContainsXY=$__m.linearRingsContainsXY}],execute:function(){}}}),$__System.register("30",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"})}}}),$__System.register("75",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16})}}}),$__System.register("1a",["1f","30","75"],function($__export){"use strict";function boundingExtent(coordinates){for(var extent=createEmpty(),i=0,ii=coordinates.length;i<ii;++i)extendCoordinate(extent,coordinates[i]);return extent}function _boundingExtentXYs(xs,ys,opt_extent){return createOrUpdate(Math.min.apply(null,xs),Math.min.apply(null,ys),Math.max.apply(null,xs),Math.max.apply(null,ys),opt_extent)}function buffer(extent,value,opt_extent){return opt_extent?(opt_extent[0]=extent[0]-value,opt_extent[1]=extent[1]-value,opt_extent[2]=extent[2]+value,opt_extent[3]=extent[3]+value,opt_extent):[extent[0]-value,extent[1]-value,extent[2]+value,extent[3]+value]}function clone(extent,opt_extent){return opt_extent?(opt_extent[0]=extent[0],opt_extent[1]=extent[1],opt_extent[2]=extent[2],opt_extent[3]=extent[3],opt_extent):extent.slice()}function closestSquaredDistanceXY(extent,x,y){var dx,dy;return dx=x<extent[0]?extent[0]-x:extent[2]<x?x-extent[2]:0,dy=y<extent[1]?extent[1]-y:extent[3]<y?y-extent[3]:0,dx*dx+dy*dy}function containsCoordinate(extent,coordinate){return containsXY(extent,coordinate[0],coordinate[1])}function containsExtent(extent1,extent2){return extent1[0]<=extent2[0]&&extent2[2]<=extent1[2]&&extent1[1]<=extent2[1]&&extent2[3]<=extent1[3]}function containsXY(extent,x,y){return extent[0]<=x&&x<=extent[2]&&extent[1]<=y&&y<=extent[3]}function coordinateRelationship(extent,coordinate){var minX=extent[0],minY=extent[1],maxX=extent[2],maxY=extent[3],x=coordinate[0],y=coordinate[1],relationship=Relationship.UNKNOWN;return x<minX?relationship|=Relationship.LEFT:x>maxX&&(relationship|=Relationship.RIGHT),y<minY?relationship|=Relationship.BELOW:y>maxY&&(relationship|=Relationship.ABOVE),relationship===Relationship.UNKNOWN&&(relationship=Relationship.INTERSECTING),relationship}function createEmpty(){return[1/0,1/0,-1/0,-1/0]}function createOrUpdate(minX,minY,maxX,maxY,opt_extent){return opt_extent?(opt_extent[0]=minX,opt_extent[1]=minY,opt_extent[2]=maxX,opt_extent[3]=maxY,opt_extent):[minX,minY,maxX,maxY]}function createOrUpdateEmpty(opt_extent){return createOrUpdate(1/0,1/0,-1/0,-1/0,opt_extent)}function createOrUpdateFromCoordinate(coordinate,opt_extent){var x=coordinate[0],y=coordinate[1];return createOrUpdate(x,y,x,y,opt_extent)}function createOrUpdateFromCoordinates(coordinates,opt_extent){return extendCoordinates(createOrUpdateEmpty(opt_extent),coordinates)}function createOrUpdateFromFlatCoordinates(flatCoordinates,offset,end,stride,opt_extent){return extendFlatCoordinates(createOrUpdateEmpty(opt_extent),flatCoordinates,offset,end,stride)}function createOrUpdateFromRings(rings,opt_extent){return extendRings(createOrUpdateEmpty(opt_extent),rings)}function equals(extent1,extent2){return extent1[0]==extent2[0]&&extent1[2]==extent2[2]&&extent1[1]==extent2[1]&&extent1[3]==extent2[3]}function extend(extent1,extent2){return extent2[0]<extent1[0]&&(extent1[0]=extent2[0]),extent2[2]>extent1[2]&&(extent1[2]=extent2[2]),extent2[1]<extent1[1]&&(extent1[1]=extent2[1]),extent2[3]>extent1[3]&&(extent1[3]=extent2[3]),extent1}function extendCoordinate(extent,coordinate){coordinate[0]<extent[0]&&(extent[0]=coordinate[0]),coordinate[0]>extent[2]&&(extent[2]=coordinate[0]),coordinate[1]<extent[1]&&(extent[1]=coordinate[1]),coordinate[1]>extent[3]&&(extent[3]=coordinate[1])}function extendCoordinates(extent,coordinates){for(var i=0,ii=coordinates.length;i<ii;++i)extendCoordinate(extent,coordinates[i]);return extent}function extendFlatCoordinates(extent,flatCoordinates,offset,end,stride){for(;offset<end;offset+=stride)extendXY(extent,flatCoordinates[offset],flatCoordinates[offset+1]);return extent}function extendRings(extent,rings){for(var i=0,ii=rings.length;i<ii;++i)extendCoordinates(extent,rings[i]);return extent}function extendXY(extent,x,y){extent[0]=Math.min(extent[0],x),extent[1]=Math.min(extent[1],y),extent[2]=Math.max(extent[2],x),extent[3]=Math.max(extent[3],y)}function forEachCorner(extent,callback,opt_this){var val;return(val=callback.call(opt_this,getBottomLeft(extent)))?val:(val=callback.call(opt_this,getBottomRight(extent)))?val:(val=callback.call(opt_this,getTopRight(extent)))?val:(val=callback.call(opt_this,getTopLeft(extent)))||!1}function getArea(extent){var area=0;return isEmpty(extent)||(area=getWidth(extent)*getHeight(extent)),area}function getBottomLeft(extent){return[extent[0],extent[1]]}function getBottomRight(extent){return[extent[2],extent[1]]}function getCenter(extent){return[(extent[0]+extent[2])/2,(extent[1]+extent[3])/2]}function getCorner(extent,corner){var coordinate;return corner===Corner.BOTTOM_LEFT?coordinate=getBottomLeft(extent):corner===Corner.BOTTOM_RIGHT?coordinate=getBottomRight(extent):corner===Corner.TOP_LEFT?coordinate=getTopLeft(extent):corner===Corner.TOP_RIGHT?coordinate=getTopRight(extent):assert(!1,13),coordinate}function getEnlargedArea(extent1,extent2){var minX=Math.min(extent1[0],extent2[0]),minY=Math.min(extent1[1],extent2[1]);return(Math.max(extent1[2],extent2[2])-minX)*(Math.max(extent1[3],extent2[3])-minY)}function getForViewAndSize(center,resolution,rotation,size,opt_extent){var dx=resolution*size[0]/2,dy=resolution*size[1]/2,cosRotation=Math.cos(rotation),sinRotation=Math.sin(rotation),xCos=dx*cosRotation,xSin=dx*sinRotation,yCos=dy*cosRotation,ySin=dy*sinRotation,x=center[0],y=center[1],x0=x-xCos+ySin,x1=x-xCos-ySin,x2=x+xCos-ySin,x3=x+xCos+ySin,y0=y-xSin-yCos,y1=y-xSin+yCos,y2=y+xSin+yCos,y3=y+xSin-yCos;return createOrUpdate(Math.min(x0,x1,x2,x3),Math.min(y0,y1,y2,y3),Math.max(x0,x1,x2,x3),Math.max(y0,y1,y2,y3),opt_extent)}function getHeight(extent){return extent[3]-extent[1]}function getIntersectionArea(extent1,extent2){return getArea(getIntersection(extent1,extent2))}function getIntersection(extent1,extent2,opt_extent){var intersection=opt_extent||createEmpty();return intersects(extent1,extent2)?(extent1[0]>extent2[0]?intersection[0]=extent1[0]:intersection[0]=extent2[0],extent1[1]>extent2[1]?intersection[1]=extent1[1]:intersection[1]=extent2[1],extent1[2]<extent2[2]?intersection[2]=extent1[2]:intersection[2]=extent2[2],extent1[3]<extent2[3]?intersection[3]=extent1[3]:intersection[3]=extent2[3]):createOrUpdateEmpty(intersection),intersection}function getMargin(extent){return getWidth(extent)+getHeight(extent)}function getSize(extent){return[extent[2]-extent[0],extent[3]-extent[1]]}function getTopLeft(extent){return[extent[0],extent[3]]}function getTopRight(extent){return[extent[2],extent[3]]}function getWidth(extent){return extent[2]-extent[0]}function intersects(extent1,extent2){return extent1[0]<=extent2[2]&&extent1[2]>=extent2[0]&&extent1[1]<=extent2[3]&&extent1[3]>=extent2[1]}function isEmpty(extent){return extent[2]<extent[0]||extent[3]<extent[1]}function returnOrUpdate(extent,opt_extent){return opt_extent?(opt_extent[0]=extent[0],opt_extent[1]=extent[1],opt_extent[2]=extent[2],opt_extent[3]=extent[3],opt_extent):extent}function scaleFromCenter(extent,value){var deltaX=(extent[2]-extent[0])/2*(value-1),deltaY=(extent[3]-extent[1])/2*(value-1);extent[0]-=deltaX,extent[2]+=deltaX,extent[1]-=deltaY,extent[3]+=deltaY}function intersectsSegment(extent,start,end){var intersects=!1,startRel=coordinateRelationship(extent,start),endRel=coordinateRelationship(extent,end);if(startRel===Relationship.INTERSECTING||endRel===Relationship.INTERSECTING)intersects=!0;else{var x,y,minX=extent[0],minY=extent[1],maxX=extent[2],maxY=extent[3],startX=start[0],startY=start[1],endX=end[0],endY=end[1],slope=(endY-startY)/(endX-startX);endRel&Relationship.ABOVE&&!(startRel&Relationship.ABOVE)&&(x=endX-(endY-maxY)/slope,intersects=x>=minX&&x<=maxX),intersects||!(endRel&Relationship.RIGHT)||startRel&Relationship.RIGHT||(y=endY-(endX-maxX)*slope,intersects=y>=minY&&y<=maxY),intersects||!(endRel&Relationship.BELOW)||startRel&Relationship.BELOW||(x=endX-(endY-minY)/slope,intersects=x>=minX&&x<=maxX),intersects||!(endRel&Relationship.LEFT)||startRel&Relationship.LEFT||(y=endY-(endX-minX)*slope,intersects=y>=minY&&y<=maxY)}return intersects}function applyTransform(extent,transformFn,opt_extent){var coordinates=[extent[0],extent[1],extent[0],extent[3],extent[2],extent[1],extent[2],extent[3]];return transformFn(coordinates,coordinates,2),_boundingExtentXYs([coordinates[0],coordinates[2],coordinates[4],coordinates[6]],[coordinates[1],coordinates[3],coordinates[5],coordinates[7]],opt_extent)}var assert,Corner,Relationship;return $__export("boundingExtent",boundingExtent),$__export("buffer",buffer),$__export("clone",clone),$__export("closestSquaredDistanceXY",closestSquaredDistanceXY),$__export("containsCoordinate",containsCoordinate),$__export("containsExtent",containsExtent),$__export("containsXY",containsXY),$__export("coordinateRelationship",coordinateRelationship),$__export("createEmpty",createEmpty),$__export("createOrUpdate",createOrUpdate),$__export("createOrUpdateEmpty",createOrUpdateEmpty),$__export("createOrUpdateFromCoordinate",createOrUpdateFromCoordinate),$__export("createOrUpdateFromCoordinates",createOrUpdateFromCoordinates),$__export("createOrUpdateFromFlatCoordinates",createOrUpdateFromFlatCoordinates),$__export("createOrUpdateFromRings",createOrUpdateFromRings),$__export("equals",equals),$__export("extend",extend),$__export("extendCoordinate",extendCoordinate),$__export("extendCoordinates",extendCoordinates),$__export("extendFlatCoordinates",extendFlatCoordinates),$__export("extendRings",extendRings),$__export("extendXY",extendXY),$__export("forEachCorner",forEachCorner),$__export("getArea",getArea),$__export("getBottomLeft",getBottomLeft),$__export("getBottomRight",getBottomRight),$__export("getCenter",getCenter),$__export("getCorner",getCorner),$__export("getEnlargedArea",getEnlargedArea),$__export("getForViewAndSize",getForViewAndSize),$__export("getHeight",getHeight),$__export("getIntersectionArea",getIntersectionArea),$__export("getIntersection",getIntersection),$__export("getMargin",getMargin),$__export("getSize",getSize),$__export("getTopLeft",getTopLeft),$__export("getTopRight",getTopRight),$__export("getWidth",getWidth),$__export("intersects",intersects),$__export("isEmpty",isEmpty),$__export("returnOrUpdate",returnOrUpdate),$__export("scaleFromCenter",scaleFromCenter),$__export("intersectsSegment",intersectsSegment),$__export("applyTransform",applyTransform),{setters:[function($__m){assert=$__m.assert},function($__m){Corner=$__m.default},function($__m){Relationship=$__m.default}],execute:function(){}}}),$__System.register("74",["1a"],function($__export){"use strict";function linearRingContainsExtent(flatCoordinates,offset,end,stride,extent){return!forEachCorner(extent,function(coordinate){return!linearRingContainsXY(flatCoordinates,offset,end,stride,coordinate[0],coordinate[1])})}function linearRingContainsXY(flatCoordinates,offset,end,stride,x,y){for(var wn=0,x1=flatCoordinates[end-stride],y1=flatCoordinates[end-stride+1];offset<end;offset+=stride){var x2=flatCoordinates[offset],y2=flatCoordinates[offset+1];y1<=y?y2>y&&(x2-x1)*(y-y1)-(x-x1)*(y2-y1)>0&&wn++:y2<=y&&(x2-x1)*(y-y1)-(x-x1)*(y2-y1)<0&&wn--,x1=x2,y1=y2}return 0!==wn}function linearRingsContainsXY(flatCoordinates,offset,ends,stride,x,y){if(0===ends.length)return!1;if(!linearRingContainsXY(flatCoordinates,offset,ends[0],stride,x,y))return!1;for(var i=1,ii=ends.length;i<ii;++i)if(linearRingContainsXY(flatCoordinates,ends[i-1],ends[i],stride,x,y))return!1;return!0}function linearRingssContainsXY(flatCoordinates,offset,endss,stride,x,y){if(0===endss.length)return!1;for(var i=0,ii=endss.length;i<ii;++i){var ends=endss[i];if(linearRingsContainsXY(flatCoordinates,offset,ends,stride,x,y))return!0;offset=ends[ends.length-1]}return!1}var forEachCorner;return $__export("linearRingContainsExtent",linearRingContainsExtent),$__export("linearRingContainsXY",linearRingContainsXY),$__export("linearRingsContainsXY",linearRingsContainsXY),$__export("linearRingssContainsXY",linearRingssContainsXY),{setters:[function($__m){forEachCorner=$__m.forEachCorner}],execute:function(){}}}),$__System.register("76",[],function($__export){"use strict";function forEach(flatCoordinates,offset,end,stride,callback,opt_this){for(var ret,point1=[flatCoordinates[offset],flatCoordinates[offset+1]],point2=[];offset+stride<end;offset+=stride){if(point2[0]=flatCoordinates[offset+stride],point2[1]=flatCoordinates[offset+stride+1],ret=callback.call(opt_this,point1,point2))return ret;point1[0]=point2[0],point1[1]=point2[1]}return!1}return $__export("forEach",forEach),{setters:[],execute:function(){}}}),$__System.register("77",["1a","74","76"],function($__export){"use strict";function intersectsLineString(flatCoordinates,offset,end,stride,extent){var coordinatesExtent=extendFlatCoordinates(createEmpty(),flatCoordinates,offset,end,stride);return!!intersects(extent,coordinatesExtent)&&(!!containsExtent(extent,coordinatesExtent)||(coordinatesExtent[0]>=extent[0]&&coordinatesExtent[2]<=extent[2]||(coordinatesExtent[1]>=extent[1]&&coordinatesExtent[3]<=extent[3]||forEachSegment(flatCoordinates,offset,end,stride,function(point1,point2){return intersectsSegment(extent,point1,point2)}))))}function intersectsLineStringArray(flatCoordinates,offset,ends,stride,extent){for(var i=0,ii=ends.length;i<ii;++i){if(intersectsLineString(flatCoordinates,offset,ends[i],stride,extent))return!0;offset=ends[i]}return!1}function intersectsLinearRing(flatCoordinates,offset,end,stride,extent){return!!intersectsLineString(flatCoordinates,offset,end,stride,extent)||(!!linearRingContainsXY(flatCoordinates,offset,end,stride,extent[0],extent[1])||(!!linearRingContainsXY(flatCoordinates,offset,end,stride,extent[0],extent[3])||(!!linearRingContainsXY(flatCoordinates,offset,end,stride,extent[2],extent[1])||!!linearRingContainsXY(flatCoordinates,offset,end,stride,extent[2],extent[3]))))}function intersectsLinearRingArray(flatCoordinates,offset,ends,stride,extent){if(!intersectsLinearRing(flatCoordinates,offset,ends[0],stride,extent))return!1;if(1===ends.length)return!0;for(var i=1,ii=ends.length;i<ii;++i)if(linearRingContainsExtent(flatCoordinates,ends[i-1],ends[i],stride,extent))return!1;return!0}function intersectsLinearRingMultiArray(flatCoordinates,offset,endss,stride,extent){for(var i=0,ii=endss.length;i<ii;++i){var ends=endss[i];if(intersectsLinearRingArray(flatCoordinates,offset,ends,stride,extent))return!0;offset=ends[ends.length-1]}return!1}var containsExtent,createEmpty,extendFlatCoordinates,intersects,intersectsSegment,linearRingContainsXY,linearRingContainsExtent,forEachSegment;return $__export("intersectsLineString",intersectsLineString),$__export("intersectsLineStringArray",intersectsLineStringArray),$__export("intersectsLinearRing",intersectsLinearRing),$__export("intersectsLinearRingArray",intersectsLinearRingArray),$__export("intersectsLinearRingMultiArray",intersectsLinearRingMultiArray),{setters:[function($__m){containsExtent=$__m.containsExtent,createEmpty=$__m.createEmpty,extendFlatCoordinates=$__m.extendFlatCoordinates,intersects=$__m.intersects,intersectsSegment=$__m.intersectsSegment},function($__m){linearRingContainsXY=$__m.linearRingContainsXY,linearRingContainsExtent=$__m.linearRingContainsExtent},function($__m){forEachSegment=$__m.forEach}],execute:function(){}}}),$__System.register("78",[],function($__export){"use strict";function coordinates(flatCoordinates,offset,end,stride){for(;offset<end-stride;){for(var i=0;i<stride;++i){var tmp=flatCoordinates[offset+i];flatCoordinates[offset+i]=flatCoordinates[end-stride+i],flatCoordinates[end-stride+i]=tmp}offset+=stride,end-=stride}}return $__export("coordinates",coordinates),{setters:[],execute:function(){}}}),$__System.register("79",["78"],function($__export){"use strict";function linearRingIsClockwise(flatCoordinates,offset,end,stride){for(var edge=0,x1=flatCoordinates[end-stride],y1=flatCoordinates[end-stride+1];offset<end;offset+=stride){var x2=flatCoordinates[offset],y2=flatCoordinates[offset+1];edge+=(x2-x1)*(y2+y1),x1=x2,y1=y2}return edge>0}function linearRingIsOriented(flatCoordinates,offset,ends,stride,opt_right){for(var right=void 0!==opt_right&&opt_right,i=0,ii=ends.length;i<ii;++i){var end=ends[i],isClockwise=linearRingIsClockwise(flatCoordinates,offset,end,stride);if(0===i){if(right&&isClockwise||!right&&!isClockwise)return!1}else if(right&&!isClockwise||!right&&isClockwise)return!1;offset=end}return!0}function linearRingsAreOriented(flatCoordinates,offset,endss,stride,opt_right){for(var i=0,ii=endss.length;i<ii;++i)if(!linearRingIsOriented(flatCoordinates,offset,endss[i],stride,opt_right))return!1;return!0}function orientLinearRings(flatCoordinates,offset,ends,stride,opt_right){for(var right=void 0!==opt_right&&opt_right,i=0,ii=ends.length;i<ii;++i){var end=ends[i],isClockwise=linearRingIsClockwise(flatCoordinates,offset,end,stride);(0===i?right&&isClockwise||!right&&!isClockwise:right&&!isClockwise||!right&&isClockwise)&&reverseCoordinates(flatCoordinates,offset,end,stride),offset=end}return offset}function orientLinearRingsArray(flatCoordinates,offset,endss,stride,opt_right){for(var i=0,ii=endss.length;i<ii;++i)offset=orientLinearRings(flatCoordinates,offset,endss[i],stride,opt_right);return offset}var reverseCoordinates;return $__export("linearRingIsClockwise",linearRingIsClockwise),$__export("linearRingIsOriented",linearRingIsOriented),$__export("linearRingsAreOriented",linearRingsAreOriented),$__export("orientLinearRings",orientLinearRings),$__export("orientLinearRingsArray",orientLinearRingsArray),{setters:[function($__m){reverseCoordinates=$__m.coordinates}],execute:function(){}}}),$__System.register("69",["1b"],function($__export){"use strict";function simplifyLineString(flatCoordinates,offset,end,stride,squaredTolerance,highQuality,opt_simplifiedFlatCoordinates){var simplifiedFlatCoordinates=void 0!==opt_simplifiedFlatCoordinates?opt_simplifiedFlatCoordinates:[];return highQuality||(end=radialDistance(flatCoordinates,offset,end,stride,squaredTolerance,simplifiedFlatCoordinates,0),flatCoordinates=simplifiedFlatCoordinates,offset=0,stride=2),simplifiedFlatCoordinates.length=douglasPeucker(flatCoordinates,offset,end,stride,squaredTolerance,simplifiedFlatCoordinates,0),simplifiedFlatCoordinates}function douglasPeucker(flatCoordinates,offset,end,stride,squaredTolerance,simplifiedFlatCoordinates,simplifiedOffset){var n=(end-offset)/stride;if(n<3){for(;offset<end;offset+=stride)simplifiedFlatCoordinates[simplifiedOffset++]=flatCoordinates[offset],simplifiedFlatCoordinates[simplifiedOffset++]=flatCoordinates[offset+1];return simplifiedOffset}var markers=new Array(n);markers[0]=1,markers[n-1]=1;for(var stack=[offset,end-stride],index=0;stack.length>0;){for(var last=stack.pop(),first=stack.pop(),maxSquaredDistance=0,x1=flatCoordinates[first],y1=flatCoordinates[first+1],x2=flatCoordinates[last],y2=flatCoordinates[last+1],i=first+stride;i<last;i+=stride){var x=flatCoordinates[i],y=flatCoordinates[i+1],squaredDistance$__1=squaredSegmentDistance(x,y,x1,y1,x2,y2);squaredDistance$__1>maxSquaredDistance&&(index=i,maxSquaredDistance=squaredDistance$__1)}maxSquaredDistance>squaredTolerance&&(markers[(index-offset)/stride]=1,first+stride<index&&stack.push(first,index),index+stride<last&&stack.push(index,last))}for(var i$__2=0;i$__2<n;++i$__2)markers[i$__2]&&(simplifiedFlatCoordinates[simplifiedOffset++]=flatCoordinates[offset+i$__2*stride],simplifiedFlatCoordinates[simplifiedOffset++]=flatCoordinates[offset+i$__2*stride+1]);return simplifiedOffset}function douglasPeuckerArray(flatCoordinates,offset,ends,stride,squaredTolerance,simplifiedFlatCoordinates,simplifiedOffset,simplifiedEnds){for(var i=0,ii=ends.length;i<ii;++i){var end=ends[i];simplifiedOffset=douglasPeucker(flatCoordinates,offset,end,stride,squaredTolerance,simplifiedFlatCoordinates,simplifiedOffset),simplifiedEnds.push(simplifiedOffset),offset=end}return simplifiedOffset}function douglasPeuckerMultiArray(flatCoordinates,offset,endss,stride,squaredTolerance,simplifiedFlatCoordinates,simplifiedOffset,simplifiedEndss){for(var i=0,ii=endss.length;i<ii;++i){var ends=endss[i],simplifiedEnds=[];simplifiedOffset=douglasPeuckerArray(flatCoordinates,offset,ends,stride,squaredTolerance,simplifiedFlatCoordinates,simplifiedOffset,simplifiedEnds),simplifiedEndss.push(simplifiedEnds),offset=ends[ends.length-1]}return simplifiedOffset}function radialDistance(flatCoordinates,offset,end,stride,squaredTolerance,simplifiedFlatCoordinates,simplifiedOffset){if(end<=offset+stride){for(;offset<end;offset+=stride)simplifiedFlatCoordinates[simplifiedOffset++]=flatCoordinates[offset],simplifiedFlatCoordinates[simplifiedOffset++]=flatCoordinates[offset+1];return simplifiedOffset}var x1=flatCoordinates[offset],y1=flatCoordinates[offset+1];simplifiedFlatCoordinates[simplifiedOffset++]=x1,simplifiedFlatCoordinates[simplifiedOffset++]=y1;var x2=x1,y2=y1;for(offset+=stride;offset<end;offset+=stride)x2=flatCoordinates[offset],y2=flatCoordinates[offset+1],squaredDistance(x1,y1,x2,y2)>squaredTolerance&&(simplifiedFlatCoordinates[simplifiedOffset++]=x2,simplifiedFlatCoordinates[simplifiedOffset++]=y2,x1=x2,y1=y2);return x2==x1&&y2==y1||(simplifiedFlatCoordinates[simplifiedOffset++]=x2,simplifiedFlatCoordinates[simplifiedOffset++]=y2),simplifiedOffset}function snap(value,tolerance){return tolerance*Math.round(value/tolerance)}function quantize(flatCoordinates,offset,end,stride,tolerance,simplifiedFlatCoordinates,simplifiedOffset){if(offset==end)return simplifiedOffset;var x1=snap(flatCoordinates[offset],tolerance),y1=snap(flatCoordinates[offset+1],tolerance);offset+=stride,simplifiedFlatCoordinates[simplifiedOffset++]=x1,simplifiedFlatCoordinates[simplifiedOffset++]=y1;var x2,y2;do{if(x2=snap(flatCoordinates[offset],tolerance),y2=snap(flatCoordinates[offset+1],tolerance),(offset+=stride)==end)return simplifiedFlatCoordinates[simplifiedOffset++]=x2,simplifiedFlatCoordinates[simplifiedOffset++]=y2,simplifiedOffset}while(x2==x1&&y2==y1);for(;offset<end;){var x3=snap(flatCoordinates[offset],tolerance),y3=snap(flatCoordinates[offset+1],tolerance);if(offset+=stride,x3!=x2||y3!=y2){var dx1=x2-x1,dy1=y2-y1,dx2=x3-x1,dy2=y3-y1;dx1*dy2==dy1*dx2&&(dx1<0&&dx2<dx1||dx1==dx2||dx1>0&&dx2>dx1)&&(dy1<0&&dy2<dy1||dy1==dy2||dy1>0&&dy2>dy1)?(x2=x3,y2=y3):(simplifiedFlatCoordinates[simplifiedOffset++]=x2,simplifiedFlatCoordinates[simplifiedOffset++]=y2,x1=x2,y1=y2,x2=x3,y2=y3)}}return simplifiedFlatCoordinates[simplifiedOffset++]=x2,simplifiedFlatCoordinates[simplifiedOffset++]=y2,simplifiedOffset}function quantizeArray(flatCoordinates,offset,ends,stride,tolerance,simplifiedFlatCoordinates,simplifiedOffset,simplifiedEnds){for(var i=0,ii=ends.length;i<ii;++i){var end=ends[i];simplifiedOffset=quantize(flatCoordinates,offset,end,stride,tolerance,simplifiedFlatCoordinates,simplifiedOffset),simplifiedEnds.push(simplifiedOffset),offset=end}return simplifiedOffset}function quantizeMultiArray(flatCoordinates,offset,endss,stride,tolerance,simplifiedFlatCoordinates,simplifiedOffset,simplifiedEndss){for(var i=0,ii=endss.length;i<ii;++i){var ends=endss[i],simplifiedEnds=[];simplifiedOffset=quantizeArray(flatCoordinates,offset,ends,stride,tolerance,simplifiedFlatCoordinates,simplifiedOffset,simplifiedEnds),simplifiedEndss.push(simplifiedEnds),offset=ends[ends.length-1]}return simplifiedOffset}var squaredSegmentDistance,squaredDistance;return $__export("simplifyLineString",simplifyLineString),$__export("douglasPeucker",douglasPeucker),$__export("douglasPeuckerArray",douglasPeuckerArray),$__export("douglasPeuckerMultiArray",douglasPeuckerMultiArray),$__export("radialDistance",radialDistance),$__export("snap",snap),$__export("quantize",quantize),$__export("quantizeArray",quantizeArray),$__export("quantizeMultiArray",quantizeMultiArray),{setters:[function($__m){squaredSegmentDistance=$__m.squaredSegmentDistance,squaredDistance=$__m.squaredDistance}],execute:function(){}}}),$__System.register("7a",["10","2f","1a","63","53","62","3b","64","70","65","66","74","67","68","73","77","79","69","1b"],function($__export){"use strict";function circular(center,radius,opt_n,opt_sphereRadius){for(var n=opt_n||32,flatCoordinates=[],i=0;i<n;++i)extend(flatCoordinates,sphereOffset(center,radius,2*Math.PI*i/n,opt_sphereRadius));flatCoordinates.push(flatCoordinates[0],flatCoordinates[1]);var polygon=new Polygon(null);return polygon.setFlatCoordinates(GeometryLayout.XY,flatCoordinates,[flatCoordinates.length]),polygon}function fromExtent(extent){var minX=extent[0],minY=extent[1],maxX=extent[2],maxY=extent[3],flatCoordinates=[minX,minY,minX,maxY,maxX,maxY,maxX,minY,minX,minY],polygon=new Polygon(null);return polygon.setFlatCoordinates(GeometryLayout.XY,flatCoordinates,[flatCoordinates.length]),polygon}function fromCircle(circle,opt_sides,opt_angle){for(var sides=opt_sides||32,stride=circle.getStride(),layout=circle.getLayout(),polygon=new Polygon(null,layout),arrayLength=stride*(sides+1),flatCoordinates=new Array(arrayLength),i=0;i<arrayLength;i++)flatCoordinates[i]=0;var ends=[flatCoordinates.length];return polygon.setFlatCoordinates(layout,flatCoordinates,ends),makeRegular(polygon,circle.getCenter(),circle.getRadius(),opt_angle),polygon}function makeRegular(polygon,center,radius,opt_angle){for(var flatCoordinates=polygon.getFlatCoordinates(),layout=polygon.getLayout(),stride=polygon.getStride(),ends=polygon.getEnds(),sides=flatCoordinates.length/stride-1,startAngle=opt_angle||0,i=0;i<=sides;++i){var offset=i*stride,angle=startAngle+2*modulo(i,sides)*Math.PI/sides;flatCoordinates[offset]=center[0]+radius*Math.cos(angle),flatCoordinates[offset+1]=center[1]+radius*Math.sin(angle)}polygon.setFlatCoordinates(layout,flatCoordinates,ends)}var inherits,extend,closestSquaredDistanceXY,getCenter,GeometryLayout,GeometryType,LinearRing,Point,SimpleGeometry,sphereOffset,linearRingsArea,assignClosestArrayPoint,arrayMaxSquaredDelta,linearRingsContainsXY,deflateCoordinatesArray,inflateCoordinatesArray,getInteriorPointOfArray,intersectsLinearRingArray,linearRingIsOriented,orientLinearRings,quantizeArray,modulo,Polygon;return $__export("circular",circular),$__export("fromExtent",fromExtent),$__export("fromCircle",fromCircle),$__export("makeRegular",makeRegular),{setters:[function($__m){inherits=$__m.inherits},function($__m){extend=$__m.extend},function($__m){closestSquaredDistanceXY=$__m.closestSquaredDistanceXY,getCenter=$__m.getCenter},function($__m){GeometryLayout=$__m.default},function($__m){GeometryType=$__m.default},function($__m){LinearRing=$__m.default},function($__m){Point=$__m.default},function($__m){SimpleGeometry=$__m.default},function($__m){sphereOffset=$__m.offset},function($__m){linearRingsArea=$__m.linearRings},function($__m){assignClosestArrayPoint=$__m.assignClosestArrayPoint,arrayMaxSquaredDelta=$__m.arrayMaxSquaredDelta},function($__m){linearRingsContainsXY=$__m.linearRingsContainsXY},function($__m){deflateCoordinatesArray=$__m.deflateCoordinatesArray},function($__m){inflateCoordinatesArray=$__m.inflateCoordinatesArray},function($__m){getInteriorPointOfArray=$__m.getInteriorPointOfArray},function($__m){intersectsLinearRingArray=$__m.intersectsLinearRingArray},function($__m){linearRingIsOriented=$__m.linearRingIsOriented,orientLinearRings=$__m.orientLinearRings},function($__m){quantizeArray=$__m.quantizeArray},function($__m){modulo=$__m.modulo}],execute:function(){Polygon=function(coordinates,opt_layout){SimpleGeometry.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,this.setCoordinates(coordinates,opt_layout)},inherits(Polygon,SimpleGeometry),Polygon.prototype.appendLinearRing=function(linearRing){this.flatCoordinates?extend(this.flatCoordinates,linearRing.getFlatCoordinates()):this.flatCoordinates=linearRing.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},Polygon.prototype.clone=function(){var polygon=new Polygon(null);return polygon.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice()),polygon},Polygon.prototype.closestPointXY=function(x,y,closestPoint,minSquaredDistance){return minSquaredDistance<closestSquaredDistanceXY(this.getExtent(),x,y)?minSquaredDistance:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(arrayMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),assignClosestArrayPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,x,y,closestPoint,minSquaredDistance))},Polygon.prototype.containsXY=function(x,y){return linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,x,y)},Polygon.prototype.getArea=function(){return linearRingsArea(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},Polygon.prototype.getCoordinates=function(opt_right){var flatCoordinates;return void 0!==opt_right?(flatCoordinates=this.getOrientedFlatCoordinates().slice(),orientLinearRings(flatCoordinates,0,this.ends_,this.stride,opt_right)):flatCoordinates=this.flatCoordinates,inflateCoordinatesArray(flatCoordinates,0,this.ends_,this.stride)},Polygon.prototype.getEnds=function(){return this.ends_},Polygon.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var flatCenter=getCenter(this.getExtent());this.flatInteriorPoint_=getInteriorPointOfArray(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,flatCenter,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},Polygon.prototype.getInteriorPoint=function(){return new Point(this.getFlatInteriorPoint(),GeometryLayout.XYM)},Polygon.prototype.getLinearRingCount=function(){return this.ends_.length},Polygon.prototype.getLinearRing=function(index){if(index<0||this.ends_.length<=index)return null;var linearRing=new LinearRing(null);return linearRing.setFlatCoordinates(this.layout,this.flatCoordinates.slice(0===index?0:this.ends_[index-1],this.ends_[index])),linearRing},Polygon.prototype.getLinearRings=function(){for(var layout=this.layout,flatCoordinates=this.flatCoordinates,ends=this.ends_,linearRings=[],offset=0,i=0,ii=ends.length;i<ii;++i){var end=ends[i],linearRing=new LinearRing(null);linearRing.setFlatCoordinates(layout,flatCoordinates.slice(offset,end)),linearRings.push(linearRing),offset=end}return linearRings},Polygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var flatCoordinates=this.flatCoordinates;linearRingIsOriented(flatCoordinates,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=flatCoordinates:(this.orientedFlatCoordinates_=flatCoordinates.slice(),this.orientedFlatCoordinates_.length=orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},Polygon.prototype.getSimplifiedGeometryInternal=function(squaredTolerance){var simplifiedFlatCoordinates=[],simplifiedEnds=[];simplifiedFlatCoordinates.length=quantizeArray(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(squaredTolerance),simplifiedFlatCoordinates,0,simplifiedEnds);var simplifiedPolygon=new Polygon(null);return simplifiedPolygon.setFlatCoordinates(GeometryLayout.XY,simplifiedFlatCoordinates,simplifiedEnds),simplifiedPolygon},Polygon.prototype.getType=function(){return GeometryType.POLYGON},Polygon.prototype.intersectsExtent=function(extent){return intersectsLinearRingArray(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,extent)},Polygon.prototype.setCoordinates=function(coordinates,opt_layout){if(coordinates){this.setLayout(opt_layout,coordinates,2),this.flatCoordinates||(this.flatCoordinates=[]);var ends=deflateCoordinatesArray(this.flatCoordinates,0,coordinates,this.stride,this.ends_);this.flatCoordinates.length=0===ends.length?0:ends[ends.length-1],this.changed()}else this.setFlatCoordinates(GeometryLayout.XY,null,this.ends_)},Polygon.prototype.setFlatCoordinates=function(layout,flatCoordinates,ends){this.setFlatCoordinatesInternal(layout,flatCoordinates),this.ends_=ends,this.changed()},$__export("default",Polygon)}}}),$__System.register("53",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"})}}}),$__System.register("7b",["7c"],function($__export){"use strict";function asColorLike(color){return isColorLike(color)?color:toString(color)}function isColorLike(color){return"string"==typeof color||color instanceof CanvasPattern||color instanceof CanvasGradient}var toString;return $__export("asColorLike",asColorLike),$__export("isColorLike",isColorLike),{setters:[function($__m){toString=$__m.toString}],execute:function(){}}}),$__System.register("7d",[],function($__export){"use strict";function getContext(canvas,opt_attributes){for(var ii=CONTEXT_IDS.length,i=0;i<ii;++i)try{var context=canvas.getContext(CONTEXT_IDS[i],opt_attributes);if(context)return context}catch(e){}return null}var ONE,SRC_ALPHA,COLOR_ATTACHMENT0,COLOR_BUFFER_BIT,TRIANGLES,TRIANGLE_STRIP,ONE_MINUS_SRC_ALPHA,ARRAY_BUFFER,ELEMENT_ARRAY_BUFFER,STREAM_DRAW,STATIC_DRAW,DYNAMIC_DRAW,CULL_FACE,BLEND,STENCIL_TEST,DEPTH_TEST,SCISSOR_TEST,UNSIGNED_BYTE,UNSIGNED_SHORT,UNSIGNED_INT,FLOAT,RGBA,FRAGMENT_SHADER,VERTEX_SHADER,LINK_STATUS,LINEAR,TEXTURE_MAG_FILTER,TEXTURE_MIN_FILTER,TEXTURE_WRAP_S,TEXTURE_WRAP_T,TEXTURE_2D,TEXTURE0,CLAMP_TO_EDGE,COMPILE_STATUS,FRAMEBUFFER,CONTEXT_IDS,DEBUG,MAX_TEXTURE_SIZE,EXTENSIONS,HAS;return $__export("getContext",getContext),{setters:[],execute:function(){if(ONE=1,$__export("ONE",ONE),SRC_ALPHA=770,$__export("SRC_ALPHA",SRC_ALPHA),COLOR_ATTACHMENT0=36064,$__export("COLOR_ATTACHMENT0",COLOR_ATTACHMENT0),COLOR_BUFFER_BIT=16384,$__export("COLOR_BUFFER_BIT",COLOR_BUFFER_BIT),TRIANGLES=4,$__export("TRIANGLES",TRIANGLES),TRIANGLE_STRIP=5,$__export("TRIANGLE_STRIP",TRIANGLE_STRIP),ONE_MINUS_SRC_ALPHA=771,$__export("ONE_MINUS_SRC_ALPHA",ONE_MINUS_SRC_ALPHA),ARRAY_BUFFER=34962,$__export("ARRAY_BUFFER",ARRAY_BUFFER),ELEMENT_ARRAY_BUFFER=34963,$__export("ELEMENT_ARRAY_BUFFER",ELEMENT_ARRAY_BUFFER),STREAM_DRAW=35040,$__export("STREAM_DRAW",STREAM_DRAW),STATIC_DRAW=35044,$__export("STATIC_DRAW",STATIC_DRAW),DYNAMIC_DRAW=35048,$__export("DYNAMIC_DRAW",DYNAMIC_DRAW),CULL_FACE=2884,$__export("CULL_FACE",CULL_FACE),BLEND=3042,$__export("BLEND",BLEND),STENCIL_TEST=2960,$__export("STENCIL_TEST",STENCIL_TEST),DEPTH_TEST=2929,$__export("DEPTH_TEST",DEPTH_TEST),SCISSOR_TEST=3089,$__export("SCISSOR_TEST",SCISSOR_TEST),UNSIGNED_BYTE=5121,$__export("UNSIGNED_BYTE",UNSIGNED_BYTE),UNSIGNED_SHORT=5123,$__export("UNSIGNED_SHORT",UNSIGNED_SHORT),UNSIGNED_INT=5125,$__export("UNSIGNED_INT",UNSIGNED_INT),FLOAT=5126,$__export("FLOAT",FLOAT),RGBA=6408,$__export("RGBA",RGBA),FRAGMENT_SHADER=35632,$__export("FRAGMENT_SHADER",FRAGMENT_SHADER),VERTEX_SHADER=35633,$__export("VERTEX_SHADER",VERTEX_SHADER),LINK_STATUS=35714,$__export("LINK_STATUS",LINK_STATUS),LINEAR=9729,$__export("LINEAR",LINEAR),TEXTURE_MAG_FILTER=10240,$__export("TEXTURE_MAG_FILTER",TEXTURE_MAG_FILTER),TEXTURE_MIN_FILTER=10241,$__export("TEXTURE_MIN_FILTER",TEXTURE_MIN_FILTER),TEXTURE_WRAP_S=10242,$__export("TEXTURE_WRAP_S",TEXTURE_WRAP_S),TEXTURE_WRAP_T=10243,$__export("TEXTURE_WRAP_T",TEXTURE_WRAP_T),TEXTURE_2D=3553,$__export("TEXTURE_2D",TEXTURE_2D),TEXTURE0=33984,$__export("TEXTURE0",TEXTURE0),CLAMP_TO_EDGE=33071,$__export("CLAMP_TO_EDGE",CLAMP_TO_EDGE),COMPILE_STATUS=35713,$__export("COMPILE_STATUS",COMPILE_STATUS),FRAMEBUFFER=36160,$__export("FRAMEBUFFER",FRAMEBUFFER),CONTEXT_IDS=["experimental-webgl","webgl","webkit-3d","moz-webgl"],DEBUG=!0,$__export("DEBUG",DEBUG),HAS=!1,"undefined"!=typeof window&&"WebGLRenderingContext"in window)try{var canvas=document.createElement("CANVAS"),gl=getContext(canvas,{failIfMajorPerformanceCaveat:!0});gl&&($__export("HAS",HAS=!0),$__export("MAX_TEXTURE_SIZE",MAX_TEXTURE_SIZE=gl.getParameter(gl.MAX_TEXTURE_SIZE)),$__export("EXTENSIONS",EXTENSIONS=gl.getSupportedExtensions()))}catch(e){}$__export("HAS",HAS),$__export("MAX_TEXTURE_SIZE",MAX_TEXTURE_SIZE),$__export("EXTENSIONS",EXTENSIONS)}}}),$__System.register("55",["7d"],function($__export){"use strict";var ua,FIREFOX,SAFARI,WEBKIT,MAC,DEVICE_PIXEL_RATIO,CANVAS_LINE_DASH,GEOLOCATION,TOUCH,POINTER,MSPOINTER;return{setters:[function($__m){$__export({WEBGL:$__m.HAS})}],execute:function(){ua="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",FIREFOX=-1!==ua.indexOf("firefox"),$__export("FIREFOX",FIREFOX),SAFARI=-1!==ua.indexOf("safari")&&-1==ua.indexOf("chrom"),$__export("SAFARI",SAFARI),WEBKIT=-1!==ua.indexOf("webkit")&&-1==ua.indexOf("edge"),$__export("WEBKIT",WEBKIT),MAC=-1!==ua.indexOf("macintosh"),$__export("MAC",MAC),DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,$__export("DEVICE_PIXEL_RATIO",DEVICE_PIXEL_RATIO),CANVAS_LINE_DASH=function(){var has=!1;try{has=!!document.createElement("CANVAS").getContext("2d").setLineDash}catch(e){}return has}(),$__export("CANVAS_LINE_DASH",CANVAS_LINE_DASH),GEOLOCATION="geolocation"in navigator,$__export("GEOLOCATION",GEOLOCATION),TOUCH="ontouchstart"in window,$__export("TOUCH",TOUCH),POINTER="PointerEvent"in window,$__export("POINTER",POINTER),MSPOINTER=!!navigator.msPointerEnabled,$__export("MSPOINTER",MSPOINTER)}}}),$__System.register("5a",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{IDLE:0,LOADING:1,LOADED:2,ERROR:3})}}}),$__System.register("7e",[],function($__export){"use strict";var CLASS_HIDDEN,CLASS_SELECTABLE,CLASS_UNSELECTABLE,CLASS_UNSUPPORTED,CLASS_CONTROL,CLASS_COLLAPSED,getFontFamilies;return{setters:[],execute:function(){CLASS_HIDDEN="ol-hidden",$__export("CLASS_HIDDEN",CLASS_HIDDEN),CLASS_SELECTABLE="ol-selectable",$__export("CLASS_SELECTABLE",CLASS_SELECTABLE),CLASS_UNSELECTABLE="ol-unselectable",$__export("CLASS_UNSELECTABLE",CLASS_UNSELECTABLE),CLASS_UNSUPPORTED="ol-unsupported",$__export("CLASS_UNSUPPORTED",CLASS_UNSUPPORTED),CLASS_CONTROL="ol-control",$__export("CLASS_CONTROL",CLASS_CONTROL),CLASS_COLLAPSED="ol-collapsed",$__export("CLASS_COLLAPSED",CLASS_COLLAPSED),getFontFamilies=function(){var style,cache={};return function(font){if(style||(style=document.createElement("div").style),!(font in cache)){style.font=font;var family=style.fontFamily;if(style.font="",!family)return null;cache[font]=family.split(/,\s?/)}return cache[font]}}(),$__export("getFontFamilies",getFontFamilies)}}}),$__System.register("13",[],function($__export){"use strict";function createCanvasContext2D(opt_width,opt_height){var canvas=document.createElement("CANVAS");return opt_width&&(canvas.width=opt_width),opt_height&&(canvas.height=opt_height),canvas.getContext("2d")}function outerWidth(element){var width=element.offsetWidth,style=getComputedStyle(element);return width+=parseInt(style.marginLeft,10)+parseInt(style.marginRight,10)}function outerHeight(element){var height=element.offsetHeight,style=getComputedStyle(element);return height+=parseInt(style.marginTop,10)+parseInt(style.marginBottom,10)}function replaceNode(newNode,oldNode){var parent=oldNode.parentNode;parent&&parent.replaceChild(newNode,oldNode)}function removeNode(node){return node&&node.parentNode?node.parentNode.removeChild(node):null}function removeChildren(node){for(;node.lastChild;)node.removeChild(node.lastChild)}return $__export("createCanvasContext2D",createCanvasContext2D),$__export("outerWidth",outerWidth),$__export("outerHeight",outerHeight),$__export("replaceNode",replaceNode),$__export("removeNode",removeNode),$__export("removeChildren",removeChildren),{setters:[],execute:function(){}}}),$__System.register("7f",["24"],function($__export){"use strict";var UNDEFINED,Disposable;return{setters:[function($__m){UNDEFINED=$__m.UNDEFINED}],execute:function(){Disposable=function(){},Disposable.prototype.disposed_=!1,Disposable.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},Disposable.prototype.disposeInternal=UNDEFINED,$__export("default",Disposable)}}}),$__System.register("31",[],function($__export){"use strict";function clear(object){for(var property in object)delete object[property]}function getValues(object){var values=[];for(var property in object)values.push(object[property]);return values}function isEmpty(object){var property;for(property in object)return!1;return!property}var assign;return $__export("clear",clear),$__export("getValues",getValues),$__export("isEmpty",isEmpty),{setters:[],execute:function(){assign="function"==typeof Object.assign?Object.assign:function(target,var_sources){if(void 0===target||null===target)throw new TypeError("Cannot convert undefined or null to object");for(var output=Object(target),i=1,ii=arguments.length;i<ii;++i){var source=arguments[i];if(void 0!==source&&null!==source)for(var key in source)source.hasOwnProperty(key)&&(output[key]=source[key])}return output},$__export("assign",assign)}}}),$__System.register("14",["31"],function($__export){"use strict";function bindListener(listenerObj){var boundListener=function(evt){var listener=listenerObj.listener,bindTo=listenerObj.bindTo||listenerObj.target;return listenerObj.callOnce&&unlistenByKey(listenerObj),listener.call(bindTo,evt)};return listenerObj.boundListener=boundListener,boundListener}function findListener(listeners,listener,opt_this,opt_setDeleteIndex){for(var listenerObj,i=0,ii=listeners.length;i<ii;++i)if(listenerObj=listeners[i],listenerObj.listener===listener&&listenerObj.bindTo===opt_this)return opt_setDeleteIndex&&(listenerObj.deleteIndex=i),listenerObj}function getListeners(target,type){var listenerMap=target.ol_lm;return listenerMap?listenerMap[type]:void 0}function getListenerMap(target){var listenerMap=target.ol_lm;return listenerMap||(listenerMap=target.ol_lm={}),listenerMap}function removeListeners(target,type){var listeners=getListeners(target,type);if(listeners){for(var i=0,ii=listeners.length;i<ii;++i)target.removeEventListener(type,listeners[i].boundListener),clear(listeners[i]);listeners.length=0;var listenerMap=target.ol_lm;listenerMap&&(delete listenerMap[type],0===Object.keys(listenerMap).length&&delete target.ol_lm)}}function listen(target,type,listener,opt_this,opt_once){var listenerMap=getListenerMap(target),listeners=listenerMap[type];listeners||(listeners=listenerMap[type]=[]);var listenerObj=findListener(listeners,listener,opt_this,!1);return listenerObj?opt_once||(listenerObj.callOnce=!1):(listenerObj={bindTo:opt_this,callOnce:!!opt_once,listener:listener,target:target,type:type},target.addEventListener(type,bindListener(listenerObj)),listeners.push(listenerObj)),listenerObj}function listenOnce(target,type,listener,opt_this){return listen(target,type,listener,opt_this,!0)}function unlisten(target,type,listener,opt_this){var listeners=getListeners(target,type);if(listeners){var listenerObj=findListener(listeners,listener,opt_this,!0);listenerObj&&unlistenByKey(listenerObj)}}function unlistenByKey(key){if(key&&key.target){key.target.removeEventListener(key.type,key.boundListener);var listeners=getListeners(key.target,key.type);if(listeners){var i="deleteIndex"in key?key.deleteIndex:listeners.indexOf(key);-1!==i&&listeners.splice(i,1),0===listeners.length&&removeListeners(key.target,key.type)}clear(key)}}function unlistenAll(target){var listenerMap=getListenerMap(target);for(var type in listenerMap)removeListeners(target,type)}var clear;return $__export("bindListener",bindListener),$__export("findListener",findListener),$__export("getListeners",getListeners),$__export("listen",listen),$__export("listenOnce",listenOnce),$__export("unlisten",unlisten),$__export("unlistenByKey",unlistenByKey),$__export("unlistenAll",unlistenAll),{setters:[function($__m){clear=$__m.clear}],execute:function(){}}}),$__System.register("24",[],function($__export){"use strict";function TRUE(){return!0}function FALSE(){return!1}function UNDEFINED(){}return $__export("TRUE",TRUE),$__export("FALSE",FALSE),$__export("UNDEFINED",UNDEFINED),{setters:[],execute:function(){}}}),$__System.register("25",[],function($__export){"use strict";function stopPropagation(evt){evt.stopPropagation()}function preventDefault(evt){evt.preventDefault()}var Event;return $__export("stopPropagation",stopPropagation),$__export("preventDefault",preventDefault),{setters:[],execute:function(){Event=function(type){this.propagationStopped,this.type=type,this.target=null},Event.prototype.preventDefault=Event.prototype.stopPropagation=function(){this.propagationStopped=!0},$__export("default",Event)}}}),$__System.register("17",["10","7f","14","24","25"],function($__export){"use strict";var inherits,Disposable,unlistenAll,UNDEFINED,Event,EventTarget;return{setters:[function($__m){inherits=$__m.inherits},function($__m){Disposable=$__m.default},function($__m){unlistenAll=$__m.unlistenAll},function($__m){UNDEFINED=$__m.UNDEFINED},function($__m){Event=$__m.default}],execute:function(){EventTarget=function(){Disposable.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}},inherits(EventTarget,Disposable),EventTarget.prototype.addEventListener=function(type,listener){var listeners=this.listeners_[type];listeners||(listeners=this.listeners_[type]=[]),-1===listeners.indexOf(listener)&&listeners.push(listener)},EventTarget.prototype.dispatchEvent=function(event){var evt="string"==typeof event?new Event(event):event,type=evt.type;evt.target=this;var propagate,listeners=this.listeners_[type];if(listeners){type in this.dispatching_||(this.dispatching_[type]=0,this.pendingRemovals_[type]=0),++this.dispatching_[type];for(var i=0,ii=listeners.length;i<ii;++i)if(!1===listeners[i].call(this,evt)||evt.propagationStopped){propagate=!1;break}if(0===--this.dispatching_[type]){var pendingRemovals=this.pendingRemovals_[type];for(delete this.pendingRemovals_[type];pendingRemovals--;)this.removeEventListener(type,UNDEFINED);delete this.dispatching_[type]}return propagate}},EventTarget.prototype.disposeInternal=function(){unlistenAll(this)},EventTarget.prototype.getListeners=function(type){return this.listeners_[type]},EventTarget.prototype.hasListener=function(opt_type){return opt_type?opt_type in this.listeners_:Object.keys(this.listeners_).length>0},EventTarget.prototype.removeEventListener=function(type,listener){var listeners=this.listeners_[type];if(listeners){var index=listeners.indexOf(listener);type in this.pendingRemovals_?(listeners[index]=UNDEFINED,++this.pendingRemovals_[type]):(listeners.splice(index,1),0===listeners.length&&delete this.listeners_[type])}},$__export("default",EventTarget)}}}),$__System.register("15",[],function($__export){"use strict";return{setters:[],execute:function(){$__export("default",{CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"})}}}),$__System.register("22",["10","1f","17","15"],function($__export){"use strict";var inherits,assert,EventTarget,EventType,LRUCache;return{setters:[function($__m){inherits=$__m.inherits},function($__m){assert=$__m.assert},function($__m){EventTarget=$__m.default},function($__m){EventType=$__m.default}],execute:function(){LRUCache=function(opt_highWaterMark){EventTarget.call(this),this.highWaterMark=void 0!==opt_highWaterMark?opt_highWaterMark:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},inherits(LRUCache,EventTarget),LRUCache.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},LRUCache.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(EventType.CLEAR)},LRUCache.prototype.containsKey=function(key){return this.entries_.hasOwnProperty(key)},LRUCache.prototype.forEach=function(f,opt_this){for(var entry=this.oldest_;entry;)f.call(opt_this,entry.value_,entry.key_,this),entry=entry.newer},LRUCache.prototype.get=function(key){var entry=this.entries_[key];return assert(void 0!==entry,15),entry===this.newest_?entry.value_:(entry===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(entry.newer.older=entry.older,entry.older.newer=entry.newer),entry.newer=null,entry.older=this.newest_,this.newest_.newer=entry,this.newest_=entry,entry.value_)},LRUCache.prototype.remove=function(key){var entry=this.entries_[key];return assert(void 0!==entry,15),entry===this.newest_?(this.newest_=entry.older,this.newest_&&(this.newest_.newer=null)):entry===this.oldest_?(this.oldest_=entry.newer,this.oldest_&&(this.oldest_.older=null)):(entry.newer.older=entry.older,entry.older.newer=entry.newer),delete this.entries_[key],--this.count_,entry.value_},LRUCache.prototype.getCount=function(){return this.count_},LRUCache.prototype.getKeys=function(){var entry,keys=new Array(this.count_),i=0;for(entry=this.newest_;entry;entry=entry.older)keys[i++]=entry.key_;return keys},LRUCache.prototype.getValues=function(){var entry,values=new Array(this.count_),i=0;for(entry=this.newest_;entry;entry=entry.older)values[i++]=entry.value_;return values},LRUCache.prototype.peekLast=function(){return this.oldest_.value_},LRUCache.prototype.peekLastKey=function(){return this.oldest_.key_},LRUCache.prototype.peekFirstKey=function(){return this.newest_.key_},LRUCache.prototype.pop=function(){var entry=this.oldest_;return delete this.entries_[entry.key_],entry.newer&&(entry.newer.older=null),this.oldest_=entry.newer,this.oldest_||(this.newest_=null),--this.count_,entry.value_},LRUCache.prototype.replace=function(key,value){this.get(key),this.entries_[key].value_=value},LRUCache.prototype.set=function(key,value){assert(!(key in this.entries_),16);var entry={key_:key,newer:null,older:this.newest_,value_:value};this.newest_?this.newest_.newer=entry:this.oldest_=entry,this.newest_=entry,this.entries_[key]=entry,++this.count_},LRUCache.prototype.setSize=function(size){this.highWaterMark=size},LRUCache.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},$__export("default",LRUCache)}}}),$__System.register("72",["1f"],function($__export){"use strict";function create(){return[1,0,0,1,0,0]}function reset(transform){return set(transform,1,0,0,1,0,0)}function multiply(transform1,transform2){var a1=transform1[0],b1=transform1[1],c1=transform1[2],d1=transform1[3],e1=transform1[4],f1=transform1[5],a2=transform2[0],b2=transform2[1],c2=transform2[2],d2=transform2[3],e2=transform2[4],f2=transform2[5];return transform1[0]=a1*a2+c1*b2,transform1[1]=b1*a2+d1*b2,transform1[2]=a1*c2+c1*d2,transform1[3]=b1*c2+d1*d2,transform1[4]=a1*e2+c1*f2+e1,transform1[5]=b1*e2+d1*f2+f1,transform1}function set(transform,a,b,c,d,e,f){return transform[0]=a,transform[1]=b,transform[2]=c,transform[3]=d,transform[4]=e,transform[5]=f,transform}function setFromArray(transform1,transform2){return transform1[0]=transform2[0],transform1[1]=transform2[1],transform1[2]=transform2[2],transform1[3]=transform2[3],transform1[4]=transform2[4],transform1[5]=transform2[5],transform1}function apply(transform,coordinate){var x=coordinate[0],y=coordinate[1];return coordinate[0]=transform[0]*x+transform[2]*y+transform[4],coordinate[1]=transform[1]*x+transform[3]*y+transform[5],coordinate}function rotate(transform,angle){var cos=Math.cos(angle),sin=Math.sin(angle);return multiply(transform,set(tmp_,cos,sin,-sin,cos,0,0))}function scale(transform,x,y){return multiply(transform,set(tmp_,x,0,0,y,0,0))}function translate(transform,dx,dy){return multiply(transform,set(tmp_,1,0,0,1,dx,dy))}function compose(transform,dx1,dy1,sx,sy,angle,dx2,dy2){var sin=Math.sin(angle),cos=Math.cos(angle);return transform[0]=sx*cos,transform[1]=sy*sin,transform[2]=-sx*sin,transform[3]=sy*cos,transform[4]=dx2*sx*cos-dy2*sx*sin+dx1,transform[5]=dx2*sy*sin+dy2*sy*cos+dy1,transform}function invert(transform){var det=determinant(transform);assert(0!==det,32);var a=transform[0],b=transform[1],c=transform[2],d=transform[3],e=transform[4],f=transform[5];return transform[0]=d/det,transform[1]=-b/det,transform[2]=-c/det,transform[3]=a/det,transform[4]=(c*f-d*e)/det,transform[5]=-(a*f-b*e)/det,transform}function determinant(mat){return mat[0]*mat[3]-mat[1]*mat[2]}var assert,tmp_;return $__export("create",create),$__export("reset",reset),$__export("multiply",multiply),$__export("set",set),$__export("setFromArray",setFromArray),$__export("apply",apply),$__export("rotate",rotate),$__export("scale",scale),$__export("translate",translate),$__export("compose",compose),$__export("invert",invert),$__export("determinant",determinant),{setters:[function($__m){assert=$__m.assert}],execute:function(){tmp_=new Array(6)}}}),$__System.register("80",["7e","13","31","22","72"],function($__export){"use strict";function getMeasureContext(){return measureContext||(measureContext=createCanvasContext2D(1,1)),measureContext}function measureTextWidth(font,text){var measureContext=getMeasureContext();return font!=measureContext.font&&(measureContext.font=font),measureContext.measureText(text).width}function rotateAtOffset(context,rotation,offsetX,offsetY){0!==rotation&&(context.translate(offsetX,offsetY),context.rotate(rotation),context.translate(-offsetX,-offsetY))}function drawImage(context,transform,opacity,image,originX,originY,w,h,x,y,scale){var alpha;1!=opacity&&(alpha=context.globalAlpha,context.globalAlpha=alpha*opacity),transform&&context.setTransform.apply(context,transform),context.drawImage(image,originX,originY,w,h,x,y,w*scale,h*scale),alpha&&(context.globalAlpha=alpha),transform&&context.setTransform.apply(context,resetTransform)}var getFontFamilies,createCanvasContext2D,clear,LRUCache,createTransform,defaultFont,defaultFillStyle,defaultLineCap,defaultLineDash,defaultLineDashOffset,defaultLineJoin,defaultMiterLimit,defaultStrokeStyle,defaultTextAlign,defaultTextBaseline,defaultPadding,defaultLineWidth,labelCache,checkedFonts,measureContext,textHeights,checkFont,measureTextHeight,resetTransform;return $__export("measureTextWidth",measureTextWidth),$__export("rotateAtOffset",rotateAtOffset),$__export("drawImage",drawImage),{setters:[function($__m){getFontFamilies=$__m.getFontFamilies},function($__m){createCanvasContext2D=$__m.createCanvasContext2D},function($__m){clear=$__m.clear},function($__m){LRUCache=$__m.default},function($__m){createTransform=$__m.create}],execute:function(){defaultFont="10px sans-serif",$__export("defaultFont",defaultFont),defaultFillStyle=[0,0,0,1],$__export("defaultFillStyle",defaultFillStyle),defaultLineCap="round",$__export("defaultLineCap",defaultLineCap),defaultLineDash=[],$__export("defaultLineDash",defaultLineDash),defaultLineDashOffset=0,$__export("defaultLineDashOffset",defaultLineDashOffset),defaultLineJoin="round",$__export("defaultLineJoin",defaultLineJoin),defaultMiterLimit=10,$__export("defaultMiterLimit",defaultMiterLimit),defaultStrokeStyle=[0,0,0,1],$__export("defaultStrokeStyle",defaultStrokeStyle),defaultTextAlign="center",$__export("defaultTextAlign",defaultTextAlign),defaultTextBaseline="middle",$__export("defaultTextBaseline",defaultTextBaseline),defaultPadding=[0,0,0,0],$__export("defaultPadding",defaultPadding),defaultLineWidth=1,$__export("defaultLineWidth",defaultLineWidth),labelCache=new LRUCache,$__export("labelCache",labelCache),checkedFonts={},$__export("checkedFonts",checkedFonts),measureContext=null,textHeights={},$__export("textHeights",textHeights),checkFont=function(){function isAvailable(font){for(var context=getMeasureContext(),available=!0,i=0;i<len;++i){var referenceFont=referenceFonts[i];if(context.font=size+referenceFont,referenceWidth=context.measureText(text).width,font!=referenceFont){context.font=size+font+","+referenceFont;var width=context.measureText(text).width;available=available&&width!=referenceWidth}}return available}function check(){var done=!0;for(var font in checked)checked[font]<retries&&(isAvailable(font)?(checked[font]=retries,clear(textHeights),measureContext=null,labelCache.clear()):(++checked[font],done=!1));done&&(clearInterval(interval),interval=void 0)}var interval,referenceWidth,retries=60,checked=checkedFonts,size="32px ",referenceFonts=["monospace","serif"],len=referenceFonts.length,text="wmytzilWMYTZIL@#/&?$%10";return function(fontSpec){var fontFamilies=getFontFamilies(fontSpec);if(fontFamilies)for(var i=0,ii=fontFamilies.length;i<ii;++i){var fontFamily=fontFamilies[i];fontFamily in checked||(checked[fontFamily]=retries,isAvailable(fontFamily)||(checked[fontFamily]=0,void 0===interval&&(interval=setInterval(check,32))))}}}(),$__export("checkFont",checkFont),measureTextHeight=function(){var span,heights=textHeights;return function(font){var height=heights[font];return void 0==height&&(span||(span=document.createElement("span"),span.textContent="M",span.style.margin=span.style.padding="0 !important",span.style.position="absolute !important",span.style.left="-99999px !important"),span.style.font=font,document.body.appendChild(span),height=heights[font]=span.offsetHeight,document.body.removeChild(span)),height}}(),$__export("measureTextHeight",measureTextHeight),resetTransform=createTransform(),$__export("resetTransform",resetTransform)}}}),$__System.register("81",[],function($__export){"use strict";var ImageStyle;return{setters:[],execute:function(){ImageStyle=function(options){this.opacity_=options.opacity,this.rotateWithView_=options.rotateWithView,this.rotation_=options.rotation,this.scale_=options.scale,this.snapToPixel_=options.snapToPixel},ImageStyle.prototype.getOpacity=function(){return this.opacity_},ImageStyle.prototype.getRotateWithView=function(){return this.rotateWithView_},ImageStyle.prototype.getRotation=function(){return this.rotation_},ImageStyle.prototype.getScale=function(){return this.scale_},ImageStyle.prototype.getSnapToPixel=function(){return this.snapToPixel_},ImageStyle.prototype.getAnchor=function(){},ImageStyle.prototype.getImage=function(pixelRatio){},ImageStyle.prototype.getHitDetectionImage=function(pixelRatio){},ImageStyle.prototype.getImageState=function(){},ImageStyle.prototype.getImageSize=function(){},ImageStyle.prototype.getHitDetectionImageSize=function(){},ImageStyle.prototype.getOrigin=function(){},ImageStyle.prototype.getSize=function(){},ImageStyle.prototype.setOpacity=function(opacity){this.opacity_=opacity},ImageStyle.prototype.setRotateWithView=function(rotateWithView){this.rotateWithView_=rotateWithView},ImageStyle.prototype.setRotation=function(rotation){this.rotation_=rotation},ImageStyle.prototype.setScale=function(scale){this.scale_=scale},ImageStyle.prototype.setSnapToPixel=function(snapToPixel){this.snapToPixel_=snapToPixel},ImageStyle.prototype.listenImageChange=function(listener,thisArg){},ImageStyle.prototype.load=function(){},ImageStyle.prototype.unlistenImageChange=function(listener,thisArg){},$__export("default",ImageStyle)}}}),$__System.register("82",["10","7b","13","55","5a","80","81"],function($__export){"use strict";var inherits,asColorLike,createCanvasContext2D,CANVAS_LINE_DASH,ImageState,defaultStrokeStyle,defaultFillStyle,defaultLineCap,defaultLineWidth,defaultLineJoin,defaultMiterLimit,ImageStyle,RegularShape;return{setters:[function($__m){inherits=$__m.inherits},function($__m){asColorLike=$__m.asColorLike},function($__m){createCanvasContext2D=$__m.createCanvasContext2D},function($__m){CANVAS_LINE_DASH=$__m.CANVAS_LINE_DASH},function($__m){ImageState=$__m.default},function($__m){defaultStrokeStyle=$__m.defaultStrokeStyle,defaultFillStyle=$__m.defaultFillStyle,defaultLineCap=$__m.defaultLineCap,defaultLineWidth=$__m.defaultLineWidth,defaultLineJoin=$__m.defaultLineJoin,defaultMiterLimit=$__m.defaultMiterLimit},function($__m){ImageStyle=$__m.default}],execute:function(){RegularShape=function(options){this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==options.fill?options.fill:null,this.origin_=[0,0],this.points_=options.points,this.radius_=void 0!==options.radius?options.radius:options.radius1,this.radius2_=options.radius2,this.angle_=void 0!==options.angle?options.angle:0,this.stroke_=void 0!==options.stroke?options.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=options.atlasManager,this.render_(this.atlasManager_);var snapToPixel=void 0===options.snapToPixel||options.snapToPixel,rotateWithView=void 0!==options.rotateWithView&&options.rotateWithView;ImageStyle.call(this,{opacity:1,rotateWithView:rotateWithView,rotation:void 0!==options.rotation?options.rotation:0,scale:1,snapToPixel:snapToPixel})},inherits(RegularShape,ImageStyle),RegularShape.prototype.clone=function(){var style=new RegularShape({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return style.setOpacity(this.getOpacity()),style.setScale(this.getScale()),style},RegularShape.prototype.getAnchor=function(){return this.anchor_},RegularShape.prototype.getAngle=function(){return this.angle_},RegularShape.prototype.getFill=function(){return this.fill_},RegularShape.prototype.getHitDetectionImage=function(pixelRatio){return this.hitDetectionCanvas_},RegularShape.prototype.getImage=function(pixelRatio){return this.canvas_},RegularShape.prototype.getImageSize=function(){return this.imageSize_},RegularShape.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},RegularShape.prototype.getImageState=function(){return ImageState.LOADED},RegularShape.prototype.getOrigin=function(){return this.origin_},RegularShape.prototype.getPoints=function(){return this.points_},RegularShape.prototype.getRadius=function(){return this.radius_},RegularShape.prototype.getRadius2=function(){return this.radius2_},RegularShape.prototype.getSize=function(){return this.size_},RegularShape.prototype.getStroke=function(){return this.stroke_},RegularShape.prototype.listenImageChange=function(listener,thisArg){},RegularShape.prototype.load=function(){},RegularShape.prototype.unlistenImageChange=function(listener,thisArg){},RegularShape.prototype.render_=function(atlasManager){var imageSize,strokeStyle,lineCap="",lineJoin="",miterLimit=0,lineDash=null,lineDashOffset=0,strokeWidth=0;this.stroke_&&(strokeStyle=this.stroke_.getColor(),null===strokeStyle&&(strokeStyle=defaultStrokeStyle),strokeStyle=asColorLike(strokeStyle),strokeWidth=this.stroke_.getWidth(),void 0===strokeWidth&&(strokeWidth=defaultLineWidth),lineDash=this.stroke_.getLineDash(),lineDashOffset=this.stroke_.getLineDashOffset(),CANVAS_LINE_DASH||(lineDash=null,lineDashOffset=0),lineJoin=this.stroke_.getLineJoin(),void 0===lineJoin&&(lineJoin=defaultLineJoin),lineCap=this.stroke_.getLineCap(),void 0===lineCap&&(lineCap=defaultLineCap),void 0===(miterLimit=this.stroke_.getMiterLimit())&&(miterLimit=defaultMiterLimit));var size=2*(this.radius_+strokeWidth)+1,renderOptions={strokeStyle:strokeStyle,strokeWidth:strokeWidth,size:size,lineCap:lineCap,lineDash:lineDash,lineDashOffset:lineDashOffset,lineJoin:lineJoin,miterLimit:miterLimit};if(void 0===atlasManager){var context=createCanvasContext2D(size,size);this.canvas_=context.canvas,size=this.canvas_.width,imageSize=size,this.draw_(renderOptions,context,0,0),this.createHitDetectionCanvas_(renderOptions)}else{size=Math.round(size);var renderHitDetectionCallback,hasCustomHitDetectionImage=!this.fill_;hasCustomHitDetectionImage&&(renderHitDetectionCallback=this.drawHitDetectionCanvas_.bind(this,renderOptions));var id=this.getChecksum(),info=atlasManager.add(id,size,size,this.draw_.bind(this,renderOptions),renderHitDetectionCallback);this.canvas_=info.image,this.origin_=[info.offsetX,info.offsetY],imageSize=info.image.width,hasCustomHitDetectionImage?(this.hitDetectionCanvas_=info.hitImage,this.hitDetectionImageSize_=[info.hitImage.width,info.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[imageSize,imageSize])}this.anchor_=[size/2,size/2],this.size_=[size,size],this.imageSize_=[imageSize,imageSize]},RegularShape.prototype.draw_=function(renderOptions,context,x,y){var i,angle0,radiusC;context.setTransform(1,0,0,1,0,0),context.translate(x,y),context.beginPath();var points=this.points_;if(points===1/0)context.arc(renderOptions.size/2,renderOptions.size/2,this.radius_,0,2*Math.PI,!0);else{var radius2=void 0!==this.radius2_?this.radius2_:this.radius_;for(radius2!==this.radius_&&(points*=2),i=0;i<=points;i++)angle0=2*i*Math.PI/points-Math.PI/2+this.angle_,radiusC=i%2==0?this.radius_:radius2,context.lineTo(renderOptions.size/2+radiusC*Math.cos(angle0),renderOptions.size/2+radiusC*Math.sin(angle0))}if(this.fill_){var color=this.fill_.getColor();null===color&&(color=defaultFillStyle),context.fillStyle=asColorLike(color),context.fill()}this.stroke_&&(context.strokeStyle=renderOptions.strokeStyle,context.lineWidth=renderOptions.strokeWidth,renderOptions.lineDash&&(context.setLineDash(renderOptions.lineDash),context.lineDashOffset=renderOptions.lineDashOffset),context.lineCap=renderOptions.lineCap,context.lineJoin=renderOptions.lineJoin,context.miterLimit=renderOptions.miterLimit,context.stroke()),context.closePath()},RegularShape.prototype.createHitDetectionCanvas_=function(renderOptions){if(this.hitDetectionImageSize_=[renderOptions.size,renderOptions.size],this.fill_)return void(this.hitDetectionCanvas_=this.canvas_);var context=createCanvasContext2D(renderOptions.size,renderOptions.size);this.hitDetectionCanvas_=context.canvas,this.drawHitDetectionCanvas_(renderOptions,context,0,0)},RegularShape.prototype.drawHitDetectionCanvas_=function(renderOptions,context,x,y){context.setTransform(1,0,0,1,0,0),context.translate(x,y),context.beginPath();var points=this.points_;if(points===1/0)context.arc(renderOptions.size/2,renderOptions.size/2,this.radius_,0,2*Math.PI,!0);else{var radius2=void 0!==this.radius2_?this.radius2_:this.radius_;radius2!==this.radius_&&(points*=2);var i,radiusC,angle0;for(i=0;i<=points;i++)angle0=2*i*Math.PI/points-Math.PI/2+this.angle_,radiusC=i%2==0?this.radius_:radius2,context.lineTo(renderOptions.size/2+radiusC*Math.cos(angle0),renderOptions.size/2+radiusC*Math.sin(angle0))}context.fillStyle=defaultFillStyle,context.fill(),this.stroke_&&(context.strokeStyle=renderOptions.strokeStyle,context.lineWidth=renderOptions.strokeWidth,renderOptions.lineDash&&(context.setLineDash(renderOptions.lineDash),context.lineDashOffset=renderOptions.lineDashOffset),context.stroke()),context.closePath()},RegularShape.prototype.getChecksum=function(){var strokeChecksum=this.stroke_?this.stroke_.getChecksum():"-",fillChecksum=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||strokeChecksum!=this.checksums_[1]||fillChecksum!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var checksum="r"+strokeChecksum+fillChecksum+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[checksum,strokeChecksum,fillChecksum,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},$__export("default",RegularShape)}}}),$__System.register("83",["10","82"],function($__export){"use strict";var inherits,RegularShape,CircleStyle;return{setters:[function($__m){inherits=$__m.inherits},function($__m){RegularShape=$__m.default}],execute:function(){CircleStyle=function(opt_options){var options=opt_options||{};RegularShape.call(this,{points:1/0,fill:options.fill,radius:options.radius,snapToPixel:options.snapToPixel,stroke:options.stroke,atlasManager:options.atlasManager})},inherits(CircleStyle,RegularShape),CircleStyle.prototype.clone=function(){var style=new CircleStyle({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});return style.setOpacity(this.getOpacity()),style.setScale(this.getScale()),style},CircleStyle.prototype.setRadius=function(radius){this.radius_=radius,this.render_(this.atlasManager_)},$__export("default",CircleStyle)}}}),$__System.register("84",["10"],function($__export){"use strict";var getUid,Stroke;return{setters:[function($__m){getUid=$__m.getUid}],execute:function(){Stroke=function(opt_options){var options=opt_options||{};this.color_=void 0!==options.color?options.color:null,this.lineCap_=options.lineCap,this.lineDash_=void 0!==options.lineDash?options.lineDash:null,this.lineDashOffset_=options.lineDashOffset,this.lineJoin_=options.lineJoin,this.miterLimit_=options.miterLimit,this.width_=options.width,this.checksum_=void 0},Stroke.prototype.clone=function(){var color=this.getColor();return new Stroke({color:color&&color.slice?color.slice():color||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},Stroke.prototype.getColor=function(){return this.color_},Stroke.prototype.getLineCap=function(){return this.lineCap_},Stroke.prototype.getLineDash=function(){return this.lineDash_},Stroke.prototype.getLineDashOffset=function(){return this.lineDashOffset_},Stroke.prototype.getLineJoin=function(){return this.lineJoin_},Stroke.prototype.getMiterLimit=function(){return this.miterLimit_},Stroke.prototype.getWidth=function(){return this.width_},Stroke.prototype.setColor=function(color){this.color_=color,this.checksum_=void 0},Stroke.prototype.setLineCap=function(lineCap){this.lineCap_=lineCap,this.checksum_=void 0},Stroke.prototype.setLineDash=function(lineDash){this.lineDash_=lineDash,this.checksum_=void 0},Stroke.prototype.setLineDashOffset=function(lineDashOffset){this.lineDashOffset_=lineDashOffset,this.checksum_=void 0},Stroke.prototype.setLineJoin=function(lineJoin){this.lineJoin_=lineJoin,this.checksum_=void 0},Stroke.prototype.setMiterLimit=function(miterLimit){this.miterLimit_=miterLimit,this.checksum_=void 0},Stroke.prototype.setWidth=function(width){this.width_=width,this.checksum_=void 0},Stroke.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=getUid(this.color_).toString():this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},$__export("default",Stroke)}}}),$__System.register("46",["1f","53","83","85","84"],function($__export){"use strict";function toFunction(obj){var styleFunction;if("function"==typeof obj)styleFunction=obj;else{var styles;Array.isArray(obj)?styles=obj:(assert(obj instanceof Style,41),styles=[obj]),styleFunction=function(){return styles}}return styleFunction}function createDefaultStyle(feature,resolution){if(!defaultStyles){var fill=new Fill({color:"rgba(255,255,255,0.4)"}),stroke=new Stroke({color:"#3399CC",width:1.25});defaultStyles=[new Style({image:new CircleStyle({fill:fill,stroke:stroke,radius:5}),fill:fill,stroke:stroke})]}return defaultStyles}function createEditingStyle(){var styles={},white=[255,255,255,1],blue=[0,153,255,1],width=3;return styles[GeometryType.POLYGON]=[new Style({fill:new Fill({color:[255,255,255,.5]})})],styles[GeometryType.MULTI_POLYGON]=styles[GeometryType.POLYGON],styles[GeometryType.LINE_STRING]=[new Style({stroke:new Stroke({color:white,width:width+2})}),new Style({stroke:new Stroke({color:blue,width:width})})],styles[GeometryType.MULTI_LINE_STRING]=styles[GeometryType.LINE_STRING],styles[GeometryType.CIRCLE]=styles[GeometryType.POLYGON].concat(styles[GeometryType.LINE_STRING]),styles[GeometryType.POINT]=[new Style({image:new CircleStyle({radius:2*width,fill:new Fill({color:blue}),stroke:new Stroke({color:white,width:width/2})}),zIndex:1/0})],styles[GeometryType.MULTI_POINT]=styles[GeometryType.POINT],styles[GeometryType.GEOMETRY_COLLECTION]=styles[GeometryType.POLYGON].concat(styles[GeometryType.LINE_STRING],styles[GeometryType.POINT]),styles}function defaultGeometryFunction(feature){return feature.getGeometry()}var assert,GeometryType,CircleStyle,Fill,Stroke,Style,defaultStyles;return $__export("toFunction",toFunction),$__export("createDefaultStyle",createDefaultStyle),$__export("createEditingStyle",createEditingStyle),{setters:[function($__m){assert=$__m.assert},function($__m){GeometryType=$__m.default},function($__m){CircleStyle=$__m.default},function($__m){Fill=$__m.default},function($__m){Stroke=$__m.default}],execute:function(){Style=function(opt_options){var options=opt_options||{};this.geometry_=null,this.geometryFunction_=defaultGeometryFunction,void 0!==options.geometry&&this.setGeometry(options.geometry),this.fill_=void 0!==options.fill?options.fill:null,this.image_=void 0!==options.image?options.image:null,this.renderer_=void 0!==options.renderer?options.renderer:null,this.stroke_=void 0!==options.stroke?options.stroke:null,this.text_=void 0!==options.text?options.text:null,this.zIndex_=options.zIndex},Style.prototype.clone=function(){var geometry=this.getGeometry();return geometry&&geometry.clone&&(geometry=geometry.clone()),new Style({geometry:geometry,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},Style.prototype.getRenderer=function(){return this.renderer_},Style.prototype.setRenderer=function(renderer){this.renderer_=renderer},Style.prototype.getGeometry=function(){return this.geometry_},Style.prototype.getGeometryFunction=function(){return this.geometryFunction_},Style.prototype.getFill=function(){return this.fill_},Style.prototype.setFill=function(fill){this.fill_=fill},Style.prototype.getImage=function(){return this.image_},Style.prototype.setImage=function(image){this.image_=image},Style.prototype.getStroke=function(){return this.stroke_},Style.prototype.setStroke=function(stroke){this.stroke_=stroke},Style.prototype.getText=function(){return this.text_},Style.prototype.setText=function(text){this.text_=text},Style.prototype.getZIndex=function(){return this.zIndex_},Style.prototype.setGeometry=function(geometry){"function"==typeof geometry?this.geometryFunction_=geometry:"string"==typeof geometry?this.geometryFunction_=function(feature){return feature.get(geometry)}:geometry?void 0!==geometry&&(this.geometryFunction_=function(){return geometry}):this.geometryFunction_=defaultGeometryFunction,this.geometry_=geometry},Style.prototype.setZIndex=function(zIndex){this.zIndex_=zIndex},defaultStyles=null,$__export("default",Style)}}}),$__System.register("10",[],function($__export){"use strict";function inherits(childCtor,parentCtor){childCtor.prototype=Object.create(parentCtor.prototype),childCtor.prototype.constructor=childCtor}function getUid(obj){return obj.ol_uid||(obj.ol_uid=++uidCounter_)}var uidCounter_,VERSION;return $__export("inherits",inherits),$__export("getUid",getUid),{setters:[],execute:function(){uidCounter_=0,VERSION="5.0.0",$__export("VERSION",VERSION)}}}),$__System.register("48",["10"],function($__export){"use strict";var VERSION,inherits,AssertionError;return{setters:[function($__m){VERSION=$__m.VERSION,inherits=$__m.inherits}],execute:function(){AssertionError=function(code){var path=VERSION.split("-")[0];this.message="Assertion failed. See https://openlayers.org/en/"+path+"/doc/errors/#"+code+" for details.",this.code=code,this.name="AssertionError"},inherits(AssertionError,Error),$__export("default",AssertionError)}}}),$__System.register("1f",["48"],function($__export){"use strict";function assert(assertion,errorCode){if(!assertion)throw new AssertionError(errorCode)}var AssertionError;return $__export("assert",assert),{setters:[function($__m){AssertionError=$__m.default}],execute:function(){}}}),$__System.register("1b",["1f"],function($__export){"use strict";function clamp(value,min,max){return Math.min(Math.max(value,min),max)}function roundUpToPowerOfTwo(x){return assert(0<x,29),Math.pow(2,Math.ceil(Math.log(x)/Math.LN2))}function squaredSegmentDistance(x,y,x1,y1,x2,y2){var dx=x2-x1,dy=y2-y1;if(0!==dx||0!==dy){var t=((x-x1)*dx+(y-y1)*dy)/(dx*dx+dy*dy);t>1?(x1=x2,y1=y2):t>0&&(x1+=dx*t,y1+=dy*t)}return squaredDistance(x,y,x1,y1)}function squaredDistance(x1,y1,x2,y2){var dx=x2-x1,dy=y2-y1;return dx*dx+dy*dy}function solveLinearSystem(mat){for(var n=mat.length,i=0;i<n;i++){for(var maxRow=i,maxEl=Math.abs(mat[i][i]),r=i+1;r<n;r++){var absValue=Math.abs(mat[r][i]);absValue>maxEl&&(maxEl=absValue,maxRow=r)}if(0===maxEl)return null;var tmp=mat[maxRow];mat[maxRow]=mat[i],mat[i]=tmp;for(var j=i+1;j<n;j++)for(var coef=-mat[j][i]/mat[i][i],k=i;k<n+1;k++)i==k?mat[j][k]=0:mat[j][k]+=coef*mat[i][k]}for(var x=new Array(n),l=n-1;l>=0;l--){x[l]=mat[l][n]/mat[l][l];for(var m=l-1;m>=0;m--)mat[m][n]-=mat[m][l]*x[l]}return x}function toDegrees(angleInRadians){return 180*angleInRadians/Math.PI}function toRadians(angleInDegrees){return angleInDegrees*Math.PI/180}function modulo(a,b){var r=a%b;return r*b<0?r+b:r}function lerp(a,b,x){return a+x*(b-a)}var assert,cosh;return $__export("clamp",clamp),$__export("roundUpToPowerOfTwo",roundUpToPowerOfTwo),$__export("squaredSegmentDistance",squaredSegmentDistance),$__export("squaredDistance",squaredDistance),$__export("solveLinearSystem",solveLinearSystem),$__export("toDegrees",toDegrees),$__export("toRadians",toRadians),$__export("modulo",modulo),$__export("lerp",lerp),{setters:[function($__m){assert=$__m.assert}],execute:function(){cosh=function(){return"cosh"in Math?Math.cosh:function(x){var y=Math.exp(x);return(y+1/y)/2}}(),$__export("cosh",cosh)}}}),$__System.register("7c",["1f","1b"],function($__export){"use strict";function asString(color){return"string"==typeof color?color:toString(color)}function fromNamed(color){var el=document.createElement("div");if(el.style.color=color,""!==el.style.color){document.body.appendChild(el);var rgb=getComputedStyle(el).color;return document.body.removeChild(el),rgb}return""}function asArray(color){return Array.isArray(color)?color:fromString(color)}function fromStringInternal_(s){var r,g,b,a,color;if(NAMED_COLOR_RE_.exec(s)&&(s=fromNamed(s)),HEX_COLOR_RE_.exec(s)){var d,n=s.length-1;d=n<=4?1:2;var hasAlpha=4===n||8===n;r=parseInt(s.substr(1+0*d,d),16),g=parseInt(s.substr(1+1*d,d),16),b=parseInt(s.substr(1+2*d,d),16),a=hasAlpha?parseInt(s.substr(1+3*d,d),16):255,1==d&&(r=(r<<4)+r,g=(g<<4)+g,b=(b<<4)+b,hasAlpha&&(a=(a<<4)+a)),color=[r,g,b,a/255]}else 0==s.indexOf("rgba(")?(color=s.slice(5,-1).split(",").map(Number),normalize(color)):0==s.indexOf("rgb(")?(color=s.slice(4,-1).split(",").map(Number),color.push(1),normalize(color)):assert(!1,14);return color}function normalize(color){return color[0]=clamp(color[0]+.5|0,0,255),color[1]=clamp(color[1]+.5|0,0,255),color[2]=clamp(color[2]+.5|0,0,255),color[3]=clamp(color[3],0,1),color}function toString(color){var r=color[0];r!=(0|r)&&(r=r+.5|0);var g=color[1];g!=(0|g)&&(g=g+.5|0);var b=color[2];return b!=(0|b)&&(b=b+.5|0),"rgba("+r+","+g+","+b+","+(void 0===color[3]?1:color[3])+")"}var assert,clamp,HEX_COLOR_RE_,NAMED_COLOR_RE_,fromString;return $__export("asString",asString),$__export("asArray",asArray),$__export("normalize",normalize),$__export("toString",toString),{setters:[function($__m){assert=$__m.assert},function($__m){clamp=$__m.clamp}],execute:function(){HEX_COLOR_RE_=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,NAMED_COLOR_RE_=/^([a-z]*)$/i,fromString=function(){var cache={},cacheSize=0;return function(s){var color;if(cache.hasOwnProperty(s))color=cache[s];else{if(cacheSize>=1024){var i=0;for(var key in cache)0==(3&i++)&&(delete cache[key],--cacheSize)}color=fromStringInternal_(s),cache[s]=color,++cacheSize}return color}}(),$__export("fromString",fromString)}}}),$__System.register("85",["10","7c"],function($__export){"use strict";var getUid,asString,Fill;return{setters:[function($__m){getUid=$__m.getUid},function($__m){asString=$__m.asString}],execute:function(){Fill=function(opt_options){var options=opt_options||{};this.color_=void 0!==options.color?options.color:null,this.checksum_=void 0},Fill.prototype.clone=function(){var color=this.getColor();return new Fill({color:color&&color.slice?color.slice():color||void 0})},Fill.prototype.getColor=function(){return this.color_},Fill.prototype.setColor=function(color){this.color_=color,this.checksum_=void 0},Fill.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient?this.checksum_=getUid(this.color_).toString():this.checksum_="f"+(this.color_?asString(this.color_):"-")),this.checksum_},$__export("default",Fill)}}}),$__System.register("86",["60","3a","7a","46","85"],function($__export){"use strict";var olImageWms,olFeature,olGeoPolygon,olStyle,olStyleFill,featureOper;return{setters:[function($__m){olImageWms=$__m.default},function($__m){olFeature=$__m.default},function($__m){olGeoPolygon=$__m.default},function($__m){olStyle=$__m.default},function($__m){olStyleFill=$__m.default}],execute:function(){featureOper=function(){function featureOper(map){this.map=map}return $traceurRuntime.createClass(featureOper,{queryWmsFeatureInfoUrl:function(wmsSource,coordinate,resolution){var projection=void 0!==arguments[3]?arguments[3]:"EPSG:4326",params=void 0!==arguments[4]?arguments[4]:{INFO_FORMAT:"application/json",FEATURE_COUNT:1},url="";return wmsSource instanceof ol.source.ImageWMS&&(url=wmsSource.getGetFeatureInfoUrl(coordinate,resolution,projection,params)),url},addPolygon:function(props,layer,polyCoords){polyCoords=polyCoords[0];var feature=new olFeature({geometry:new olGeoPolygon(polyCoords)}),fillColor="";switch(props.COLORID){case 1:fillColor="rgba(255, 138, 31 , 0.6)";break;case 2:fillColor="rgba(235, 210, 6 , 0.6)";break;case 3:fillColor="rgba(64, 166, 255 , 0.6)";break;case 4:fillColor="rgba(195, 40, 229 , 0.6)"}var style=new olStyle({fill:new olStyleFill({color:fillColor})});feature.setStyle([style]),layer.getSource().addFeature(feature)}},{})}(),$__export("default",featureOper)}}}),$__System.register("87",["c","d","39","3c","56","86","88"],function($__export){"use strict";var mapConfig,mapOper,markerOper,measureOper,interactionOper,featureOper,service,mapApi;return{setters:[function($__m){mapConfig=$__m.default},function($__m){mapOper=$__m.default},function($__m){markerOper=$__m.default},function($__m){measureOper=$__m.default},function($__m){interactionOper=$__m.default},function($__m){featureOper=$__m.default},function($__m){service=$__m.default}],execute:function(){mapApi=function(){function mapApi(){}return $traceurRuntime.createClass(mapApi,{init:function(){var $__3=this;window.isMapDrawing=!1;var rotateNum=0,that=this,config=lscache.get("config").config;mapConfig.initLayers[4].name=config.mapName,mapConfig.initLayers[4].layers=config.layers,mapConfig.initLayers[4].url=config.mapUrl,this.mapOper=new mapOper(mapConfig),this.mapOper.initMap(),this.map=this.mapOper.map,this.markerApi=new markerOper(this.mapOper.map),this.measureApi=new measureOper(this.mapOper.map),this.interactionOper=new interactionOper(this.mapOper.map),this.featureApi=new featureOper(this.mapOper.map);var content=document.getElementById("popup-content");this.mapOper.addMapEvent("click",function(event){if(!isMapDrawing){var Layer=that.mapOper.layerApi.getLayerByName("tianshui"),resolution=that.mapOper.mapView.getResolution(),projection=that.mapOper.mapView.getProjection(),urlUnit=that.featureApi.queryWmsFeatureInfoUrl(Layer.getSource(),event.coordinate,resolution,projection),lonlat=event.coordinate;$.ajax({type:"get",url:urlUnit,success:function(data){if(data.features.length>0){var layer=that.mapOper.layerApi.getLayerByName("默认矢量图层");layer.getSource().clear();var props=data.features[0].properties,ColorID=props.COLORID-1;content.innerHTML="<span>"+constants.grid_info[ColorID].info+"</sapn>",overlay.setPosition(lonlat),that.map.addOverlay(overlay),that.featureApi.addPolygon(props,layer,data.features[0].geometry.coordinates)}}})}}),service.getCommunityList(lscache.get("userName").communtiyCode,function(data){if(200==data.code){var opt="<option value='0'>--请选择--</option>";if(lscache.get("config").config.communityUrl)var communityList=lscache.get("config").config.communityUrl.split(",");_.map(communityList,function(value,key){opt+="<option value='http://61.178.131.29:8024/index.html'>"+value+"</option>"}),$("#MapVideo").html(opt),$("#controls .more").on("click",function(event){window.open("src/static/videoList/videolist.html")}),$("#MapVideo").on("change",function(params){window.open($(this).val()),$(this).val(0)})}});var videoList=lscache.get("config").config.countyVideoDef.split(",");document.getElementById("real-time-video1").src="./src/static/video/video.html?"+videoList[0],document.getElementById("real-time-video2").src="./src/static/video/video.html?"+videoList[1],document.getElementById("real-time-video3").src="./src/static/video/video.html?"+videoList[2],$(".controls-rotate-reduce").on("click",function(){that.mapOper.zoomOut()}),$(".controls-rotate-add").on("click",function(){that.mapOper.zoomIn()}),$(".controls-rotate-right").on("click",function(){rotateNum-=30,that.mapOper.rotateTo("right"),$(".controls-compass-arrow").css("transform","rotate("+-rotateNum+"deg)")}),$(".controls-rotate-left").on("click",function(){rotateNum+=30,that.mapOper.rotateTo("left"),$(".controls-compass-arrow").css("transform","rotate("+-rotateNum+"deg)")}),$(".controls-compass").on("click",function(){rotateNum=0,that.mapOper.rotateTo("reset"),$(".controls-compass-arrow").css("transform","rotate(0deg)")}),$(".tool-btn").on("click",function(event){isMapDrawing=!0;var layer=$__3.mapOper.layerApi.getLayerByName("默认矢量图层");$__3.measureApi.activeMeasureLength(layer.getSource())}),$(".tool-reset").on("click",function(){isMapDrawing=!1,$__3.measureApi.deactiveMeasure(),$__3.mapOper.layerApi.getLayerByName("默认矢量图层").getSource().clear(!0)})}},{})}(),$__export("mapApi",mapApi)}}}),$__System.registerDynamic("89",[],!0,function($__require,exports,module){this||self;module.exports='<div id="map-container" class="map-container">\r\n  <span class="row row1"></span>\r\n  <span class="row row2"></span>\r\n  <span class="row col2"></span>\r\n  <span class="row col1"></span>\r\n  <div id="map"></div>\r\n  <div id="popup" class="ol-popup">\r\n    <a href="#" id="popup-closer" class="ol-popup-closer"></a>\r\n    <div id="popup-content" style="width:220px; height:56px;"></div>\r\n  </div>\r\n  \x3c!-- <div id="g-popup" class="g-ol-popup">\r\n    <a href="#" id="g-popup-closer" class="g-ol-popup-closer"></a>\r\n    <div id="g-popup-content" style="width:220px; height:56px;"></div>\r\n  </div> --\x3e\r\n\r\n  <div id="controls">\r\n    <div class="map-video">\r\n      <select id="MapVideo" class="select">\r\n      </select>\r\n    </div>\r\n    <div class="more">更多...</div>\r\n    <div class="real-time-video">\r\n      <div class="real-time">\r\n        \x3c!--引用外部的html页面 \r\n          width外部页面的宽度,\r\n          height外部页面的高度,\r\n          scrolling是否有滚动条,\r\n          noresize 属性规定用户无法调整框架的大小,\r\n          frameborder是否有边框--\x3e\r\n        \x3c!-- ../../static/video/demo-easy.html --\x3e\r\n        <iframe id="real-time-video1" src="#" width="100%" height="100%" name="topFrame" scrolling="No" noresize="noresize" frameborder="0"\r\n          id="topFrame"></iframe>\r\n      </div>\r\n      <div class="real-time">\r\n        \x3c!--引用外部的html页面 \r\n                width外部页面的宽度,\r\n                height外部页面的高度,\r\n                scrolling是否有滚动条,\r\n                noresize 属性规定用户无法调整框架的大小,\r\n                frameborder是否有边框--\x3e\r\n        \x3c!-- ../../static/video/demo-easy.html --\x3e\r\n        <iframe id="real-time-video2" src="#" width="100%" height="100%" name="topFrame" scrolling="No" noresize="noresize" frameborder="0"\r\n          id="topFrame"></iframe>\r\n      </div>\r\n      <div class="real-time">\r\n        \x3c!--引用外部的html页面 \r\n                width外部页面的宽度,\r\n                height外部页面的高度,\r\n                scrolling是否有滚动条,\r\n                noresize 属性规定用户无法调整框架的大小,\r\n                frameborder是否有边框--\x3e\r\n        \x3c!-- ../../static/video/demo-easy.html --\x3e\r\n        <iframe id="real-time-video3" src="#" width="100%" height="100%" name="topFrame" scrolling="No" noresize="noresize" frameborder="0"\r\n          id="topFrame"></iframe>\r\n      </div>\r\n\r\n    </div>\r\n    <div class="controls-border">\r\n      \x3c!-- 罗盘 --\x3e\r\n      <div class="controls-box">\r\n        <div class="controls-compass">\r\n          <div class="controls-top-bar"></div>\r\n          <div class="controls-left-bar"></div>\r\n          <div class="controls-bottom-bar"></div>\r\n          <div class="controls-right-bar"></div>\r\n          <div class="controls-compass-arrow">\r\n            <img src="./src/static/images/map/icon_compass_pointer.png">\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \x3c!-- 工具按钮 --\x3e\r\n      <div class="controls-tools">\r\n        <div id=\'distance\' class=\'distance-container\'></div>\r\n        <div class="controls-rotate-reduce box waves-effect waves-light">\r\n          <div></div>\r\n        </div>\r\n        <div class="controls-rotate-add box waves-effect waves-light">\r\n          <div></div>\r\n        </div>\r\n        <div class="controls-rotate-left box waves-effect waves-light">\r\n          <div></div>\r\n        </div>\r\n        <div class="controls-rotate-right box waves-effect waves-light">\r\n          <div></div>\r\n        </div>\r\n        <div class="tool-btn box waves-effect waves-light">\r\n          <div></div>\r\n        </div>\r\n        <div class="tool-reset box waves-effect waves-light">\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),$__System.register("8a",["87","89"],function($__export){"use strict";var mapApi,mapTemplete;return{setters:[function($__m){mapApi=$__m.mapApi},function($__m){mapTemplete=$__m.default}],execute:function(){$(".page-4-1").append(mapTemplete),window.mapApi=new mapApi,window.mapApi.init()}}}),$__System.registerDynamic("8b",[],!0,function($__require,exports,module){this||self;module.exports='<div class="top-bar">\r\n  <div class="top-border">\r\n    <img src="./src/static/images/header/top.png" class="headle-bar-img">\r\n  </div>\r\n  <div class="top-title">互联网+智慧社区综治信息服务平台</div>\r\n  <div class="two-title"></div>\r\n  <div class="top-buttons-1">\r\n    \x3c!-- <div class="top-button top-button-4">\r\n      <img src="./src/static/images/header/top_button_default.png">\r\n      <div class="button-tip">一键报警</div>\r\n    </div> --\x3e\r\n    <div class="top-button top-button-3">\r\n      <img src="./src/static/images/header/top_button_default.png">\r\n      <div class="button-tip">治安巡逻</div>\r\n    </div>\r\n    <div class="top-button top-button-2">\r\n      <img src="./src/static/images/header/top_button_default.png">\r\n      <div class="button-tip">视频监控</div>\r\n    </div>\r\n    <div class="top-button top-button-1">\r\n      <img src="./src/static/images/header/top_button_default.png">\r\n      <div class="button-tip">社区介绍</div>\r\n    </div>\r\n    <div class="head-time">\r\n      <span class="time-head">-月-号</span>\r\n      <span class="time-bottom">--:--:--</span>\r\n    </div>\r\n  </div>\r\n  <div class="top-buttons-2">\r\n    <div class="top-button top-button-8">\r\n      <img src="./src/static/images/header/top_button_default.png">\r\n      <div class="button-tip">人脸识别</div>\r\n    </div>\r\n    <div class="top-button top-button-4">\r\n      <img src="./src/static/images/header/top_button_default.png">\r\n      <div class="button-tip">一键报警</div>\r\n    </div>\r\n    \x3c!-- <div class="top-button top-button-7">\r\n      <img src="./src/static/images/header/top_button_default.png">\r\n      <div class="button-tip">重点人群</div>\r\n    </div>\r\n    <div class="top-button top-button-6">\r\n      <img src="./src/static/images/header/top_button_default.png">\r\n      <div class="button-tip">信息发布</div>\r\n    </div> --\x3e\r\n    <div class="top-button top-button-5">\r\n      <img src="./src/static/images/header/top_button_default.png">\r\n      <div class="button-tip">一键求助</div>\r\n    </div>\r\n  </div>\r\n  <div class="log-out">\r\n    <img src="./src/static/images/header/split.png">\r\n    <img class="logout-img" src="./src/static/images/header/icon_quit.png">\r\n  </div>\r\n</div>'}),$__System.registerDynamic("8c",[],!0,function($__require,exports,module){this||self;module.exports='<div class="comm-dialog">\r\n  <div class="dialog-top">\r\n    <div class="top-title">张家川县基本情况</div>\r\n    <img class="dialog-close" src="../../../src/static/images/content/icon_delete.png">\r\n  </div>\r\n  <div class="dialog-mid">\r\n    <div class="carousel">\r\n      {{#each imgList}}\r\n      <a class="carousel-item" href="{{id}}">\r\n        <img src="{{img}}">\r\n      </a>\r\n      {{/each}}\r\n    </div>\r\n    <div class="comm-info">\r\n      <div class="card-vertex">\r\n        <div class="vertex lt"></div>\r\n        <div class="vertex rt"></div>\r\n        <div class="vertex rb"></div>\r\n        <div class="vertex lb"></div>\r\n        <div class="comm-info-content">\r\n          {{#if content1}}\r\n          <div>\r\n            {{content1}}\r\n          </div>\r\n          {{/if}}          \r\n          {{#if content2}}\r\n          <div>\r\n            {{content2}}\r\n          </div>\r\n           {{/if}}\r\n           {{#if content3}}\r\n          <div>\r\n            {{content3}}\r\n          </div>\r\n           {{/if}}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'}),$__System.register("8d",["8b","8c","88"],function($__export){"use strict";var tmp,communityInfo,service,topLayout;return{setters:[function($__m){tmp=$__m.default},function($__m){communityInfo=$__m.default},function($__m){service=$__m.default}],execute:function(){topLayout=function(){function topLayout(){}return $traceurRuntime.createClass(topLayout,{init:function(){var template=Handlebars.compile(tmp);$("#site-layout-example-top").append(template),window.isHideTooltip="showTip";var newDate=new Date;$(".head-time .time-head").text(newDate.getMonth()+1+"月"+newDate.getDate()+"日"),window.newTime?_.map(newTimeIntervalArr,function(item){window.clearInterval(item)}):(window.newTimeIntervalArr=[],window.newTime=!1),newTimeIntervalArr.push(setInterval(function(){newTime=!0,$(".head-time .time-bottom").text(moment().format("HH:mm:ss"))},1e3)),this.bindTopButClick(),$(".two-title").text(lscache.get("userName").communtiyName),$(".statis-modal").modal(),$(document).ready(function(){$(".carousel").carousel()})},bindTopButClick:function(){$(".top-button").on({mouseover:function(event){event.currentTarget.children[0].src="./src/static/images/header/top_button_select.png",event.currentTarget.children[1].style.color="#00F0FF"},mouseout:function(event){event.currentTarget.children[1].style.color="#fff",event.currentTarget.className.indexOf("btn-select")<0&&(event.currentTarget.children[0].src="./src/static/images/header/top_button_default.png")},click:function(evevt){$(".top-button").each(function(index,item){item.className=item.className.replace("btn-select",""),item.children[0].src="./src/static/images/header/top_button_default.png",event.currentTarget.children[1].style.color="#fff"}),evevt.currentTarget.className+=" btn-select",event.currentTarget.children[0].src="./src/static/images/header/top_button_select.png",event.currentTarget.children[1].style.color="#00F0FF"}}),$(".top-button-1").on("click",function(event){$("#statis-modal").modal("open"),$(".modal-overlay").css({display:"none"}),window.isHideTooltip="hideTip",$("#real-time-video1").css("display","none"),$("#real-time-video2").css("display","none"),$("#real-time-video3").css("display","none"),service.requestInfo(lscache.get("userName").communtiyCode,function(data){if(200==data.code){var imgList=[];data.data.imgList&&_.map(data.data.imgList.split(","),function(item,index){imgList.push({img:constants.SERVER_FILE_URL+item,id:"#"+index+"!"})});var TempData={imgList:imgList,content1:data.data.content1,content2:data.data.content2,content3:data.data.content3},template=Handlebars.compile(communityInfo),html=template(TempData);$(".statis-modal").empty().append(html),$(".carousel").carousel(),Scrollbar.use(OverscrollPlugin);Scrollbar.init(document.querySelector(".comm-info-content"),{plugins:{overscroll:{effect:"glow"}}}).track.xAxis.hide(),$(".dialog-close").on("click",function(event){$("#real-time-video1").css("display","block"),$("#real-time-video2").css("display","block"),$("#real-time-video3").css("display","block"),window.isHideTooltip="showTip",$("#statis-modal").modal("close")}),$(".comm-info").css("left","calc( 50% - "+($(".comm-info-content").width()+20)/2+"px)")}})});var config=lscache.get("config").linkAddress;$(".top-button-2").on("click",function(event){service.getToken(function(data){window.open(config.btn2+data.data)})}),$(".top-button-3").on("click",function(event){service.getToken(function(data){window.open(config.btn3+data.data)})}),$(".top-button-4").on("click",function(event){service.getToken(function(data){window.open(config.btn4+data.data)})}),$(".top-button-5").on("click",function(event){var hash=hex_md5("123456"),time=new Date,Month=time.getMonth()+1<10?"0"+(time.getMonth()+1):time.getMonth()+1,Day=time.getDate()<10?"0"+time.getDate():time.getDate(),Hours=time.getHours()<10?"0"+time.getHours():time.getHours();hash=hex_md5(hash+Month+Day+Hours),window.open(config.btn5+hash)}),$(".top-button-8").on("click",function(event){service.getToken(function(data){window.open(config.btn6+data.data)})}),$(".logout-img").on("click",function(event){jDialog.confirm("确定要注销系统，返回重新登录吗？",{handler:function(button,dialog){dialog.close(),service.requestLogout(function(data){lscache.flush(),window.location.href="/login.html"})}},{handler:function(button,dialog){dialog.close()}},{title:"注销账号"})})}},{})}(),$__export("topLayout",topLayout)}}}),$__System.registerDynamic("8e",[],!0,function($__require,exports,module){this||self;module.exports='<div class="mask"></div>\r\n<div class="row one-page">\r\n  <div class="page-title">\r\n    <img class="icon-title" src=\'./src/static/images/content/icon_details.png\'>\r\n    <pre class="page-title">县区情况：</pre>\r\n    \x3c!-- <img class="icon-title icon-del one-close" src=\'./src/static/images/content/icon_delete.png\'> --\x3e\r\n  </div>\r\n  <div class="page-content">\r\n    <div class="one-item">\r\n      <img src="./src/static/images/content/1.png">\r\n      <span>\r\n         面积<span class="big-number">{{area}}</span>平方公里、\r\n        <span class="big-number">{{town}}</span>镇\r\n        <span class="big-number">{{county}}</span>乡、\r\n        <span class="big-number">{{village}}</span>个行政村\r\n      </span>\r\n    </div>    \r\n    <div class="one-item">\r\n      <img src="./src/static/images/content/3.png">\r\n      <spam>\r\n         常驻人口<span class="big-number">{{residentPopulation}}</span>万人、\r\n      </span>\r\n      <spam>\r\n         回族<span class="big-number">{{huiNationality}}</span>万人、\r\n      </span>\r\n      <spam>\r\n         占总人口<span class="big-number">{{totalPopulationPercentage}}%</span>\r\n      </span>\r\n    </div>\r\n    <div class="one-item">\r\n      <img src="./src/static/images/content/4.png">\r\n      <spam>\r\n         居民<span class="big-number">{{households}}</span>户、\r\n      </span>\r\n      <span>\r\n          <span class="big-number">{{totalPopulation}}</span>万人、\r\n      </span>\r\n      <span>\r\n          人口自然增长率<span class="big-number">{{naturalPopulation}}</span>‰\r\n      </span>\r\n    </div>\r\n    <div class="one-item">\r\n      <div class="item">\r\n        <img src="./src/static/images/content/2.png">\r\n        <span>\r\n          民房\r\n          <span class="big-number">{{civilHouse}}</span>栋、\r\n        </span>\r\n        <span>\r\n          楼宇\r\n          <span class="big-number">{{building}}</span>栋\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class="one-item">\r\n      <img src="./src/static/images/content/5.png">\r\n      <spam>\r\n        物业管理住宅<span class="big-number">{{management}}</span>栋、\r\n      </span>\r\n      <spam>\r\n        单位自管住宅<span class="big-number">{{unitSelfTube}}</span>栋、\r\n      </span>\r\n      <spam>\r\n        商住两用<span class="big-number">{{commercial}}</span>栋\r\n      </span>\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),$__System.register("8f",["8e","88"],function($__export){"use strict";var one,service,staticOne;return{setters:[function($__m){one=$__m.default},function($__m){service=$__m.default}],execute:function(){staticOne=function(){function staticOne(){}return $traceurRuntime.createClass(staticOne,{init:function(){var template=Handlebars.compile(one);service.requestCommunityInfo(lscache.get("userName").communtiyCode,function(data){var html=template(data.data);$(".page-1-1").empty().append(html)})}},{})}(),$__export("staticOne",staticOne)}}}),$__System.registerDynamic("90",[],!0,function($__require,exports,module){this||self;module.exports='<div class="mask"></div>\r\n<div class="row two-page">\r\n  <div class="page-title">\r\n    <img class="icon-title" src=\'./src/static/images/content/icon_details.png\'>\r\n    <pre class="page-title">居民年龄结构图：</pre>\r\n    \x3c!-- <img class="icon-title icon-del two-close" src=\'./src/static/images/content/icon_delete.png\'> --\x3e\r\n  </div>\r\n  <div class="page-content">\r\n    <div class="page-charts-1"></div>\r\n  </div>\r\n</div>\r\n'}),$__System.register("91",["90","88"],function($__export){"use strict";var two,service,staticTwo;return{setters:[function($__m){two=$__m.default},function($__m){service=$__m.default}],execute:function(){staticTwo=function(){function staticTwo(){}return $traceurRuntime.createClass(staticTwo,{init:function(){var that=this;$(".page-2").empty().append(two),that.getData();var agetime=that.random(6e4,18e4);setInterval(function(){that.getData()},agetime);console.log("人口年龄获取数据时间",agetime)},getData:function(){var that=this;service.requestAge(lscache.get("userName").communtiyCode,function(data){var ageData=_.cloneDeep(data.data[0]);delete ageData.id,delete ageData.communityCode;var wAge=_.filter(ageData,function(item,key){if(-1!=key.indexOf("wAge"))return!0}),mAge=_.filter(ageData,function(item,key){if(-1!=key.indexOf("mAge"))return!0});that.createBars([wAge,mAge])})},random:function(lower,upper){return Math.floor(Math.random()*(upper-lower+1))+lower},createBars:function(ageData){var dom=$(".page-charts-1")[0],myChart=echarts.init(dom),legendData=["0-9岁","10-19岁","20-29岁","30-39岁","40-49岁","50-59岁","60-69岁","70-79岁","80-89岁","90-99岁","100岁以上"],option={baseOption:{legend:{data:[{name:"男",textStyle:{color:"#3A87F9",fontWeight:600},icon:"image:// ../../../../src/static/images/content/man.png"},{name:"女",textStyle:{color:"#FF5F8F",fontWeight:600},icon:"image://../../../../src/static/images/content/woman.png"}],top:0,itemGap:80,itemWidth:14,itemHeight:14},tooltip:{show:!0,trigger:"axis",formatter:"{b}<br/>{a}: {c}人",axisPointer:{type:"shadow"}},grid:[{show:!1,left:"5%",top:30,bottom:10,containLabel:!0,width:"35%"},{show:!1,left:"52.5%",top:30,bottom:10,width:"0%"},{show:!1,right:"5%",top:30,bottom:10,containLabel:!0,width:"35%"}],xAxis:[{type:"value",inverse:!0,axisLine:{show:!1},axisTick:{show:!1},position:"top",axisLabel:{show:!1},splitLine:{show:!1}},{gridIndex:1,show:!1},{gridIndex:2,type:"value",axisLine:{show:!1},axisTick:{show:!1},position:"top",axisLabel:{show:!1},splitLine:{show:!1}}],yAxis:[{type:"category",inverse:!1,position:"right",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1,margin:8,textStyle:{color:"#9D9EA0",fontSize:12}},data:legendData},{gridIndex:1,type:"category",inverse:!1,position:"left",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!0,textStyle:{color:"#9ec9ff",fontSize:12,align:"center"}},data:_.map(legendData,function(item){return{value:item,textStyle:{align:"center"}}})},{gridIndex:2,type:"category",inverse:!1,position:"left",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1,textStyle:{color:"#9D9EA0",fontSize:12}},data:legendData}],series:[{name:"男",type:"bar",barGap:"40%",barWidth:"40%",label:{normal:{show:!0,position:"left"}},itemStyle:{normal:{color:"#3A87F9"},emphasis:{color:"#08C7AE"}},data:ageData[1]},{name:"女",type:"bar",barGap:"40%",barWidth:"40%",xAxisIndex:2,yAxisIndex:2,label:{normal:{show:!0,position:"right"},emphasis:{show:!0,position:"right"}},itemStyle:{normal:{color:"#FF5F8F"},emphasis:{color:"#F94646"}},data:ageData[0]}]}};option&&"object"===(void 0===option?"undefined":$traceurRuntime.typeof(option))&&(myChart.clear(),myChart.setOption(option,!0)),$(window).resize(function(){myChart.resize()});var app={currentIndex:-1},that=this;window.agetime?_.map(ageBarHighInterval,function(item){window.clearInterval(item)}):(window.ageBarHighInterval=[],window.agetime=!1),ageBarHighInterval.push(setInterval(function(){agetime=!0;var index=that.random(0,1),dataLen=ageData[index].length;myChart.dispatchAction({type:"downplay",seriesIndex:index,dataIndex:app.currentIndex}),app.currentIndex=that.random(0,dataLen),myChart.dispatchAction({type:"showTip"==window.isHideTooltip?"highlight":"downplay",seriesIndex:index,dataIndex:app.currentIndex}),myChart.dispatchAction({type:window.isHideTooltip,seriesIndex:index,dataIndex:app.currentIndex})},1e3))}},{})}(),$__export("staticTwo",staticTwo)}}}),$__System.registerDynamic("92",[],!0,function($__require,exports,module){this||self;module.exports='<div class="mask"></div>\r\n<div class="row two-page">\r\n    <div class="page-title">\r\n        <img class="icon-title" src=\'./src/static/images/content/icon_details.png\'>\r\n        <pre class="page-title">重点人群：</pre>\r\n        \x3c!-- <img class="icon-title icon-del two-close" src=\'./src/static/images/content/icon_delete.png\'> --\x3e\r\n    </div>\r\n    <div class="page-content">\r\n        <div class="page-charts-2"></div>\r\n    </div>\r\n</div>\r\n      '}),$__System.register("93",["92","88"],function($__export){"use strict";var three,service,staticThree;return{setters:[function($__m){three=$__m.default},function($__m){service=$__m.default}],execute:function(){staticThree=function(){function staticThree(){}return $traceurRuntime.createClass(staticThree,{init:function(){var that=this;$(".page-3").empty().append(three),that.getData();var keytime=that.random(6e4,18e4);setInterval(function(){that.getData()},keytime);console.log("重点人群饼图获取数据时间",keytime)},getData:function(){var that=this;service.requestKeyPeople(lscache.get("userName").communtiyCode,function(data){var chartsData=[{value:data.data[0].drugAddicts,name:"吸毒人员"},{value:data.data[0].communityCorrection,name:"社区矫正人员"},{value:data.data[0].fullRelease,name:"刑满释放人员"},{value:data.data[0].mentalDisorder,name:"精神障碍人员"},{value:data.data[0].cult,name:"邪教人员"},{value:data.data[0].petition,name:"信访人员"},{value:data.data[0].litigation,name:"涉法涉诉信访人员"},{value:data.data[0].dangerousGoods,name:"危险品从业人员"}];that.createBars(chartsData)})},random:function(lower,upper){return Math.floor(Math.random()*(upper-lower+1))+lower},createBars:function(data){var dom=$(".page-charts-2")[0],myChart=echarts.init(dom),chartsData=data,option={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},color:["rgb(254,80,73)","rgb(249,191,81)","rgb(0,214,150)","rgb(79,205,255)","rgb(58,135,250)","rgb(242,118,90)","rgb(255,95,144)"],series:[{name:"重点人群",type:"pie",radius:"55%",center:["50%","55%"],data:chartsData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{formatter:function(params){return params.data.name+":"+params.data.value+"人"},fontSize:13}}]};option&&"object"===(void 0===option?"undefined":$traceurRuntime.typeof(option))&&(myChart.clear(),myChart.setOption(option,!0)),$(window).resize(function(){myChart.resize()});var app={currentIndex:-1},that=this;window.keytime?_.map(keyPieHighInterval,function(item){window.clearInterval(item)}):(window.keyPieHighInterval=[],window.keytime=!1),keyPieHighInterval.push(setInterval(function(){keytime=!0;chartsData.length;myChart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:app.currentIndex}),app.currentIndex=that.random(0,6),myChart.dispatchAction({type:"showTip"==window.isHideTooltip?"highlight":"downplay",seriesIndex:0,dataIndex:app.currentIndex}),myChart.dispatchAction({type:window.isHideTooltip,seriesIndex:0,dataIndex:app.currentIndex})},1e3))}},{})}(),$__export("staticThree",staticThree)}}}),$__System.registerDynamic("94",[],!0,function($__require,exports,module){this||self;module.exports='<div class="mask"></div>\r\n<div class="row two-page">\r\n  <div class="page-title">\r\n    <img class="icon-title" src=\'./src/static/images/content/icon_details.png\'>\r\n    <pre class="page-title">人脸识别：</pre>\r\n    \x3c!-- <img class="icon-title icon-del two-close" src=\'./src/static/images/content/icon_delete.png\'> --\x3e\r\n  </div>\r\n  <div class="page-content">\r\n    <div class="page-charts-3"></div>\r\n  </div>\r\n</div>'}),$__System.register("95",["94","88"],function($__export){"use strict";var five,service,staticFive;return{setters:[function($__m){five=$__m.default},function($__m){service=$__m.default}],execute:function(){staticFive=function(){function staticFive(){}return $traceurRuntime.createClass(staticFive,{init:function(){var that=this;$(".page-5-1").empty().append(five),that.getData();var fiveTime=that.random(6e4,18e4);setInterval(function(){that.getData()},fiveTime);console.log("重点人群饼图获取数据时间",fiveTime)},getData:function(){var that=this;service.requestKeyPeople(lscache.get("userName").communtiyCode,function(data){var chartsData=[{value:data.data[0].drugAddicts,name:"吸毒人员"},{value:data.data[0].communityCorrection,name:"社区矫正人员"},{value:data.data[0].fullRelease,name:"刑满释放人员"},{value:data.data[0].mentalDisorder,name:"精神障碍人员"},{value:data.data[0].cult,name:"邪教人员"},{value:data.data[0].petition,name:"信访人员"},{value:data.data[0].litigation,name:"涉法涉诉信访人员"},{value:data.data[0].dangerousGoods,name:"危险品从业人员"}];that.createBars(chartsData)})},random:function(lower,upper){return Math.floor(Math.random()*(upper-lower+1))+lower},createBars:function(data){var dom=$(".page-charts-3")[0],myChart=echarts.init(dom),chartsData=data,option={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},color:["rgb(254,80,73)","rgb(249,191,81)","rgb(0,214,150)","rgb(79,205,255)","rgb(58,135,250)","rgb(242,118,90)","rgb(255,95,144)"],series:[{name:"重点人群",type:"pie",radius:"55%",center:["50%","55%"],data:chartsData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},label:{formatter:function(params){return params.data.name+":"+params.data.value+"人"},fontSize:13}}]};option&&"object"===(void 0===option?"undefined":$traceurRuntime.typeof(option))&&(myChart.clear(),myChart.setOption(option,!0)),$(window).resize(function(){myChart.resize()});var app={currentIndex:-1},that=this;window.fiveTime?_.map(fiveInterval,function(item){window.clearInterval(item)}):(window.fiveInterval=[],window.fiveTime=!1),fiveInterval.push(setInterval(function(){fiveTime=!0;chartsData.length;myChart.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:app.currentIndex}),app.currentIndex=that.random(0,6),myChart.dispatchAction({type:"showTip"==window.isHideTooltip?"highlight":"downplay",seriesIndex:0,dataIndex:app.currentIndex}),myChart.dispatchAction({type:window.isHideTooltip,seriesIndex:0,dataIndex:app.currentIndex})},1e3))}},{})}(),$__export("staticFive",staticFive)}}}),$__System.registerDynamic("96",[],!0,function($__require,exports,module){this||self;module.exports='<div class="mask"></div>\r\n<div class="row six-page">\r\n  <div class="page-title">\r\n    <img class="icon-title" src=\'./src/static/images/content/icon_details.png\'>\r\n    <pre class="page-title">社区工作动态：</pre>\r\n    \x3c!-- <img class="icon-title icon-del six-close" src=\'./src/static/images/content/icon_delete.png\'> --\x3e\r\n    <span class="community-more" style="position: absolute;right: 6px;cursor: pointer;">更多...</span>\r\n  </div>\r\n  <div class="page-content six-content">\r\n    {{#if_list list}}\r\n    <div class="no-data">暂无数据</div>\r\n    {{else}} {{#each list}}\r\n    <div class="six-item" data-pkid="{{id}}">\r\n      <div class="item-title">\r\n        {{#isPic coverUuid}}\r\n        <img src="{{coverUuid}}"> {{else}}\r\n        <img src="./src/static/images/content/hd.png"> {{/isPic}}\r\n      </div>\r\n      <div class="item-content">\r\n        <div class="item-content-title">{{title}}</div>\r\n        <div class="item-content-date">{{creatTime}}</div>\r\n      </div>\r\n    </div>\r\n    {{/each}} {{/if_list}}\r\n  </div>\r\n</div>\r\n'}),$__System.registerDynamic("97",[],!0,function($__require,exports,module){this||self;module.exports='<div class="notice-dialog">\r\n    <div class="dialog-top">\r\n        <div class="top-title">{{title}}</div>\r\n        <img class="dialog-close" src="../../../src/static/images/content/icon_delete.png">\r\n    </div>\r\n    <div class="dialog-mid">\r\n        <div class="notice-info-title">\r\n            <div>作者：{{author}}</div>\r\n            <div>来源：{{type}}</div>\r\n            <div>时间：{{creatTime}}</div>\r\n        </div>\r\n        <div class="notice-info-content"></div>\r\n    </div>\r\n</div>'}),$__System.register("98",["96","88","97"],function($__export){"use strict";var six,service,noticeInfo,staticSix;return{setters:[function($__m){six=$__m.default},function($__m){service=$__m.default},function($__m){noticeInfo=$__m.default}],execute:function(){staticSix=function(){function staticSix(){}return $traceurRuntime.createClass(staticSix,{init:function(){var template=Handlebars.compile(six),code=lscache.get("config").config.newCommunity;service.requestCommNotice(code,function(data){Handlebars.registerHelper("isPic",function(v1,options){return null!=v1?(this.coverUuid=constants.SERVER_FILE_URL+this.coverUuid,options.fn(this)):options.inverse(this)}),Handlebars.registerHelper("if_list",function(v1,options){return null==v1||0==v1.length?options.fn(this):options.inverse(this)});var html=template(data.data);$(".page-6").empty().append(html),Scrollbar.use(OverscrollPlugin),Scrollbar.init(document.querySelector(".six-content"),{plugins:{overscroll:{effect:"glow"}}}).track.xAxis.hide(),$(".info-modal").modal({ready:function(modal,trigger){$(".modal-overlay").css({display:"block"})}}),$(".six-item").on("click",function(event){$("#info-modal").modal("open"),$(".modal-overlay").css({display:"none"}),window.isHideTooltip="hideTip",$("#real-time-video1").css("display","none"),$("#real-time-video2").css("display","none"),$("#real-time-video3").css("display","none"),service.requestInfoContent(event.currentTarget.dataset.pkid,function(data){var template=Handlebars.compile(noticeInfo),html=template(data.data);$(".info-modal").empty().append(html),$(".notice-info-content").empty().append(data.data.content),$(".modal-overlay").on("click",function(evnet){$("#real-time-video1").css("display","block"),$("#real-time-video2").css("display","block"),$("#real-time-video3").css("display","block"),window.isHideTooltip="showTip"}),Scrollbar.use(OverscrollPlugin),Scrollbar.init(document.querySelector(".notice-info-content"),{plugins:{overscroll:{effect:"glow"}}}).track.xAxis.hide()})}),$(".community-more").on("click",function(event){window.open("src/static/newWindow/newCommunity.html?code="+lscache.get("config").config.newCommunity)})})}},{})}(),$__export("staticSix",staticSix)}}}),$__System.registerDynamic("99",[],!0,function($__require,exports,module){this||self;module.exports='<div class="mask"></div>\r\n<div class="row seven-page">\r\n  <div class="page-title">\r\n    <img class="icon-title" src=\'./src/static/images/content/icon_details.png\'>\r\n    <pre class="page-title">微信上报实时信息：</pre>\r\n    \x3c!-- <img class="icon-title icon-del seven-close" src=\'./src/static/images/content/icon_delete.png\'> --\x3e\r\n    <span class="community-event" style="position: absolute;right: 6px;cursor: pointer;">更多...</span>\r\n  </div>\r\n  <div class="page-content">\r\n    <div class="info-scroll">\r\n      {{#if_list list}}\r\n      <div class="no-data">暂无数据</div>\r\n      {{else}}\r\n      <ul>\r\n        {{#each list}}\r\n        <li>\r\n          <div class="info-item-content" data-lonlat="{{lonlat}}">\r\n            <span class="info-item-unit">[{{unitName}}]</span>\r\n            <span class="info-item-title">{{expand1}}</span>\r\n          </div>\r\n          <span style="float: right">{{times}}</span>\r\n        </li>\r\n        {{/each}}\r\n      </ul>\r\n      {{/if_list}}\r\n    </div>\r\n  </div>\r\n</div>\r\n'}),$__System.register("9a",[],function($__export){"use strict";var ajaxHttp,ajaxGet,ajaxPost,ajaxGetFunc,ajaxAll,defaultFunc;return{setters:[],execute:function(){axios.defaults.baseURL=constants.SERVER_URL,axios.defaults.withCredentials=!0,axios.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",ajaxHttp=function(params){if("get"==params.type)ajaxGet(params.url,{params:params.data},params.successFunc,params.errorFunc);else{var config={};ajaxPost(params.url,params.data,config,params.successFunc,params.errorFunc)}},ajaxGet=function(url,config){var successFunc=void 0!==arguments[2]?arguments[2]:defaultFunc,errorFunc=void 0!==arguments[3]?arguments[3]:defaultFunc;axios.get(url,config).then(function(res){200===res.status?(successFunc(res.data),200!=res.data.code&&console.log(res.data.message)):errorFunc(res.data)})},ajaxPost=function(url,data,config){var successFunc=void 0!==arguments[3]?arguments[3]:defaultFunc,errorFunc=void 0!==arguments[4]?arguments[4]:defaultFunc;axios.post(url,data,config).then(function(res){200===res.status?(successFunc(res.data),200!=res.data.code&&console.log(res.data.message)):errorFunc(res.data)})},ajaxGetFunc=function(url,config){return axios.get(url,config)},ajaxAll=function(params){axios.all(params.getFunc).then(axios.spread(function(){for(var response=[],$__2=0;$__2<arguments.length;$__2++)response[$__2]=arguments[$__2];for(var data=[],i=0;i<response.length;i++)200==response[i].status&&data.push(response[i].data);params.successFunc&&params.successFunc(data)}))},defaultFunc=function(){},$__export("default",{ajaxHttp:ajaxHttp,ajaxGet:ajaxGet,ajaxPost:ajaxPost,ajaxGetFunc:ajaxGetFunc,ajaxAll:ajaxAll})}}}),$__System.register("88",["9a"],function($__export){"use strict";var ajaxOper;return{setters:[function($__m){ajaxOper=$__m.default}],execute:function(){$__export("default",{requestLogout:function(successFunc){ajaxOper.ajaxHttp({type:"post",url:"/communtiy/basic/logout",successFunc:function(data){successFunc&&successFunc(data)}})},requestCommunityInfo:function(code,successFunc){ajaxOper.ajaxHttp({type:"get",url:"/community/basic/county/info/findByCode?code="+code,successFunc:function(data){successFunc&&successFunc(data)}})},requestInfo:function(code,successFunc){ajaxOper.ajaxHttp({type:"get",url:"/community/basic/introduce/findByCode?code="+code,successFunc:function(data){successFunc&&successFunc(data)}})},requestAge:function(communityId,successFunc){ajaxOper.ajaxHttp({type:"get",url:"/communtiy/basic/data/age/findByCode?communityCode="+communityId,successFunc:function(data){successFunc&&successFunc(data)}})},requestKeyPeople:function(communityId,successFunc){ajaxOper.ajaxHttp({type:"get",url:"/communtiy/basic/data/keycrowd/findByCode?communityCode="+communityId,successFunc:function(data){successFunc&&successFunc(data)}})},requestCommNotice:function(catalogId,successFunc){ajaxOper.ajaxHttp({type:"get",url:"/communtiy/buss/notice/findByCatalogIds?page=1&pageSize=10&catalogIds="+catalogId,successFunc:function(data){successFunc&&successFunc(data)}})},requestMatterRecord:function(cloudSign,successFunc){ajaxOper.ajaxHttp({type:"get",url:"/communtiy/buss/matter/publics/front/search/findAllNoDealFront?cloudSign="+cloudSign+"&page=1&pageSize=10&orderBy=addTime&order=desc",successFunc:function(data){successFunc&&successFunc(data)}})},requestInfoContent:function(noticeId,successFunc){ajaxOper.ajaxHttp({type:"get",url:"/communtiy/buss/notice/findById?noticeId="+noticeId,successFunc:function(data){successFunc&&successFunc(data)}})},getToken:function(successFunc){ajaxOper.ajaxHttp({data:{url:"http://60.165.152.5:93/home/ssoTokenKey.action"},url:"http://61.178.131.29:8024/communtiy/buss/cache/findCache/token/0",successFunc:function(data){successFunc&&successFunc(data)}})},getCommunityList:function(code,successFunc){ajaxOper.ajaxHttp({type:"get",url:"/community/basic/county/video/findCommunityByCode?code="+code,successFunc:function(data){successFunc&&successFunc(data)}})},faceRecognition:function(code,successFunc){ajaxOper.ajaxHttp({type:"get",url:"/communtiy/basic/data/party/findByCode?communityCode="+code,successFunc:function(data){successFunc&&successFunc(data)}})},getVideoList:function(code,successFunc){ajaxOper.ajaxHttp({type:"get",url:"/community/basic/county/video/findByCode",data:{page:1,pageSize:3,code:code},successFunc:function(data){successFunc&&successFunc(data)}})}})}}}),$__System.register("9b",["99","88"],function($__export){"use strict";var seven,service,staticSeven;return{setters:[function($__m){seven=$__m.default},function($__m){service=$__m.default}],execute:function(){staticSeven=function(){function staticSeven(){}return $traceurRuntime.createClass(staticSeven,{init:function(){var template=Handlebars.compile(seven);service.requestMatterRecord(lscache.get("userName").communtiyCode,function(data){function addMarkerEvent(){mapApi.interactionOper.addSelectAction({layers:mapApi.mapOper.layerApi.getLayerByName("默认标记图层"),selectFunc:function(evt){if(evt.selected.length>0&&!isMapDrawing&&(console.log("点击marker"),evt.selected[0].get("attr"))){var attr=(evt.mapBrowserEvent.coordinate,evt.selected[0].get("attr"));content.innerHTML="<p>事件："+attr.matterDesc+"</p><p>地址："+attr.addressDesc+"</p>";var lonlat=_.cloneDeep(attr.lonlat);overlay.setPosition(lonlat),mapApi.map.addOverlay(overlay)}}})}Handlebars.registerHelper("if_list",function(v1,options){return null==v1||0==v1.length?options.fn(this):(_.map(this.list,function(item){var timeagoInstance=timeago(null,moment().format("YYYY-MM-DD HH:mm:ss"));item.times=timeagoInstance.format(item.addTime,"zh_CN"),item.lonlat=[item.positionX,item.positionY]}),options.inverse(this))});var html=template(data.data);$(".page-7").empty().append(html),$("div.info-scroll").scrollTop({speed:60}),$(".community-event").on("click",function(event){window.open("src/static/weChat/weChat.html?code="+lscache.get("userName").communtiyCode)});var container=document.getElementById("popup"),content=document.getElementById("popup-content"),closer=document.getElementById("popup-closer");closer.onclick=function(evt){return overlay.setPosition(void 0),closer.blur(),addMarkerEvent(),!1},window.overlay=new ol.Overlay({element:container,autoPan:!0,offset:[1,-13],autoPanAnimation:{duration:250}});var markersInfo=[];_.map(data.data.list,function(item,index){item.positionX&&markersInfo.push({type:"curMarker",lon:item.positionX,lat:item.positionY,attr:{matterDesc:item.matterDesc,id:item.id,addressDesc:item.addressDesc,lonlat:[item.positionX,item.positionY]}})}),setTimeout(function(){mapApi.markerApi.addMarkers(markersInfo)},300),addMarkerEvent(),$(".info-item-content").on("click",function(event){var lonlat=$(this).attr("data-lonlat").split(",");lonlat=[parseFloat(lonlat[0]),parseFloat(lonlat[1])],lonlat[0]&&lonlat[1]&&mapApi.mapOper.setCenterAndZoom(lonlat,15)})})}},{})}(),$__export("staticSeven",staticSeven)}}}),$__System.register("9c",["8d","8f","91","93","95","98","9b"],function($__export){"use strict";var staticOne,staticTwo,staticThree,staticFive,staticSix,staticSeven;return{setters:[function($__m){$__export({topLayout:$__m.topLayout})},function($__m){staticOne=$__m.staticOne},function($__m){staticTwo=$__m.staticTwo},function($__m){staticThree=$__m.staticThree},function($__m){staticFive=$__m.staticFive},function($__m){staticSix=$__m.staticSix},function($__m){staticSeven=$__m.staticSeven}],execute:function(){(new staticOne).init(),(new staticTwo).init(),(new staticThree).init(),(new staticFive).init(),(new staticSix).init(),(new staticSeven).init()}}}),$__System.register("a",["8a","9c"],function($__export){"use strict";var mapIndex,topLayout;return{setters:[function($__m){mapIndex=$__m.default},function($__m){topLayout=$__m.topLayout}],execute:function(){(new topLayout).init()}}})})(function(factory){"function"==typeof define&&define.amd?define([],factory):"object"==typeof module&&module.exports&&"function"==typeof require?module.exports=factory():factory()});
//# sourceMappingURL=out-static.js.map